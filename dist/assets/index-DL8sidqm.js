const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SuperAdminDashboard-BVbYrsF0.js","assets/userService-CF_Ufzlf.js","assets/building-DlN8HlPJ.js","assets/file-text-CIYiZE-Y.js","assets/ApplicationDetailView-BbGvLvgh.js","assets/upload-CA7-GPEs.js","assets/trash-2-wanxsFLc.js","assets/dollar-sign-Dv4Qb7XK.js","assets/save-BKvBBKs-.js","assets/plus-7Y37wSRt.js","assets/EditUserModal-DTQLbi1n.js","assets/CompanyAdminDashboard-CwozJvI2.js","assets/wrench-C8_VYHIS.js","assets/file-check-DflsTgv3.js","assets/CompanySettings-COL48-eO.js","assets/pen-tool-D5cRxhsD.js","assets/DriverDashboard-CQ4i3L5n.js","assets/DriverApplicationWizard-DZVdNoML.js","assets/StepReview-Dp2lNs8u.js","assets/PublicApplyHandler-B_xi3t0x.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qm={exports:{}},Yl={};var Vv;function NS(){if(Vv)return Yl;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var Pv;function DS(){return Pv||(Pv=1,qm.exports=NS()),qm.exports}var b=DS(),Hm={exports:{}},Se={};var Lv;function OS(){if(Lv)return Se;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function D(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,L={};function W(k,Z,ie){this.props=k,this.context=Z,this.refs=L,this.updater=ie||z}W.prototype.isReactComponent={},W.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},W.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ee(){}ee.prototype=W.prototype;function re(k,Z,ie){this.props=k,this.context=Z,this.refs=L,this.updater=ie||z}var le=re.prototype=new ee;le.constructor=re,G(le,W.prototype),le.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(k,Z,ie){var ue=ie.ref;return{$$typeof:r,type:k,key:Z,ref:ue!==void 0?ue:null,props:ie}}function M(k,Z){return R(k.type,Z,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function P(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return Z[ie]})}var x=/\/+/g;function je(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):Z.toString(36)}function Te(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ge,ge):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,Z,ie,ue,be){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case r:case e:Be=!0;break;case v:return Be=k._init,K(Be(k._payload),Z,ie,ue,be)}}if(Be)return be=be(k),Be=ue===""?"."+je(k,0):ue,de(be)?(ie="",Be!=null&&(ie=Be.replace(x,"$&/")+"/"),K(be,Z,ie,"",function(Os){return Os})):be!=null&&(O(be)&&(be=M(be,ie+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(x,"$&/")+"/")+Be)),Z.push(be)),1;Be=0;var Vt=ue===""?".":ue+":";if(de(k))for(var lt=0;lt<k.length;lt++)ue=k[lt],xe=Vt+je(ue,lt),Be+=K(ue,Z,ie,xe,be);else if(lt=D(k),typeof lt=="function")for(k=lt.call(k),lt=0;!(ue=k.next()).done;)ue=ue.value,xe=Vt+je(ue,lt++),Be+=K(ue,Z,ie,xe,be);else if(xe==="object"){if(typeof k.then=="function")return K(Te(k),Z,ie,ue,be);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Be}function oe(k,Z,ie){if(k==null)return k;var ue=[],be=0;return K(k,ue,"","",function(xe){return Z.call(ie,xe,be++)}),ue}function me(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ke={map:oe,forEach:function(k,Z,ie){oe(k,function(){Z.apply(this,arguments)},ie)},count:function(k){var Z=0;return oe(k,function(){Z++}),Z},toArray:function(k){return oe(k,function(Z){return Z})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=T,Se.Children=Ke,Se.Component=W,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=re,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,Z,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=G({},k.props),be=k.key;if(Z!=null)for(xe in Z.key!==void 0&&(be=""+Z.key),Z)!C.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(ue[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)ue.children=ie;else if(1<xe){for(var Be=Array(xe),Vt=0;Vt<xe;Vt++)Be[Vt]=arguments[Vt+2];ue.children=Be}return R(k.type,be,ue)},Se.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,Z,ie){var ue,be={},xe=null;if(Z!=null)for(ue in Z.key!==void 0&&(xe=""+Z.key),Z)C.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=Z[ue]);var Be=arguments.length-2;if(Be===1)be.children=ie;else if(1<Be){for(var Vt=Array(Be),lt=0;lt<Be;lt++)Vt[lt]=arguments[lt+2];be.children=Vt}if(k&&k.defaultProps)for(ue in Be=k.defaultProps,Be)be[ue]===void 0&&(be[ue]=Be[ue]);return R(k,xe,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=O,Se.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:me}},Se.memo=function(k,Z){return{$$typeof:p,type:k,compare:Z===void 0?null:Z}},Se.startTransition=function(k){var Z=I.T,ie={};I.T=ie;try{var ue=k(),be=I.S;be!==null&&be(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ge,Ne)}catch(xe){Ne(xe)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),I.T=Z}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(k){return I.H.use(k)},Se.useActionState=function(k,Z,ie){return I.H.useActionState(k,Z,ie)},Se.useCallback=function(k,Z){return I.H.useCallback(k,Z)},Se.useContext=function(k){return I.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,Z){return I.H.useDeferredValue(k,Z)},Se.useEffect=function(k,Z){return I.H.useEffect(k,Z)},Se.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(k,Z,ie){return I.H.useImperativeHandle(k,Z,ie)},Se.useInsertionEffect=function(k,Z){return I.H.useInsertionEffect(k,Z)},Se.useLayoutEffect=function(k,Z){return I.H.useLayoutEffect(k,Z)},Se.useMemo=function(k,Z){return I.H.useMemo(k,Z)},Se.useOptimistic=function(k,Z){return I.H.useOptimistic(k,Z)},Se.useReducer=function(k,Z,ie){return I.H.useReducer(k,Z,ie)},Se.useRef=function(k){return I.H.useRef(k)},Se.useState=function(k){return I.H.useState(k)},Se.useSyncExternalStore=function(k,Z,ie){return I.H.useSyncExternalStore(k,Z,ie)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.0",Se}var Uv;function Xp(){return Uv||(Uv=1,Hm.exports=OS()),Hm.exports}var j=Xp();const Cs=zT(j);var Fm={exports:{}},Xl={},Gm={exports:{}},$m={};var jv;function MS(){return jv||(jv=1,(function(r){function e(K,oe){var me=K.length;K.push(oe);e:for(;0<me;){var Ne=me-1>>>1,Ke=K[Ne];if(0<o(Ke,oe))K[Ne]=oe,K[me]=Ke,me=Ne;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],me=K.pop();if(me!==oe){K[0]=me;e:for(var Ne=0,Ke=K.length,k=Ke>>>1;Ne<k;){var Z=2*(Ne+1)-1,ie=K[Z],ue=Z+1,be=K[ue];if(0>o(ie,me))ue<Ke&&0>o(be,ie)?(K[Ne]=be,K[ue]=me,Ne=ue):(K[Ne]=ie,K[Z]=me,Ne=Z);else if(ue<Ke&&0>o(be,me))K[Ne]=be,K[ue]=me,Ne=ue;else break e}}return oe}function o(K,oe){var me=K.sortIndex-oe.sortIndex;return me!==0?me:K.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,T=null,A=3,D=!1,z=!1,G=!1,L=!1,W=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function le(K){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=K)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function de(K){if(G=!1,le(K),!z)if(n(g)!==null)z=!0,ge||(ge=!0,P());else{var oe=n(p);oe!==null&&Te(de,oe.startTime-K)}}var ge=!1,I=-1,C=5,R=-1;function M(){return L?!0:!(r.unstable_now()-R<C)}function O(){if(L=!1,ge){var K=r.unstable_now();R=K;var oe=!0;try{e:{z=!1,G&&(G=!1,ee(I),I=-1),D=!0;var me=A;try{t:{for(le(K),T=n(g);T!==null&&!(T.expirationTime>K&&M());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,A=T.priorityLevel;var Ke=Ne(T.expirationTime<=K);if(K=r.unstable_now(),typeof Ke=="function"){T.callback=Ke,le(K),oe=!0;break t}T===n(g)&&s(g),le(K)}else s(g);T=n(g)}if(T!==null)oe=!0;else{var k=n(p);k!==null&&Te(de,k.startTime-K),oe=!1}}break e}finally{T=null,A=me,D=!1}oe=void 0}}finally{oe?P():ge=!1}}}var P;if(typeof re=="function")P=function(){re(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,je=x.port2;x.port1.onmessage=O,P=function(){je.postMessage(null)}}else P=function(){W(O,0)};function Te(K,oe){I=W(function(){K(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var me=A;A=oe;try{return K()}finally{A=me}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=A;A=K;try{return oe()}finally{A=me}},r.unstable_scheduleCallback=function(K,oe,me){var Ne=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=me+Ke,K={id:v++,callback:oe,priorityLevel:K,startTime:me,expirationTime:Ke,sortIndex:-1},me>Ne?(K.sortIndex=me,e(p,K),n(g)===null&&K===n(p)&&(G?(ee(I),I=-1):G=!0,Te(de,me-Ne))):(K.sortIndex=Ke,e(g,K),z||D||(z=!0,ge||(ge=!0,P()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var oe=A;return function(){var me=A;A=oe;try{return K.apply(this,arguments)}finally{A=me}}}})($m)),$m}var zv;function kS(){return zv||(zv=1,Gm.exports=MS()),Gm.exports}var Qm={exports:{}},Zt={};var Bv;function VS(){if(Bv)return Zt;Bv=1;var r=Xp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Zt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},Zt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):v==="script"&&s.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Zt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,p){return g(p)},Zt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var qv;function PS(){if(qv)return Qm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qm.exports=VS(),Qm.exports}var Hv;function LS(){if(Hv)return Xl;Hv=1;var r=kS(),e=Xp(),n=PS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case W:return"Profiler";case L:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case re:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var Te=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ne=[],Ke=-1;function k(t){return{current:t}}function Z(t){0>Ke||(t.current=Ne[Ke],Ne[Ke]=null,Ke--)}function ie(t,i){Ke++,Ne[Ke]=t.current,t.current=i}var ue=k(null),be=k(null),xe=k(null),Be=k(null);function Vt(t,i){switch(ie(xe,i),ie(be,t),ie(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ie(ue,t)}function lt(){Z(ue),Z(be),Z(xe)}function Os(t){t.memoizedState!==null&&ie(Be,t);var i=ue.current,a=sv(i,t.type);i!==a&&(ie(be,t),ie(ue,a))}function ba(t){be.current===t&&(Z(ue),Z(be)),Be.current===t&&(Z(Be),Gl._currentValue=me)}var wa,Aa;function gr(t){if(wa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);wa=i&&i[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+t+Aa}var Go=!1;function Ms(t,i){if(!t||Go)return"";Go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var F=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){F=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){F=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),H=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Go=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gr(a):""}function $o(t,i){switch(t.tag){case 26:case 27:case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return t.child!==i&&i!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Ms(t.type,!1);case 11:return Ms(t.type.render,!1);case 1:return Ms(t.type,!0);case 31:return gr("Activity");default:return""}}function Qo(t){try{var i="",a=null;do i+=$o(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,Ff=r.unstable_shouldYield,Gu=r.unstable_requestPaint,sn=r.unstable_now,ks=r.unstable_getCurrentPriorityLevel,Ko=r.unstable_ImmediatePriority,Yo=r.unstable_UserBlockingPriority,xi=r.unstable_NormalPriority,Gf=r.unstable_LowPriority,$u=r.unstable_IdlePriority,Qu=r.log,Ku=r.unstable_setDisableYieldValue,Yn=null,Ht=null;function Mn(t){if(typeof Qu=="function"&&Ku(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var _t=Math.clz32?Math.clz32:Xu,Yu=Math.log,Sa=Math.LN2;function Xu(t){return t>>>=0,t===0?32:31-(Yu(t)/Sa|0)|0}var yr=256,Vs=262144,At=4194304;function _r(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=_r(l):(_&=w,_!==0?f=_r(_):a||(a=w&~t,a!==0&&(f=_r(a))))):(w=l&~d,w!==0?f=_r(w):_!==0?f=_r(_):a||(a=l&~t,a!==0&&(f=_r(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $f(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Er(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ps(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-_t(a),te=1<<X;w[X]=0,N[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&Ls(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ls(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Wo(t,i){var a=i&-i;return a=(a&42)!==0?1:Us(a),(a&(t.suspendedLanes|i))!==0?0:a}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ju(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:xv(t.type))}function Wn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Jn=Math.random().toString(36).slice(2),St="__reactFiber$"+Jn,jt="__reactProps$"+Jn,Tr="__reactContainer$"+Jn,Ra="__reactEvents$"+Jn,Kf="__reactListeners$"+Jn,Zu="__reactHandles$"+Jn,ec="__reactResources$"+Jn,br="__reactMarker$"+Jn;function Ca(t){delete t[St],delete t[jt],delete t[Ra],delete t[Kf],delete t[Zu]}function wr(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Tr]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=fv(t);t!==null;){if(a=t[St])return a;t=fv(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[St]||t[Tr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ar(t){var i=t[ec];return i||(i=t[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[br]=!0}var Jo=new Set,Zo={};function Sr(t,i){Rr(t,i),Rr(t+"Capture",i)}function Rr(t,i){for(Zo[t]=i,t=0;t<i.length;t++)Jo.add(i[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function tc(t){return wt.call(nl,t)?!0:wt.call(tl,t)?!1:el.test(t)?nl[t]=!0:(tl[t]=!0,!1)}function xa(t,i,a){if(tc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ct(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Ii(t)?"checked":"value";t._valueTracker=rl(t,i,""+t[i])}}function js(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function cn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ia(t,i,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?il(t,_,zt(i)):a!=null?il(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+zt(w):t.removeAttribute("name")}function nc(t,i,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function il(t,i,a){i==="number"&&Cr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function rc(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Di(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ic.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function al(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&sl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&sl(t,d,i[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Oi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var ol=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,xr=null;function Bs(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&js(l)}break e;case"textarea":rc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ni(t,!!a.multiple,i,!1)}}}var Oa=!1;function ki(t,i,a){if(Oa)return t(i,a);Oa=!0;try{var l=t(i);return l}finally{if(Oa=!1,(Mi!==null||xr!==null)&&(Jc(),Mi&&(i=Mi,t=xr,xr=Mi=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function er(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Pn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{qs=!1}var Ir=null,ll=null,Hs=null;function ul(){if(Hs)return Hs;var t,i=ll,a=i.length,l,f="value"in Ir?Ir.value:Ir.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Hs=f.slice(t,1<l?1-l:void 0)}function Fs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wr(){return!0}function tr(){return!1}function Ft(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wr:tr,this.isPropagationStopped=tr,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),i}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Ft(Jr),Vi=T({},Jr,{view:0,detail:0}),cl=Ft(Vi),Pi,Ma,Dr,ka=T({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(Pi=t.screenX-Dr.screenX,Ma=t.screenY-Dr.screenY):Ma=Pi=0,Dr=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),hl=Ft(ka),Gs=T({},ka,{dataTransfer:0}),ac=Ft(Gs),oc=T({},Vi,{relatedTarget:0}),$s=Ft(oc),fl=T({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=Ft(fl),Va=T({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uc=Ft(Va),cc=T({},Jr,{data:0}),Or=Ft(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=dc[t])?!!i[t]:!1}function Li(){return mc}var an=T({},Vi,{key:function(t){if(t.key){var i=hc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pc=Ft(an),gc=T({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=Ft(gc),c=T({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),y=Ft(c),E=T({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(E),B=T({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(B),ae=T({},Jr,{newState:0,oldState:0}),Re=Ft(ae),vt=[9,13,27,32],Ge=Pn&&"CompositionEvent"in window,ut=null;Pn&&"documentMode"in document&&(ut=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ut,Mr=Pn&&(!Ge||ut&&8<ut&&11>=ut),nr=" ",rr=!1;function Qs(t,i){switch(t){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function eA(t,i){switch(t){case"compositionend":return Pa(i);case"keypress":return i.which!==32?null:(rr=!0,nr);case"textInput":return t=i.data,t===nr&&rr?null:t;default:return null}}function tA(t,i){if(La)return t==="compositionend"||!Ge&&Qs(t,i)?(t=ul(),Hs=ll=Ir=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Mr&&i.locale!=="ko"?null:i.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nA[t.type]:i==="textarea"}function gy(t,i,a,l){Mi?xr?xr.push(l):xr=[l]:Mi=l,i=sh(i,"onChange"),0<i.length&&(a=new Nr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var dl=null,ml=null;function rA(t){J0(t,0)}function yc(t){var i=Tn(t);if(js(i))return t}function yy(t,i){if(t==="change")return i}var _y=!1;if(Pn){var Yf;if(Pn){var Xf="oninput"in document;if(!Xf){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Xf=typeof vy.oninput=="function"}Yf=Xf}else Yf=!1;_y=Yf&&(!document.documentMode||9<document.documentMode)}function Ey(){dl&&(dl.detachEvent("onpropertychange",Ty),ml=dl=null)}function Ty(t){if(t.propertyName==="value"&&yc(ml)){var i=[];gy(i,ml,t,Vn(t)),ki(rA,i)}}function iA(t,i,a){t==="focusin"?(Ey(),dl=i,ml=a,dl.attachEvent("onpropertychange",Ty)):t==="focusout"&&Ey()}function sA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(ml)}function aA(t,i){if(t==="click")return yc(i)}function oA(t,i){if(t==="input"||t==="change")return yc(i)}function lA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:lA;function pl(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(i,f)||!wn(t[f],i[f]))return!1}return!0}function by(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,i){var a=by(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=by(a)}}function Ay(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ay(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Sy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Cr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Cr(t.document)}return i}function Wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var uA=Pn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Jf=null,gl=null,Zf=!1;function Ry(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||Ua==null||Ua!==Cr(l)||(l=Ua,"selectionStart"in l&&Wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=sh(Jf,"onSelect"),0<l.length&&(i=new Nr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ua)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},ed={},Cy={};Pn&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ys(t){if(ed[t])return ed[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cy)return ed[t]=i[a];return t}var xy=Ys("animationend"),Iy=Ys("animationiteration"),Ny=Ys("animationstart"),cA=Ys("transitionrun"),hA=Ys("transitionstart"),fA=Ys("transitioncancel"),Dy=Ys("transitionend"),Oy=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function ir(t,i){Oy.set(t,i),Sr(i,[t])}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],za=0,nd=0;function vc(){for(var t=za,i=nd=za=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var f=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&My(a,f,d)}}function Ec(t,i,a,l){Un[za++]=t,Un[za++]=i,Un[za++]=a,Un[za++]=l,nd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rd(t,i,a,l){return Ec(t,i,a,l),Tc(t)}function Xs(t,i){return Ec(t,null,null,i),Tc(t)}function My(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-_t(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Tc(t){if(50<Ul)throw Ul=0,fm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ba={};function dA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,a,l){return new dA(t,i,a,l)}function id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,i){var a=t.alternate;return a===null?(a=An(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ky(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function bc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")id(t)&&(_=1);else if(typeof t=="string")_=_S(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,a,i,f),t.elementType=R,t.lanes=d,t;case G:return Ws(a.children,f,d,i);case L:_=8,f|=24;break;case W:return t=An(12,a,i,f|2),t.elementType=W,t.lanes=d,t;case de:return t=An(13,a,i,f),t.elementType=de,t.lanes=d,t;case ge:return t=An(19,a,i,f),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ee:_=9;break e;case le:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=An(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ws(t,i,a,l){return t=An(7,t,l,i),t.lanes=a,t}function sd(t,i,a){return t=An(6,t,null,i),t.lanes=a,t}function Vy(t){var i=An(18,null,null,0);return i.stateNode=t,i}function ad(t,i,a){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Py=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=Py.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Qo(i)},Py.set(t,i),i)}return{value:t,source:i,stack:Qo(i)}}var qa=[],Ha=0,wc=null,yl=0,zn=[],Bn=0,Ui=null,kr=1,Vr="";function ti(t,i){qa[Ha++]=yl,qa[Ha++]=wc,wc=t,yl=i}function Ly(t,i,a){zn[Bn++]=kr,zn[Bn++]=Vr,zn[Bn++]=Ui,Ui=t;var l=kr;t=Vr;var f=32-_t(l)-1;l&=~(1<<f),a+=1;var d=32-_t(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,kr=1<<32-_t(i)+f|a<<f|l,Vr=d+t}else kr=1<<d|a<<f|l,Vr=t}function od(t){t.return!==null&&(ti(t,1),Ly(t,1,0))}function ld(t){for(;t===wc;)wc=qa[--Ha],qa[Ha]=null,yl=qa[--Ha],qa[Ha]=null;for(;t===Ui;)Ui=zn[--Bn],zn[Bn]=null,Vr=zn[--Bn],zn[Bn]=null,kr=zn[--Bn],zn[Bn]=null}function Uy(t,i){zn[Bn++]=kr,zn[Bn++]=Vr,zn[Bn++]=Ui,kr=i.id,Vr=i.overflow,Ui=t}var Gt=null,st=null,ze=!1,ji=null,qn=!1,ud=Error(s(519));function zi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(jn(i,t)),ud}function jy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[jt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<zl.length;a++)Oe(zl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),nc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Di(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||nv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||zi(t,!0)}function zy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Gt=Gt.return}}function Fa(t){if(t!==Gt)return!1;if(!ze)return zy(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cm(t.type,t.memoizedProps)),a=!a),a&&st&&zi(t),zy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=hv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=hv(t)}else i===27?(i=st,es(t.type)?(t=Om,Om=null,st=t):st=i):st=Gt?Fn(t.stateNode.nextSibling):null;return!0}function Js(){st=Gt=null,ze=!1}function cd(){var t=ji;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),ji=null),t}function _l(t){ji===null?ji=[t]:ji.push(t)}var hd=k(null),Zs=null,ni=null;function Bi(t,i,a){ie(hd,i._currentValue),i._currentValue=a}function ri(t){t._currentValue=hd.current,Z(hd)}function fd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function dd(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),fd(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),fd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ga(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;wn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}f=f.return}t!==null&&dd(i,t,a,l),i.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Zs=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return By(Zs,t)}function Sc(t,i){return Zs===null&&ea(t),By(t,i)}function By(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(s(308));ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ni=ni.next=i;return a}var mA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pA=r.unstable_scheduleCallback,gA=r.unstable_NormalPriority,xt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new mA,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&pA(gA,function(){t.controller.abort()})}var El=null,pd=0,$a=0,Qa=null;function yA(t,i){if(El===null){var a=El=[];pd=0,$a=_m(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,i.then(qy,qy),i}function qy(){if(--pd===0&&El!==null){Qa!==null&&(Qa.status="fulfilled");var t=El;El=null,$a=0,Qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _A(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Hy=K.S;K.S=function(t,i){R0=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yA(t,i),Hy!==null&&Hy(t,i)};var ta=k(null);function gd(){var t=ta.current;return t!==null?t:it.pooledCache}function Rc(t,i){i===null?ie(ta,ta.current):ie(ta,i.pool)}function Fy(){var t=gd();return t===null?null:{parent:xt._currentValue,pool:t}}var Ka=Error(s(460)),yd=Error(s(474)),Cc=Error(s(542)),xc={then:function(){}};function Gy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $y(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ky(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ky(t),t}throw ra=i,Ka}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,Ka):a}}var ra=null;function Qy(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function Ky(t){if(t===Ka||t===Cc)throw Error(s(483))}var Ya=null,Tl=0;function Ic(t){var i=Tl;return Tl+=1,Ya===null&&(Ya=[]),$y(Ya,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Nc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yy(t){function i(U,V){if(t){var q=U.deletions;q===null?(U.deletions=[V],U.flags|=16):q.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=ei(U,V),U.index=0,U.sibling=null,U}function d(U,V,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<V?(U.flags|=67108866,V):q):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,V,q,J){return V===null||V.tag!==6?(V=sd(q,U.mode,J),V.return=U,V):(V=f(V,q),V.return=U,V)}function N(U,V,q,J){var ye=q.type;return ye===G?X(U,V,q.props.children,J,q.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&na(ye)===V.type)?(V=f(V,q.props),bl(V,q),V.return=U,V):(V=bc(q.type,q.key,q.props,null,U.mode,J),bl(V,q),V.return=U,V)}function H(U,V,q,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=ad(q,U.mode,J),V.return=U,V):(V=f(V,q.children||[]),V.return=U,V)}function X(U,V,q,J,ye){return V===null||V.tag!==7?(V=Ws(q,U.mode,J,ye),V.return=U,V):(V=f(V,q),V.return=U,V)}function te(U,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=sd(""+V,U.mode,q),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return q=bc(V.type,V.key,V.props,null,U.mode,q),bl(q,V),q.return=U,q;case z:return V=ad(V,U.mode,q),V.return=U,V;case C:return V=na(V),te(U,V,q)}if(Te(V)||P(V))return V=Ws(V,U.mode,q,null),V.return=U,V;if(typeof V.then=="function")return te(U,Ic(V),q);if(V.$$typeof===re)return te(U,Sc(U,V),q);Nc(U,V)}return null}function F(U,V,q,J){var ye=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:w(U,V,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return q.key===ye?N(U,V,q,J):null;case z:return q.key===ye?H(U,V,q,J):null;case C:return q=na(q),F(U,V,q,J)}if(Te(q)||P(q))return ye!==null?null:X(U,V,q,J,null);if(typeof q.then=="function")return F(U,V,Ic(q),J);if(q.$$typeof===re)return F(U,V,Sc(U,q),J);Nc(U,q)}return null}function Q(U,V,q,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,w(V,U,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return U=U.get(J.key===null?q:J.key)||null,N(V,U,J,ye);case z:return U=U.get(J.key===null?q:J.key)||null,H(V,U,J,ye);case C:return J=na(J),Q(U,V,q,J,ye)}if(Te(J)||P(J))return U=U.get(q)||null,X(V,U,J,ye,null);if(typeof J.then=="function")return Q(U,V,q,Ic(J),ye);if(J.$$typeof===re)return Q(U,V,q,Sc(V,J),ye);Nc(V,J)}return null}function he(U,V,q,J){for(var ye=null,He=null,fe=V,Ie=V=0,ke=null;fe!==null&&Ie<q.length;Ie++){fe.index>Ie?(ke=fe,fe=null):ke=fe.sibling;var Fe=F(U,fe,q[Ie],J);if(Fe===null){fe===null&&(fe=ke);break}t&&fe&&Fe.alternate===null&&i(U,fe),V=d(Fe,V,Ie),He===null?ye=Fe:He.sibling=Fe,He=Fe,fe=ke}if(Ie===q.length)return a(U,fe),ze&&ti(U,Ie),ye;if(fe===null){for(;Ie<q.length;Ie++)fe=te(U,q[Ie],J),fe!==null&&(V=d(fe,V,Ie),He===null?ye=fe:He.sibling=fe,He=fe);return ze&&ti(U,Ie),ye}for(fe=l(fe);Ie<q.length;Ie++)ke=Q(fe,U,Ie,q[Ie],J),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?Ie:ke.key),V=d(ke,V,Ie),He===null?ye=ke:He.sibling=ke,He=ke);return t&&fe.forEach(function(ss){return i(U,ss)}),ze&&ti(U,Ie),ye}function _e(U,V,q,J){if(q==null)throw Error(s(151));for(var ye=null,He=null,fe=V,Ie=V=0,ke=null,Fe=q.next();fe!==null&&!Fe.done;Ie++,Fe=q.next()){fe.index>Ie?(ke=fe,fe=null):ke=fe.sibling;var ss=F(U,fe,Fe.value,J);if(ss===null){fe===null&&(fe=ke);break}t&&fe&&ss.alternate===null&&i(U,fe),V=d(ss,V,Ie),He===null?ye=ss:He.sibling=ss,He=ss,fe=ke}if(Fe.done)return a(U,fe),ze&&ti(U,Ie),ye;if(fe===null){for(;!Fe.done;Ie++,Fe=q.next())Fe=te(U,Fe.value,J),Fe!==null&&(V=d(Fe,V,Ie),He===null?ye=Fe:He.sibling=Fe,He=Fe);return ze&&ti(U,Ie),ye}for(fe=l(fe);!Fe.done;Ie++,Fe=q.next())Fe=Q(fe,U,Ie,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ie:Fe.key),V=d(Fe,V,Ie),He===null?ye=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(IS){return i(U,IS)}),ze&&ti(U,Ie),ye}function nt(U,V,q,J){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case D:e:{for(var ye=q.key;V!==null;){if(V.key===ye){if(ye=q.type,ye===G){if(V.tag===7){a(U,V.sibling),J=f(V,q.props.children),J.return=U,U=J;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&na(ye)===V.type){a(U,V.sibling),J=f(V,q.props),bl(J,q),J.return=U,U=J;break e}a(U,V);break}else i(U,V);V=V.sibling}q.type===G?(J=Ws(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=bc(q.type,q.key,q.props,null,U.mode,J),bl(J,q),J.return=U,U=J)}return _(U);case z:e:{for(ye=q.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(U,V.sibling),J=f(V,q.children||[]),J.return=U,U=J;break e}else{a(U,V);break}else i(U,V);V=V.sibling}J=ad(q,U.mode,J),J.return=U,U=J}return _(U);case C:return q=na(q),nt(U,V,q,J)}if(Te(q))return he(U,V,q,J);if(P(q)){if(ye=P(q),typeof ye!="function")throw Error(s(150));return q=ye.call(q),_e(U,V,q,J)}if(typeof q.then=="function")return nt(U,V,Ic(q),J);if(q.$$typeof===re)return nt(U,V,Sc(U,q),J);Nc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(U,V.sibling),J=f(V,q),J.return=U,U=J):(a(U,V),J=sd(q,U.mode,J),J.return=U,U=J),_(U)):a(U,V)}return function(U,V,q,J){try{Tl=0;var ye=nt(U,V,q,J);return Ya=null,ye}catch(fe){if(fe===Ka||fe===Cc)throw fe;var He=An(29,fe,null,U.mode);return He.lanes=J,He.return=U,He}finally{}}}var ia=Yy(!0),Xy=Yy(!1),qi=!1;function _d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Tc(t),My(t,null,a),i}return Ec(t,l,i,a),Tc(t)}function wl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}function Ed(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Td=!1;function Al(){if(Td){var t=Qa;if(t!==null)throw t}}function Sl(t,i,a,l){Td=!1;var f=t.updateQueue;qi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==_&&(w===null?X.firstBaseUpdate=H:w.next=H,X.lastBaseUpdate=N))}if(d!==null){var te=f.baseState;_=0,X=H=N=null,w=d;do{var F=w.lane&-536870913,Q=F!==w.lane;if(Q?(Me&F)===F:(l&F)===F){F!==0&&F===$a&&(Td=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,_e=w;F=i;var nt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){te=he.call(nt,te,F);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,F=typeof he=="function"?he.call(nt,te,F):he,F==null)break e;te=T({},te,F);break e;case 2:qi=!0}}F=w.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(H=X=Q,N=te):X=X.next=Q,_|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(N=te),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Yi|=_,t.lanes=_,t.memoizedState=te}}function Wy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wy(a[t],i)}var Xa=k(null),Dc=k(0);function Zy(t,i){t=fi,ie(Dc,t),ie(Xa,i),fi=t|i.baseLanes}function bd(){ie(Dc,fi),ie(Xa,Xa.current)}function wd(){fi=Dc.current,Z(Xa),Z(Dc)}var Sn=k(null),Hn=null;function Gi(t){var i=t.alternate;ie(Et,Et.current&1),ie(Sn,t),Hn===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(Hn=t)}function Ad(t){ie(Et,Et.current),ie(Sn,t),Hn===null&&(Hn=t)}function e_(t){t.tag===22?(ie(Et,Et.current),ie(Sn,t),Hn===null&&(Hn=t)):$i()}function $i(){ie(Et,Et.current),ie(Sn,Sn.current)}function Rn(t){Z(Sn),Hn===t&&(Hn=null),Z(Et)}var Et=k(0);function Oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nm(a)||Dm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ii=0,Ce=null,et=null,It=null,Mc=!1,Wa=!1,sa=!1,kc=0,Rl=0,Ja=null,vA=0;function dt(){throw Error(s(321))}function Sd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function Rd(t,i,a,l,f,d){return ii=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?L_:Bd,sa=!1,d=a(l,f),sa=!1,Wa&&(d=n_(i,a,l,f)),t_(t),d}function t_(t){K.H=Il;var i=et!==null&&et.next!==null;if(ii=0,It=et=Ce=null,Mc=!1,Rl=0,Ja=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Ac(t)&&(Nt=!0))}function n_(t,i,a,l){Ce=t;var f=0;do{if(Wa&&(Ja=null),Rl=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,It=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=U_,d=i(a,l)}while(Wa);return d}function EA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Cl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Cd(){var t=kc!==0;return kc=0,t}function xd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Id(t){if(Mc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Mc=!1}ii=0,It=et=Ce=null,Wa=!1,Rl=kc=0,Ja=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ce.memoizedState=It=t:It=It.next=t,It}function Tt(){if(et===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=It===null?Ce.memoizedState:It.next;if(i!==null)It=i,et=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?Ce.memoizedState=It=t:It=It.next=t}return It}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var i=Rl;return Rl+=1,Ja===null&&(Ja=[]),t=$y(Ja,t,i),i=Ce,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?L_:Bd),t}function Pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function Nd(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function si(t,i){return typeof i=="function"?i(t):i}function Lc(t){var i=Tt();return Dd(i,et,t)}function Dd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=_=null,N=null,H=i,X=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Me&te)===te:(ii&te)===te){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===$a&&(X=!0);else if((ii&F)===F){H=H.next,F===$a&&(X=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=te,_=d):N=N.next=te,Ce.lanes|=F,Yi|=F;te=H.action,sa&&a(d,te),d=H.hasEagerState?H.eagerState:a(d,te)}else F={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=F,_=d):N=N.next=F,Ce.lanes|=te,Yi|=te;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=w,!wn(d,t.memoizedState)&&(Nt=!0,X&&(a=Qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Od(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);wn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function r_(t,i,a){var l=Ce,f=Tt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!wn((et||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,Vd(a_.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},s_.bind(null,l,f,a,i),null),it===null)throw Error(s(349));d||(ii&127)!==0||i_(l,i,a)}return a}function i_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Vc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function s_(t,i,a,l){i.value=a,i.getSnapshot=l,o_(i)&&l_(t)}function a_(t,i,a){return a(function(){o_(i)&&l_(t)})}function o_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function l_(t){var i=Xs(t,2);i!==null&&gn(i,t,2)}function Md(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),sa){Mn(!0);try{a()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},i}function u_(t,i,a,l){return t.baseState=a,Dd(t,et,typeof l=="function"?l:si)}function TA(t,i,a,l,f){if(zc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,c_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function c_(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var w=a(f,l),N=K.S;N!==null&&N(_,w),h_(t,i,w)}catch(H){kd(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(f,l),h_(t,i,d)}catch(H){kd(t,i,H)}}function h_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){f_(t,i,l)},function(l){return kd(t,i,l)}):f_(t,i,a)}function f_(t,i,a){i.status="fulfilled",i.value=a,d_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,c_(t,a)))}function kd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,d_(i),i=i.next;while(i!==l)}t.action=null}function d_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function m_(t,i){return i}function p_(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ce;if(ze){if(st){t:{for(var f=st,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Fn(f.nextSibling),l=f.data==="F!";break e}}zi(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:i},a.queue=l,a=k_.bind(null,Ce,l),l.dispatch=a,l=Md(!1),d=zd.bind(null,Ce,!1,l.queue),l=on(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=TA.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function g_(t){var i=Tt();return y_(i,et,t)}function y_(t,i,a){if(i=Dd(t,i,m_)[0],t=Lc(si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Cl(i)}catch(_){throw _===Ka?Cc:_}else l=i;i=Tt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Za(9,{destroy:void 0},bA.bind(null,f,a),null)),[l,d,t]}function bA(t,i){t.action=i}function __(t){var i=Tt(),a=et;if(a!==null)return y_(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Vc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function v_(){return Tt().memoizedState}function Uc(t,i,a,l){var f=on();Ce.flags|=t,f.memoizedState=Za(1|i,{destroy:void 0},a,l===void 0?null:l)}function jc(t,i,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&Sd(l,et.memoizedState.deps)?f.memoizedState=Za(i,d,a,l):(Ce.flags|=t,f.memoizedState=Za(1|i,d,a,l))}function E_(t,i){Uc(8390656,8,t,i)}function Vd(t,i){jc(2048,8,t,i)}function wA(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Vc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function T_(t){var i=Tt().memoizedState;return wA({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function b_(t,i){return jc(4,2,t,i)}function w_(t,i){return jc(4,4,t,i)}function A_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function S_(t,i,a){a=a!=null?a.concat([t]):null,jc(4,4,A_.bind(null,i,t),a)}function Pd(){}function R_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function C_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sd(i,l[1]))return l[0];if(l=t(),sa){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l}function Ld(t,i,a){return a===void 0||(ii&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=x0(),Ce.lanes|=t,Yi|=t,a)}function x_(t,i,a,l){return wn(a,i)?a:Xa.current!==null?(t=Ld(t,a,l),wn(t,i)||(Nt=!0),t):(ii&42)===0||(ii&1073741824)!==0&&(Me&261930)===0?(Nt=!0,t.memoizedState=a):(t=x0(),Ce.lanes|=t,Yi|=t,i)}function I_(t,i,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=K.T,w={};K.T=w,zd(t,!1,i,a);try{var N=f(),H=K.S;if(H!==null&&H(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=_A(N,l);xl(t,i,X,In(t))}else xl(t,i,l,In(t))}catch(te){xl(t,i,{then:function(){},status:"rejected",reason:te},In())}finally{oe.p=d,_!==null&&w.types!==null&&(_.types=w.types),K.T=_}}function AA(){}function Ud(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=N_(t).queue;I_(t,f,i,me,a===null?AA:function(){return D_(t),a(l)})}function N_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function D_(t){var i=N_(t);i.next===null&&(i=t.alternate.memoizedState),xl(t,i.next.queue,{},In())}function jd(){return $t(Gl)}function O_(){return Tt().memoizedState}function M_(){return Tt().memoizedState}function SA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Hi(a);var l=Fi(i,t,a);l!==null&&(gn(l,i,a),wl(l,i,a)),i={cache:md()},t.payload=i;return}i=i.return}}function RA(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(t)?V_(i,a):(a=rd(t,i,a,l),a!==null&&(gn(a,t,l),P_(a,i,l)))}function k_(t,i,a){var l=In();xl(t,i,a,l)}function xl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(t))V_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,wn(w,_))return Ec(t,i,f,0),it===null&&vc(),!1}catch{}finally{}if(a=rd(t,i,f,l),a!==null)return gn(a,t,l),P_(a,i,l),!0}return!1}function zd(t,i,a,l){if(l={lane:2,revertLane:_m(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(i)throw Error(s(479))}else i=rd(t,a,l,2),i!==null&&gn(i,t,2)}function zc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function V_(t,i){Wa=Mc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function P_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}var Il={readContext:$t,use:Pc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Il.useEffectEvent=dt;var L_={readContext:$t,use:Pc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:E_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Uc(4194308,4,A_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Uc(4194308,4,t,i)},useInsertionEffect:function(t,i){Uc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(sa){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var f=a(i);if(sa){Mn(!0);try{a(i)}finally{Mn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=RA.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Md(t);var i=t.queue,a=k_.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Pd,useDeferredValue:function(t,i){var a=on();return Ld(a,t,i)},useTransition:function(){var t=Md(!1);return t=I_.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=on();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Me&127)!==0||i_(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,E_(a_.bind(null,l,d,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},s_.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(ze){var a=Vr,l=kr;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=kc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=vA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jd,useFormState:p_,useActionState:p_,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Nd,useCacheRefresh:function(){return on().memoizedState=SA.bind(null,Ce)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bd={readContext:$t,use:Pc,useCallback:R_,useContext:$t,useEffect:Vd,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:C_,useReducer:Lc,useRef:v_,useState:function(){return Lc(si)},useDebugValue:Pd,useDeferredValue:function(t,i){var a=Tt();return x_(a,et.memoizedState,t,i)},useTransition:function(){var t=Lc(si)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Cl(t),i]},useSyncExternalStore:r_,useId:O_,useHostTransitionStatus:jd,useFormState:g_,useActionState:g_,useOptimistic:function(t,i){var a=Tt();return u_(a,et,t,i)},useMemoCache:Nd,useCacheRefresh:M_};Bd.useEffectEvent=T_;var U_={readContext:$t,use:Pc,useCallback:R_,useContext:$t,useEffect:Vd,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:C_,useReducer:Od,useRef:v_,useState:function(){return Od(si)},useDebugValue:Pd,useDeferredValue:function(t,i){var a=Tt();return et===null?Ld(a,t,i):x_(a,et.memoizedState,t,i)},useTransition:function(){var t=Od(si)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Cl(t),i]},useSyncExternalStore:r_,useId:O_,useHostTransitionStatus:jd,useFormState:__,useActionState:__,useOptimistic:function(t,i){var a=Tt();return et!==null?u_(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:M_};U_.useEffectEvent=T_;function qd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),f=Hi(l);f.payload=i,a!=null&&(f.callback=a),i=Fi(t,f,l),i!==null&&(gn(i,t,l),wl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),f=Hi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Fi(t,f,l),i!==null&&(gn(i,t,l),wl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Hi(a);l.tag=2,i!=null&&(l.callback=i),i=Fi(t,l,a),i!==null&&(gn(i,t,a),wl(i,t,a))}};function j_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(f,d):!0}function z_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Hd.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function B_(t){_c(t)}function q_(t){console.error(t)}function H_(t){_c(t)}function Bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function F_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(t,i,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Bc(t,i)},a}function G_(t){return t=Hi(t),t.tag=3,t}function $_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){F_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){F_(i,a,l),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function CA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ga(i,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Zc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pm(t,l,f)),!1;case 22:return a.flags|=65536,l===xc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pm(t,l,f)),!1}throw Error(s(435,a.tag))}return pm(t,l,f),Zc(),!1}if(ze)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ud&&(t=Error(s(422),{cause:l}),_l(jn(t,a)))):(l!==ud&&(i=Error(s(423),{cause:l}),_l(jn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=jn(l,a),f=Fd(t.stateNode,l,f),Ed(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Ll===null?Ll=[d]:Ll.push(d),mt!==4&&(mt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Fd(a.stateNode,l,t),Ed(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=G_(f),$_(f,t,a,l),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var Gd=Error(s(461)),Nt=!1;function Qt(t,i,a,l){i.child=t===null?Xy(i,null,a,l):ia(i,t.child,a,l)}function Q_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return ea(i),l=Rd(t,i,a,_,d,f),w=Cd(),t!==null&&!Nt?(xd(t,i,f),ai(t,i,f)):(ze&&w&&od(i),i.flags|=1,Qt(t,i,l,f),i.child)}function K_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!id(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Y_(t,i,d,l,f)):(t=bc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(_,l)&&t.ref===i.ref)return ai(t,i,f)}return i.flags|=1,t=ei(d,l),t.ref=i.ref,t.return=i,i.child=t}function Y_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Zd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ai(t,i,f)}return $d(t,i,a,l,f)}function X_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return W_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rc(i,d!==null?d.cachePool:null),d!==null?Zy(i,d):bd(),e_(i);else return l=i.lanes=536870912,W_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Rc(i,d.cachePool),Zy(i,d),$i(),i.memoizedState=null):(t!==null&&Rc(i,null),bd(),$i());return Qt(t,i,f,a),i.child}function Nl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function W_(t,i,a,l,f){var d=gd();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Rc(i,null),bd(),e_(i),t!==null&&Ga(t,i,l,!0),i.childLanes=f,null}function qc(t,i){return i=Fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function J_(t,i,a){return ia(i,t.child,null,a),t=qc(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function xA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=qc(i,l),i.lanes=536870912,Nl(null,t);if(Ad(i),(t=st)?(t=cv(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:kr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=Vy(t),a.return=i,i.child=a,Gt=i,st=null)):t=null,t===null)throw zi(i);return i.lanes=536870912,null}return qc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Ad(i),f)if(i.flags&256)i.flags&=-257,i=J_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Ga(t,i,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=it,l!==null&&(_=Wo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Xs(t,_),gn(l,t,_),Gd;Zc(),i=J_(t,i,a)}else t=d.treeContext,st=Fn(_.nextSibling),Gt=i,ze=!0,ji=null,qn=!1,t!==null&&Uy(i,t),i=qc(i,l),i.flags|=4096;return i}return t=ei(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function $d(t,i,a,l,f){return ea(i),a=Rd(t,i,a,l,void 0,f),l=Cd(),t!==null&&!Nt?(xd(t,i,f),ai(t,i,f)):(ze&&l&&od(i),i.flags|=1,Qt(t,i,a,f),i.child)}function Z_(t,i,a,l,f,d){return ea(i),i.updateQueue=null,a=n_(i,l,a,f),t_(t),l=Cd(),t!==null&&!Nt?(xd(t,i,d),ai(t,i,d)):(ze&&l&&od(i),i.flags|=1,Qt(t,i,a,d),i.child)}function e0(t,i,a,l,f){if(ea(i),i.stateNode===null){var d=Ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},_d(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):Ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(qd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Hd.enqueueReplaceState(d,d.state,null),Sl(i,l,d,f),Al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,N=aa(a,w);d.props=N;var H=d.context,X=a.contextType;_=Ba,typeof X=="object"&&X!==null&&(_=$t(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||H!==_)&&z_(i,d,l,_),qi=!1;var F=i.memoizedState;d.state=F,Sl(i,l,d,f),Al(),H=i.memoizedState,w||F!==H||qi?(typeof te=="function"&&(qd(i,a,te,l),H=i.memoizedState),(N=qi||j_(i,a,N,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,vd(t,i),_=i.memoizedProps,X=aa(a,_),d.props=X,te=i.pendingProps,F=d.context,H=a.contextType,N=Ba,typeof H=="object"&&H!==null&&(N=$t(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==N)&&z_(i,d,l,N),qi=!1,F=i.memoizedState,d.state=F,Sl(i,l,d,f),Al();var Q=i.memoizedState;_!==te||F!==Q||qi||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof w=="function"&&(qd(i,a,w,l),Q=i.memoizedState),(X=qi||j_(i,a,X,l,F,Q,N)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Hc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,f),i.child=ia(i,null,a,f)):Qt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=ai(t,i,f),t}function t0(t,i,a,l){return Js(),i.flags|=256,Qt(t,i,a,l),i.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:Fy()}}function Yd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function n0(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(f?Gi(i):$i(),(t=st)?(t=cv(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:kr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=Vy(t),a.return=i,i.child=a,Gt=i,st=null)):t=null,t===null)throw zi(i);return Dm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?($i(),f=i.mode,w=Fc({mode:"hidden",children:w},f),l=Ws(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Kd(a),l.childLanes=Yd(t,_,a),i.memoizedState=Qd,Nl(null,l)):(Gi(i),Xd(i,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(Gi(i),i.flags&=-257,i=Wd(t,i,a)):i.memoizedState!==null?($i(),i.child=t.child,i.flags|=128,i=null):($i(),w=l.fallback,f=i.mode,l=Fc({mode:"visible",children:l.children},f),w=Ws(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=Kd(a),l.childLanes=Yd(t,_,a),i.memoizedState=Qd,i=Nl(null,l));else if(Gi(i),Dm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,_l({value:l,source:null,stack:null}),i=Wd(t,i,a)}else if(Nt||Ga(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=it,_!==null&&(l=Wo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Xs(t,l),gn(_,t,l),Gd;Nm(w)||Zc(),i=Wd(t,i,a)}else Nm(w)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,st=Fn(w.nextSibling),Gt=i,ze=!0,ji=null,qn=!1,t!==null&&Uy(i,t),i=Xd(i,l.children),i.flags|=4096);return i}return f?($i(),w=l.fallback,f=i.mode,N=t.child,H=N.sibling,l=ei(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?w=ei(H,w):(w=Ws(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,Nl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Kd(a):(f=w.cachePool,f!==null?(N=xt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Fy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Yd(t,_,a),i.memoizedState=Qd,Nl(t.child,l)):(Gi(i),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Xd(t,i){return i=Fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fc(t,i){return t=An(22,t,null,i),t.lanes=0,t}function Wd(t,i,a){return ia(i,t.child,null,a),t=Xd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function r0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),fd(t.return,i,a)}function Jd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function i0(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Et.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,ie(Et,_),Qt(t,i,l,a),l=ze?yl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r0(t,a,i);else if(t.tag===19)r0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Oc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Jd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Oc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Jd(i,!0,a,null,d,l);break;case"together":Jd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ai(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ga(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ei(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function IA(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Bi(i,xt,t.memoizedState.cache),Js();break;case 27:case 5:Os(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ad(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?n0(t,i,a):(Gi(i),t=ai(t,i,a),t!==null?t.sibling:null);Gi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ga(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return i0(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(Et,Et.current),l)break;return null;case 22:return i.lanes=0,X_(t,i,a,i.pendingProps);case 24:Bi(i,xt,t.memoizedState.cache)}return ai(t,i,a)}function s0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Zd(t,a)&&(i.flags&128)===0)return Nt=!1,IA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,ze&&(i.flags&1048576)!==0&&Ly(i,yl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")id(t)?(l=aa(t,l),i.tag=1,i=e0(null,i,t,l,a)):(i.tag=0,i=$d(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===le){i.tag=11,i=Q_(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=K_(null,i,t,l,a);break e}}throw i=je(t)||t,Error(s(306,i,""))}}return i;case 0:return $d(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=aa(l,i.pendingProps),e0(t,i,l,f,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,vd(t,i),Sl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Bi(i,xt,l),l!==d.cache&&dd(i,[xt],a,!0),Al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=t0(t,i,l,a);break e}else if(l!==f){f=jn(Error(s(424)),i),_l(f),i=t0(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Fn(t.firstChild),Gt=i,ze=!0,ji=null,qn=!0,a=Xy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Js(),l===f){i=ai(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return Hc(t,i),t===null?(a=gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=ah(xe.current).createElement(a),l[St]=i,l[jt]=t,Kt(l,a,t),Rt(l),i.stateNode=l):i.memoizedState=gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Os(i),t===null&&ze&&(l=i.stateNode=dv(i.type,i.pendingProps,xe.current),Gt=i,qn=!0,f=st,es(i.type)?(Om=f,st=Fn(l.firstChild)):st=f),Qt(t,i,i.pendingProps.children,a),Hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((f=l=st)&&(l=sS(l,i.type,i.pendingProps,qn),l!==null?(i.stateNode=l,Gt=i,st=Fn(l.firstChild),qn=!1,f=!0):f=!1),f||zi(i)),Os(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Cm(f,d)?l=null:_!==null&&Cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Rd(t,i,EA,null,null,a),Gl._currentValue=f),Hc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=aS(a,i.pendingProps,qn),a!==null?(i.stateNode=a,Gt=i,st=null,t=!0):t=!1),t||zi(i)),null;case 13:return n0(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return Q_(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Bi(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ea(i),f=$t(f),l=l(f),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return K_(t,i,i.type,i.pendingProps,a);case 15:return Y_(t,i,i.type,i.pendingProps,a);case 19:return i0(t,i,a);case 31:return xA(t,i,a);case 22:return X_(t,i,a,i.pendingProps);case 24:return ea(i),l=$t(xt),t===null?(f=gd(),f===null&&(f=it,d=md(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},_d(i),Bi(i,xt,f)):((t.lanes&a)!==0&&(vd(t,i),Sl(i,null,null,a),Al()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bi(i,xt,l)):(l=d.cache,Bi(i,xt,l),l!==f.cache&&dd(i,[xt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function oi(t){t.flags|=4}function em(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(O0())t.flags|=8192;else throw ra=xc,yd}else t.flags&=-16777217}function a0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tv(i))if(O0())t.flags|=8192;else throw ra=xc,yd}function Gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Wu():536870912,t.lanes|=i,ro|=i)}function Dl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function NA(t,i,a){var l=i.pendingProps;switch(ld(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ri(xt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(i)?oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cd())),at(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(oi(i),d!==null?(at(i),a0(i,d)):(at(i),em(i,f,null,l,a))):d?d!==t.memoizedState?(oi(i),at(i),a0(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&oi(i),at(i),em(i,f,t,l,a)),null;case 27:if(ba(i),a=xe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ue.current,Fa(i)?jy(i):(t=dv(f,l,a),i.stateNode=t,oi(i))}return at(i),null;case 5:if(ba(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=ue.current,Fa(i))jy(i);else{var _=ah(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&oi(i)}}return at(i),em(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Fa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nv(t.nodeValue,a)),t||zi(i,!0)}else t=ah(t).createTextNode(l),t[St]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Fa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else f=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Gc(i,i.updateQueue),at(i),null);case 4:return lt(),t===null&&bm(i.stateNode.containerInfo),at(i),null;case 10:return ri(i.type),at(i),null;case 19:if(Z(Et),l=i.memoizedState,l===null)return at(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Dl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Oc(t),d!==null){for(i.flags|=128,Dl(l,!1),t=d.updateQueue,i.updateQueue=t,Gc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ky(a,t),a=a.sibling;return ie(Et,Et.current&1|2),ze&&ti(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>Xc&&(i.flags|=128,f=!0,Dl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Oc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Gc(i,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*sn()-l.renderingStartTime>Xc&&a!==536870912&&(i.flags|=128,f=!0,Dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=Et.current,ie(Et,f?a&1|2:a&1),ze&&ti(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return Rn(i),wd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Gc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ri(xt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function DA(t,i){switch(ld(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ri(xt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ba(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(s(340));Js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(Et),null;case 4:return lt(),null;case 10:return ri(i.type),null;case 22:case 23:return Rn(i),wd(),t!==null&&Z(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ri(xt),null;case 25:return null;default:return null}}function o0(t,i){switch(ld(i),i.tag){case 3:ri(xt),lt();break;case 26:case 27:case 5:ba(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:Z(Et);break;case 10:ri(i.type);break;case 22:case 23:Rn(i),wd(),t!==null&&Z(ta);break;case 24:ri(xt)}}function Ol(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){We(i,i.return,w)}}function Qi(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var N=a,H=w;try{H()}catch(X){We(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function l0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jy(i,a)}catch(l){We(t,t.return,l)}}}function u0(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,i,f)}}function Pr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function c0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function tm(t,i,a){try{var l=t.stateNode;ZA(l,t.type,a,i),l[jt]=i}catch(f){We(t,t.return,f)}}function h0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(rm(t,i,a),t=t.sibling;t!==null;)rm(t,i,a),t=t.sibling}function $c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($c(t,i,a),t=t.sibling;t!==null;)$c(t,i,a),t=t.sibling}function f0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[St]=t,i[jt]=a}catch(d){We(t,t.return,d)}}var li=!1,Dt=!1,im=!1,d0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function OA(t,i){if(t=t.containerInfo,Sm=dh,t=Sy(t),Wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,H=0,X=0,te=t,F=null;t:for(;;){for(var Q;te!==a||f!==0&&te.nodeType!==3||(w=_+f),te!==d||l!==0&&te.nodeType!==3||(N=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Q=te.firstChild)!==null;)F=te,te=Q;for(;;){if(te===t)break t;if(F===a&&++H===f&&(w=_),F===d&&++X===l&&(N=_),(Q=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Q}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:t,selectionRange:a},dh=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=aa(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function m0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ci(t,a),l&4&&Ol(5,a);break;case 1:if(ci(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&l0(a),l&512&&Ml(a,a.return);break;case 3:if(ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jy(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&f0(a);case 26:case 5:ci(t,a),i===null&&l&4&&c0(a),l&512&&Ml(a,a.return);break;case 12:ci(t,a);break;case 31:ci(t,a),l&4&&y0(t,a);break;case 13:ci(t,a),l&4&&_0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BA.bind(null,a),oS(t,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){i=i!==null&&i.memoizedState!==null||Dt,f=li;var d=Dt;li=l,(Dt=i)&&!d?hi(t,a,(a.subtreeFlags&8772)!==0):ci(t,a),li=f,Dt=d}break;case 30:break;default:ci(t,a)}}function p0(t){var i=t.alternate;i!==null&&(t.alternate=null,p0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function ui(t,i,a){for(a=a.child;a!==null;)g0(t,i,a),a=a.sibling}function g0(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Dt||Pr(a,i),ui(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Pr(a,i);var l=ct,f=fn;es(a.type)&&(ct=a.stateNode,fn=!1),ui(t,i,a),ql(a.stateNode),ct=l,fn=f;break;case 5:Dt||Pr(a,i);case 6:if(l=ct,f=fn,ct=null,ui(t,i,a),ct=l,fn=f,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ct!==null&&(fn?(t=ct,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ho(t)):lv(ct,a.stateNode));break;case 4:l=ct,f=fn,ct=a.stateNode.containerInfo,fn=!0,ui(t,i,a),ct=l,fn=f;break;case 0:case 11:case 14:case 15:Qi(2,a,i),Dt||Qi(4,a,i),ui(t,i,a);break;case 1:Dt||(Pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u0(a,i,l)),ui(t,i,a);break;case 21:ui(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,ui(t,i,a),Dt=l;break;default:ui(t,i,a)}}function y0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(a){We(i,i.return,a)}}}function _0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){We(i,i.return,a)}}function MA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new d0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new d0),i;default:throw Error(s(435,t.tag))}}function Qc(t,i){var a=MA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=qA.bind(null,t,l);l.then(f,f)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(es(w.type)){ct=w.stateNode,fn=!1;break e}break;case 5:ct=w.stateNode,fn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,fn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));g0(d,_,f),ct=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)v0(i,t),i=i.sibling}var sr=null;function v0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Qi(3,t,t.return),Ol(3,t),Qi(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Dt||a===null||Pr(a,a.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=sr;if(dn(i,t),mn(t),l&512&&(Dt||a===null||Pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[br]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[St]=t,Rt(d),l=d;break e;case"link":var _=vv("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=vv("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,Rt(d),l=d}t.stateNode=l}else Ev(f,t.type,t.stateNode);else t.stateNode=_v(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ev(f,t.type,t.stateNode):_v(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tm(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Dt||a===null||Pr(a,a.return)),a!==null&&l&4&&tm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Dt||a===null||Pr(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,tm(t,f,a!==null?a.memoizedProps:f)),l&1024&&(im=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(uh=null,f=sr,sr=oh(i.containerInfo),dn(i,t),sr=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(he){We(t,t.return,he)}im&&(im=!1,E0(t));break;case 4:l=sr,sr=oh(t.stateNode.containerInfo),dn(i,t),mn(t),sr=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=li,X=Dt;if(li=H||f,Dt=X||N,dn(i,t),Dt=X,li=H,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||li||Dt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var te=N.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){We(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){We(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;f?uv(Q,!0):uv(N.stateNode,!1)}catch(he){We(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(h0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=nm(t);$c(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var w=nm(t);$c(t,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=nm(t);rm(t,H,N);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function E0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;E0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ci(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m0(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qi(4,i,i.return),oa(i);break;case 1:Pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&u0(i,i.return,a),oa(i);break;case 27:ql(i.stateNode);case 26:case 5:Pr(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function hi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:hi(f,d,a),Ol(4,d);break;case 1:if(hi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Wy(N[f],w)}catch(H){We(l,l.return,H)}}a&&_&64&&l0(d),Ml(d,d.return);break;case 27:f0(d);case 26:case 5:hi(f,d,a),a&&l===null&&_&4&&c0(d),Ml(d,d.return);break;case 12:hi(f,d,a);break;case 31:hi(f,d,a),a&&_&4&&y0(f,d);break;case 13:hi(f,d,a),a&&_&4&&_0(f,d);break;case 22:d.memoizedState===null&&hi(f,d,a),Ml(d,d.return);break;case 30:break;default:hi(f,d,a)}i=i.sibling}}function sm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function am(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t))}function ar(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T0(t,i,a,l),i=i.sibling}function T0(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ar(t,i,a,l),f&2048&&Ol(9,i);break;case 1:ar(t,i,a,l);break;case 3:ar(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t)));break;case 12:if(f&2048){ar(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else ar(t,i,a,l);break;case 31:ar(t,i,a,l);break;case 13:ar(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ar(t,i,a,l):kl(t,i):d._visibility&2?ar(t,i,a,l):(d._visibility|=2,eo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&sm(_,i);break;case 24:ar(t,i,a,l),f&2048&&am(i.alternate,i);break;default:ar(t,i,a,l)}}function eo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,w=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:eo(d,_,w,N,f),Ol(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?eo(d,_,w,N,f):kl(d,_):(X._visibility|=2,eo(d,_,w,N,f)),f&&H&2048&&sm(_.alternate,_);break;case 24:eo(d,_,w,N,f),f&&H&2048&&am(_.alternate,_);break;default:eo(d,_,w,N,f)}i=i.sibling}}function kl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:kl(a,l),f&2048&&sm(l.alternate,l);break;case 24:kl(a,l),f&2048&&am(l.alternate,l);break;default:kl(a,l)}i=i.sibling}}var Vl=8192;function to(t,i,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)b0(t,i,a),t=t.sibling}function b0(t,i,a){switch(t.tag){case 26:to(t,i,a),t.flags&Vl&&t.memoizedState!==null&&vS(a,sr,t.memoizedState,t.memoizedProps);break;case 5:to(t,i,a);break;case 3:case 4:var l=sr;sr=oh(t.stateNode.containerInfo),to(t,i,a),sr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,to(t,i,a),Vl=l):to(t,i,a));break;default:to(t,i,a)}}function w0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,S0(l,t)}w0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A0(t),t=t.sibling}function A0(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Kc(t)):Pl(t);break;default:Pl(t)}}function Kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,S0(l,t)}w0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qi(8,i,i.return),Kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(i));break;default:Kc(i)}t=t.sibling}}function S0(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Qi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(p0(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var kA={getCacheForType:function(t){var i=$t(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(xt).controller.signal}},VA=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,De=null,Me=0,Xe=0,Cn=null,Ki=!1,no=!1,om=!1,fi=0,mt=0,Yi=0,la=0,lm=0,xn=0,ro=0,Ll=null,pn=null,um=!1,Yc=0,R0=0,Xc=1/0,Wc=null,Xi=null,Lt=0,Wi=null,io=null,di=0,cm=0,hm=null,C0=null,Ul=0,fm=null;function In(){return($e&2)!==0&&Me!==0?Me&-Me:K.T!==null?_m():Ju()}function x0(){if(xn===0)if((Me&536870912)===0||ze){var t=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),xn=t}else xn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),xn}function gn(t,i,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(so(t,0),Ji(t,Me,xn,!1)),Ps(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(la|=a),mt===4&&Ji(t,Me,xn,!1)),Lr(t))}function I0(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),f=l?UA(t,i):mm(t,i,!0),d=l;do{if(f===0){no&&!l&&Ji(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!PA(a)){f=mm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;f=Ll;var N=w.current.memoizedState.isDehydrated;if(N&&(so(w,_).flags|=256),_=mm(w,_,!1),_!==2){if(om&&!N){w.errorRecoveryDisabledLanes|=d,la|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){so(t,0),Ji(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ji(l,i,xn,!Ki);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Yc+300-sn(),10<f)){if(Ji(l,i,xn,!Ki),vr(l,0,!0)!==0)break e;di=i,l.timeoutHandle=av(N0.bind(null,l,a,pn,Wc,um,i,xn,la,ro,Ki,d,"Throttled",-0,0),f);break e}N0(l,a,pn,Wc,um,i,xn,la,ro,Ki,d,null,-0,0)}}break}while(!0);Lr(t)}function N0(t,i,a,l,f,d,_,w,N,H,X,te,F,Q){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},b0(i,d,te);var he=(d&62914560)===d?Yc-sn():(d&4194048)===d?R0-sn():0;if(he=ES(te,he),he!==null){di=d,t.cancelPendingCommit=he(U0.bind(null,t,i,d,a,l,f,_,w,N,X,te,null,F,Q)),Ji(t,d,_,!H);return}}U0(t,i,d,a,l,f,_,w,N)}function PA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(t,i,a,l){i&=~lm,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-_t(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ls(t,a,i)}function Jc(){return($e&6)===0?(jl(0),!1):!0}function dm(){if(De!==null){if(Xe===0)var t=De.return;else t=De,ni=Zs=null,Id(t),Ya=null,Tl=0,t=De;for(;t!==null;)o0(t.alternate,t),t=t.return;De=null}}function so(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),di=0,dm(),it=t,De=a=ei(t.current,null),Me=i,Xe=0,Cn=null,Ki=!1,no=Xn(t,i),om=!1,ro=xn=lm=la=Yi=mt=0,pn=Ll=null,um=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-_t(l),d=1<<f;i|=t[f],l&=~d}return fi=i,vc(),a}function D0(t,i){Ce=null,K.H=Il,i===Ka||i===Cc?(i=Qy(),Xe=3):i===yd?(i=Qy(),Xe=4):Xe=i===Gd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,De===null&&(mt=1,Bc(t,jn(i,t.current)))}function O0(){var t=Sn.current;return t===null?!0:(Me&4194048)===Me?Hn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Hn:!1}function M0(){var t=K.H;return K.H=Il,t===null?Il:t}function k0(){var t=K.A;return K.A=kA,t}function Zc(){mt=4,Ki||(Me&4194048)!==Me&&Sn.current!==null||(no=!0),(Yi&134217727)===0&&(la&134217727)===0||it===null||Ji(it,Me,xn,!1)}function mm(t,i,a){var l=$e;$e|=2;var f=M0(),d=k0();(it!==t||Me!==i)&&(Wc=null,so(t,i)),i=!1;var _=mt;e:do try{if(Xe!==0&&De!==null){var w=De,N=Cn;switch(Xe){case 8:dm(),_=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var H=Xe;if(Xe=0,Cn=null,ao(t,w,N,H),a&&no){_=0;break e}break;default:H=Xe,Xe=0,Cn=null,ao(t,w,N,H)}}LA(),_=mt;break}catch(X){D0(t,X)}while(!0);return i&&t.shellSuspendCounter++,ni=Zs=null,$e=l,K.H=f,K.A=d,De===null&&(it=null,Me=0,vc()),_}function LA(){for(;De!==null;)V0(De)}function UA(t,i){var a=$e;$e|=2;var l=M0(),f=k0();it!==t||Me!==i?(Wc=null,Xc=sn()+500,so(t,i)):no=Xn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=Cn;t:switch(Xe){case 1:Xe=0,Cn=null,ao(t,i,d,1);break;case 2:case 9:if(Gy(d)){Xe=0,Cn=null,P0(i);break}i=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),Lr(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Gy(d)?(Xe=0,Cn=null,P0(i)):(Xe=0,Cn=null,ao(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var w=De;if(_?Tv(_):w.stateNode.complete){Xe=0,Cn=null;var N=w.sibling;if(N!==null)De=N;else{var H=w.return;H!==null?(De=H,eh(H)):De=null}break t}}Xe=0,Cn=null,ao(t,i,d,5);break;case 6:Xe=0,Cn=null,ao(t,i,d,6);break;case 8:dm(),mt=6;break e;default:throw Error(s(462))}}jA();break}catch(X){D0(t,X)}while(!0);return ni=Zs=null,K.H=l,K.A=f,$e=a,De!==null?0:(it=null,Me=0,vc(),mt)}function jA(){for(;De!==null&&!Ff();)V0(De)}function V0(t){var i=s0(t.alternate,t,fi);t.memoizedProps=t.pendingProps,i===null?eh(t):De=i}function P0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Z_(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Z_(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Id(i);default:o0(a,i),i=De=ky(i,fi),i=s0(a,i,fi)}t.memoizedProps=t.pendingProps,i===null?eh(t):De=i}function ao(t,i,a,l){ni=Zs=null,Id(i),Ya=null,Tl=0;var f=i.return;try{if(CA(t,f,i,a,Me)){mt=1,Bc(t,jn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,Bc(t,jn(a,t.current)),De=null;return}i.flags&32768?(ze||l===1?t=!0:no||(Me&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L0(i,t)):eh(i)}function eh(t){var i=t;do{if((i.flags&32768)!==0){L0(i,Ki);return}t=i.return;var a=NA(i.alternate,i,fi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);mt===0&&(mt=5)}function L0(t,i){do{var a=DA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function U0(t,i,a,l,f,d,_,w,N){t.cancelPendingCommit=null;do th();while(Lt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=nd,Qf(t,a,d,_,w,N),t===it&&(De=it=null,Me=0),io=i,Wi=t,di=a,cm=d,hm=f,C0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HA(xi,function(){return H0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=oe.p,oe.p=2,_=$e,$e|=4;try{OA(t,i,a)}finally{$e=_,oe.p=f,K.T=l}}Lt=1,j0(),z0(),B0()}}function j0(){if(Lt===1){Lt=0;var t=Wi,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=$e;$e|=4;try{v0(i,t);var d=Rm,_=Sy(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Ay(w.ownerDocument.documentElement,w)){if(N!==null&&Wf(w)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(X,w.value.length);else{var te=w.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var Q=F.getSelection(),he=w.textContent.length,_e=Math.min(N.start,he),nt=N.end===void 0?_e:Math.min(N.end,he);!Q.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var U=wy(w,_e),V=wy(w,nt);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=te.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),_e>nt?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(te=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}dh=!!Sm,Rm=Sm=null}finally{$e=f,oe.p=l,K.T=a}}t.current=i,Lt=2}}function z0(){if(Lt===2){Lt=0;var t=Wi,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=$e;$e|=4;try{m0(t,i.alternate,i)}finally{$e=f,oe.p=l,K.T=a}}Lt=3}}function B0(){if(Lt===4||Lt===3){Lt=0,Gu();var t=Wi,i=io,a=di,l=C0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,io=Wi=null,q0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xi=null),Xr(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=oe.p,oe.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{K.T=i,oe.p=f}}(di&3)!==0&&th(),Lr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===fm?Ul++:(Ul=0,fm=t):Ul=0,jl(0)}}function q0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vl(i)))}function th(){return j0(),z0(),B0(),H0()}function H0(){if(Lt!==5)return!1;var t=Wi,i=cm;cm=0;var a=Xr(di),l=K.T,f=oe.p;try{oe.p=32>a?32:a,K.T=null,a=hm,hm=null;var d=Wi,_=di;if(Lt=0,io=Wi=null,di=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,A0(d.current),T0(d,d.current,_,a),$e=w,jl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{oe.p=f,K.T=l,q0(t,i)}}function F0(t,i,a){i=jn(a,i),i=Fd(t.stateNode,i,2),t=Fi(t,i,2),t!==null&&(Ps(t,2),Lr(t))}function We(t,i,a){if(t.tag===3)F0(t,t,a);else for(;i!==null;){if(i.tag===3){F0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=jn(a,t),a=G_(2),l=Fi(i,a,2),l!==null&&($_(a,l,i,t),Ps(l,2),Lr(l));break}}i=i.return}}function pm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new VA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(om=!0,f.add(a),t=zA.bind(null,t,i,a),i.then(t,t))}function zA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>sn()-Yc?($e&2)===0&&so(t,0):lm|=a,ro===Me&&(ro=0)),Lr(t)}function G0(t,i){i===0&&(i=Wu()),t=Xs(t,i),t!==null&&(Ps(t,i),Lr(t))}function BA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),G0(t,a)}function qA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),G0(t,a)}function HA(t,i){return Pt(t,i)}var nh=null,oo=null,gm=!1,rh=!1,ym=!1,Zi=0;function Lr(t){t!==oo&&t.next===null&&(oo===null?nh=oo=t:oo=oo.next=t),rh=!0,gm||(gm=!0,GA())}function jl(t,i){if(!ym&&rh){ym=!0;do for(var a=!1,l=nh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y0(l,d))}else d=Me,d=vr(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,Y0(l,d));l=l.next}while(a);ym=!1}}function FA(){$0()}function $0(){rh=gm=!1;var t=0;Zi!==0&&tS()&&(t=Zi);for(var i=sn(),a=null,l=nh;l!==null;){var f=l.next,d=Q0(l,i);d===0?(l.next=null,a===null?nh=f:a.next=f,f===null&&(oo=a)):(a=l,(t!==0||(d&3)!==0)&&(rh=!0)),l=f}Lt!==0&&Lt!==5||jl(t),Zi!==0&&(Zi=0)}function Q0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-_t(d),w=1<<_,N=f[_];N===-1?((w&a)===0||(w&l)!==0)&&(f[_]=$f(w,i)):N<=i&&(t.expiredLanes|=w),d&=~w}if(i=it,a=Me,a=vr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ci(l),Xr(a)){case 2:case 8:a=Yo;break;case 32:a=xi;break;case 268435456:a=$u;break;default:a=xi}return l=K0.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function K0(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(th()&&t.callbackNode!==a)return null;var l=Me;return l=vr(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I0(t,l,i),Q0(t,sn()),t.callbackNode!=null&&t.callbackNode===a?K0.bind(null,t):null)}function Y0(t,i){if(th())return null;I0(t,i,!0)}function GA(){rS(function(){($e&6)!==0?Pt(Ko,FA):$0()})}function _m(){if(Zi===0){var t=$a;t===0&&(t=yr,yr<<=1,(yr&261888)===0&&(yr=256)),Zi=t}return Zi}function X0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function W0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $A(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=X0((f[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?X0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new Nr("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zi!==0){var N=_?W0(f,_):new FormData(f);Ud(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?W0(f,_):new FormData(f),Ud(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var vm=0;vm<td.length;vm++){var Em=td[vm],QA=Em.toLowerCase(),KA=Em[0].toUpperCase()+Em.slice(1);ir(QA,"on"+KA)}ir(xy,"onAnimationEnd"),ir(Iy,"onAnimationIteration"),ir(Ny,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(cA,"onTransitionRun"),ir(hA,"onTransitionStart"),ir(fA,"onTransitionCancel"),ir(Dy,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function J0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,H=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=H;try{d(f)}catch(X){_c(X)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,H=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=H;try{d(f)}catch(X){_c(X)}f.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[Ra];a===void 0&&(a=i[Ra]=new Set);var l=t+"__bubble";a.has(l)||(Z0(i,t,2,!1),a.add(l))}function Tm(t,i,a){var l=0;i&&(l|=4),Z0(a,t,l,i)}var ih="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[ih]){t[ih]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(YA.has(a)||Tm(a,!1,t),Tm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ih]||(i[ih]=!0,Tm("selectionchange",!1,i))}}function Z0(t,i,a,l){switch(xv(i)){case 2:var f=wS;break;case 8:f=AS;break;default:f=Lm}a=f.bind(null,i,a,t),f=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function wm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=wr(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}w=w.parentNode}}l=l.return}ki(function(){var H=d,X=Vn(a),te=[];e:{var F=Oy.get(t);if(F!==void 0){var Q=Nr,he=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":Q=pc;break;case"focusin":he="focus",Q=$s;break;case"focusout":he="blur",Q=$s;break;case"beforeblur":case"afterblur":Q=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case xy:case Iy:case Ny:Q=lc;break;case Dy:Q=S;break;case"scroll":case"scrollend":Q=cl;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Zr;break;case"toggle":case"beforetoggle":Q=Re}var _e=(i&4)!==0,nt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=H,q;V!==null;){var J=V;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=er(V,U),J!=null&&_e.push(Bl(V,J,q))),nt)break;V=V.return}0<_e.length&&(F=new Q(F,he,null,a,X),te.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==ol&&(he=a.relatedTarget||a.fromElement)&&(wr(he)||he[Tr]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=H,he=he?wr(he):null,he!==null&&(nt=u(he),_e=he.tag,he!==nt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Q=null,he=H),Q!==he)){if(_e=hl,J="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Zr,J="onPointerLeave",U="onPointerEnter",V="pointer"),nt=Q==null?F:Tn(Q),q=he==null?F:Tn(he),F=new _e(J,V+"leave",Q,a,X),F.target=nt,F.relatedTarget=q,J=null,wr(X)===H&&(_e=new _e(U,V+"enter",he,a,X),_e.target=q,_e.relatedTarget=nt,J=_e),nt=J,Q&&he)t:{for(_e=XA,U=Q,V=he,q=0,J=U;J;J=_e(J))q++;J=0;for(var ye=V;ye;ye=_e(ye))J++;for(;0<q-J;)U=_e(U),q--;for(;0<J-q;)V=_e(V),J--;for(;q--;){if(U===V||V!==null&&U===V.alternate){_e=U;break t}U=_e(U),V=_e(V)}_e=null}else _e=null;Q!==null&&ev(te,F,Q,_e,!1),he!==null&&nt!==null&&ev(te,nt,he,_e,!0)}}e:{if(F=H?Tn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var He=yy;else if(py(F))if(_y)He=oA;else{He=sA;var fe=iA}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Na(H.elementType)&&(He=yy):He=aA;if(He&&(He=He(t,H))){gy(te,He,a,X);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&il(F,"number",F.value)}switch(fe=H?Tn(H):window,t){case"focusin":(py(fe)||fe.contentEditable==="true")&&(Ua=fe,Jf=H,gl=null);break;case"focusout":gl=Jf=Ua=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Ry(te,a,X);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":Ry(te,a,X)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else La?Qs(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Mr&&a.locale!=="ko"&&(La||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&La&&(Ie=ul()):(Ir=X,ll="value"in Ir?Ir.value:Ir.textContent,La=!0)),fe=sh(H,ke),0<fe.length&&(ke=new Or(ke,t,null,a,X),te.push({event:ke,listeners:fe}),Ie?ke.data=Ie:(Ie=Pa(a),Ie!==null&&(ke.data=Ie)))),(Ie=Ln?eA(t,a):tA(t,a))&&(ke=sh(H,"onBeforeInput"),0<ke.length&&(fe=new Or("onBeforeInput","beforeinput",null,a,X),te.push({event:fe,listeners:ke}),fe.data=Ie)),$A(te,t,H,a,X)}J0(te,i)})}function Bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function sh(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=er(t,a),f!=null&&l.unshift(Bl(t,f,d)),f=er(t,i),f!=null&&l.push(Bl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function XA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,H=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||H===null||(N=H,f?(H=er(a,d),H!=null&&_.unshift(Bl(a,H,N))):f||(H=er(a,d),H!=null&&_.push(Bl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var WA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(WA,`
`).replace(JA,"")}function nv(t,i){return i=tv(i),tv(t)===i}function tt(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":al(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),xa(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sc.get(a)||a,xa(t,a,l))}}function Am(t,i,a,l,f,d){switch(a){case"style":al(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):xa(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}f&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:tt(t,i,l,X,a,null)}}nc(t,d,w,N,H,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:tt(t,i,f,w,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ni(t,!!l,i,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:tt(t,i,_,w,a,null)}Di(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Oe(zl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,H,l,a,null)}return;default:if(Na(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Am(t,i,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&tt(t,i,w,l,a,null))}function ZA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,N=null,H=null,X=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,te)}}for(var F in l){var Q=l[F];if(te=a[F],l.hasOwnProperty(F)&&(Q!=null||te!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==te&&tt(t,i,F,Q,l,te)}}Ia(t,_,w,N,H,X,d,f);return;case"select":Q=_=w=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&tt(t,i,f,d,l,N)}i=w,a=_,l=Q,F!=null?Ni(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ni(t,!!a,i,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(t,i,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&tt(t,i,_,f,l,d)}rc(t,F,Q);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:tt(t,i,he,null,l,F)}for(N in l)if(F=l[N],Q=a[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:tt(t,i,N,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&tt(t,i,_e,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:tt(t,i,H,F,l,Q)}return;default:if(Na(i)){for(var nt in a)F=a[nt],a.hasOwnProperty(nt)&&F!==void 0&&!l.hasOwnProperty(nt)&&Am(t,i,nt,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||Am(t,i,X,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,F);for(te in l)F=l[te],Q=a[te],!l.hasOwnProperty(te)||F===Q||F==null&&Q==null||tt(t,i,te,F,l,Q)}function rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&rv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>w)break;var X=N.transferSize,te=N.initiatorType;X&&rv(te)&&(N=N.responseEnd,_+=X*(N<w?1:(w-H)/(N-H)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sm=null,Rm=null;function ah(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xm=null;function tS(){var t=window.event;return t&&t.type==="popstate"?t===xm?!1:(xm=t,!0):(xm=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(iS)}:av;function iS(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function lv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ho(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[br]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&ql(t.ownerDocument.body);a=f}while(a);ho(i)}function uv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Im(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[br])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function aS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function cv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function Nm(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Om=null;function hv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function dv(t,i,a){switch(i=ah(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ca(t)}var Gn=new Map,mv=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mi=oe.d;oe.d={f:lS,r:uS,D:cS,C:hS,L:fS,m:dS,X:pS,S:mS,M:gS};function lS(){var t=mi.f(),i=Jc();return t||i}function uS(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?D_(i):mi.r(t)}var lo=typeof document>"u"?null:document;function pv(t,i,a){var l=lo;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),mv.has(f)||(mv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function cS(t){mi.D(t),pv("dns-prefetch",t,null)}function hS(t,i){mi.C(t,i),pv("preconnect",t,i)}function fS(t,i,a){mi.L(t,i,a);var l=lo;if(l&&t&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(i){case"style":d=uo(t);break;case"script":d=co(t)}Gn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Hl(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Kt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function dS(t,i){mi.m(t,i);var a=lo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(t)}if(!Gn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Gn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Kt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function mS(t,i,a){mi.S(t,i,a);var l=lo;if(l&&t){var f=Ar(l).hoistableStyles,d=uo(t);i=i||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Hl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(d))&&Mm(t,a);var N=_=l.createElement("link");Rt(N),Kt(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,lh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function pS(t,i){mi.X(t,i);var a=lo;if(a&&t){var l=Ar(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0},i),(i=Gn.get(f))&&km(t,i),d=a.createElement("script"),Rt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function gS(t,i){mi.M(t,i);var a=lo;if(a&&t){var l=Ar(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Gn.get(f))&&km(t,i),d=a.createElement("script"),Rt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function gv(t,i,a,l){var f=(f=xe.current)?oh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=Ar(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var d=Ar(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Hl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||yS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=Ar(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function uo(t){return'href="'+cn(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function yv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function yS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),Rt(i),t.head.appendChild(i))}function co(t){return'[src="'+cn(t)+'"]'}function Fl(t){return"script[async]"+t}function _v(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Kt(l,"style",f),lh(l,a.precedence,t),i.instance=l;case"stylesheet":f=uo(a.href);var d=t.querySelector(Hl(f));if(d)return i.state.loading|=4,i.instance=d,Rt(d),d;l=yv(a),(f=Gn.get(f))&&Mm(l,f),d=(t.ownerDocument||t).createElement("link"),Rt(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Kt(d,"link",l),i.state.loading|=4,lh(d,a.precedence,t),i.instance=d;case"script":return d=co(a.src),(f=t.querySelector(Fl(d)))?(i.instance=f,Rt(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),km(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Rt(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lh(l,a.precedence,t));return i.instance}function lh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function km(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uh=null;function vv(t,i,a){if(uh===null){var l=new Map,f=uh=new Map;f.set(a,l)}else f=uh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[br]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function Ev(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function _S(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=uo(l.href),d=i.querySelector(Hl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ch.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Rt(d);return}d=i.ownerDocument||i,l=yv(l),(f=Gn.get(f))&&Mm(l,f),d=d.createElement("link"),Rt(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ch.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vm=0;function ES(t,i){return t.stylesheets&&t.count===0&&fh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Vm===0&&(Vm=62500*eS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function fh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,i.forEach(TS,t),hh=null,ch.call(t))}function TS(t,i){if(!(i.state.loading&4)){var a=hh.get(t);if(a)var l=a.get(null);else{a=new Map,hh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Gl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function bS(t,i,a,l,f,d,_,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function bv(t,i,a,l,f,d,_,w,N,H,X,te){return t=new bS(t,i,a,_,N,H,X,te,w),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=md(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},_d(d),t}function wv(t){return t?(t=Ba,t):Ba}function Av(t,i,a,l,f,d){f=wv(f),l.context===null?l.context=f:l.pendingContext=f,l=Hi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fi(t,l,i),a!==null&&(gn(a,t,i),wl(a,t,i))}function Sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Pm(t,i){Sv(t,i),(t=t.alternate)&&Sv(t,i)}function Rv(t){if(t.tag===13||t.tag===31){var i=Xs(t,67108864);i!==null&&gn(i,t,67108864),Pm(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var i=In();i=Us(i);var a=Xs(t,i);a!==null&&gn(a,t,i),Pm(t,i)}}var dh=!0;function wS(t,i,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=2,Lm(t,i,a,l)}finally{oe.p=d,K.T=f}}function AS(t,i,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=8,Lm(t,i,a,l)}finally{oe.p=d,K.T=f}}function Lm(t,i,a,l){if(dh){var f=Um(l);if(f===null)wm(t,i,l,mh,a),Iv(t,l);else if(RS(f,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<SS.indexOf(t)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=_r(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-_t(_);w.entanglements[1]|=N,_&=~N}Lr(d),($e&6)===0&&(Xc=sn()+500,jl(0))}}break;case 31:case 13:w=Xs(d,2),w!==null&&gn(w,d,2),Jc(),Pm(d,2)}if(d=Um(l),d===null&&wm(t,i,l,mh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else wm(t,i,l,null,a)}}function Um(t){return t=Vn(t),jm(t)}var mh=null;function jm(t){if(mh=null,t=wr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mh=t,null}function xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Ko:return 2;case Yo:return 8;case xi:case Gf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var zm=!1,ts=null,ns=null,rs=null,$l=new Map,Ql=new Map,is=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Kl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&Rv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function RS(t,i,a,l,f){switch(i){case"focusin":return ts=Kl(ts,t,i,a,l,f),!0;case"dragenter":return ns=Kl(ns,t,i,a,l,f),!0;case"mouseover":return rs=Kl(rs,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Kl($l.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,Kl(Ql.get(d)||null,t,i,a,l,f)),!0}return!1}function Nv(t){var i=wr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){Cv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){Cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return i=kn(a),i!==null&&Rv(i),t.blockedOn=a,!1;i.shift()}return!0}function Dv(t,i,a){ph(t)&&a.delete(i)}function CS(){zm=!1,ts!==null&&ph(ts)&&(ts=null),ns!==null&&ph(ns)&&(ns=null),rs!==null&&ph(rs)&&(rs=null),$l.forEach(Dv),Ql.forEach(Dv)}function gh(t,i){t.blockedOn===i&&(t.blockedOn=null,zm||(zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CS)))}var yh=null;function Ov(t){yh!==t&&(yh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yh===t&&(yh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(jm(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,Ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ho(t){function i(N){return gh(N,t)}ts!==null&&gh(ts,t),ns!==null&&gh(ns,t),rs!==null&&gh(rs,t),$l.forEach(i),Ql.forEach(i);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||Ov(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)w=_.formAction;else if(jm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Ov(a)}}}function Mv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Bm(t){this._internalRoot=t}_h.prototype.render=Bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();Av(a,l,t,i,null,null)},_h.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),Jc(),i[Tr]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ju();t={blockedOn:null,target:t,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,t),a===0&&Nv(t)}};var kv=e.version;if(kv!=="19.2.0")throw Error(s(527,kv,"19.2.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var xS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Yn=vh.inject(xS),Ht=vh}catch{}}return Xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=B_,d=q_,_=H_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=bv(t,1,!1,null,null,a,l,null,f,d,_,Mv),t[Tr]=i.current,bm(t),new Bm(i)},Xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=B_,_=q_,w=H_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=bv(t,1,!0,i,a??null,l,f,N,d,_,w,Mv),i.context=wv(null),a=i.current,l=In(),l=Us(l),f=Hi(l),f.callback=null,Fi(a,f,l),a=l,i.current.lanes=a,Ps(i,a),Lr(i),t[Tr]=i.current,bm(t),new _h(i)},Xl.version="19.2.0",Xl}var Fv;function US(){if(Fv)return Fm.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=LS(),Fm.exports}var jS=US();const zS=zT(jS),BS="modulepreload",qS=function(r){return"/"+r},Gv={},ko=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let g=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=g(n.map(p=>{if(p=qS(p),p in Gv)return;Gv[p]=!0;const v=p.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":BS,v||(A.as="script"),A.crossOrigin="",A.href=p,m&&A.setAttribute("nonce",m),document.head.appendChild(A),v)return new Promise((D,z)=>{A.addEventListener("load",D),A.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var $v="popstate";function HS(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return fp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:fu(o)}return GS(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function On(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function Qv(r,e){return{usr:r.state,key:r.key,idx:e}}function fp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:n,key:e&&e.key||s||FS()}}function fu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Vo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function GS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=v(),W=L==null?null:L-p;p=L,g&&g({action:m,location:G.location,delta:W})}function A(L,W){m="PUSH";let ee=fp(G.location,L,W);p=v()+1;let re=Qv(ee,p),le=G.createHref(ee);try{h.pushState(re,"",le)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(le)}u&&g&&g({action:m,location:G.location,delta:1})}function D(L,W){m="REPLACE";let ee=fp(G.location,L,W);p=v();let re=Qv(ee,p),le=G.createHref(ee);h.replaceState(re,"",le),u&&g&&g({action:m,location:G.location,delta:0})}function z(L){return $S(L)}let G={get action(){return m},get location(){return r(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener($v,T),g=L,()=>{o.removeEventListener($v,T),g=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let W=z(L);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:D,go(L){return h.go(L)}};return G}function $S(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function BT(r,e,n="/"){return QS(r,e,n,!1)}function QS(r,e,n,s){let o=typeof e=="string"?Vo(e):e,u=vi(o.pathname||"/",n);if(u==null)return null;let h=qT(r);KS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=sR(u);m=rR(h[g],p,s)}return m}function qT(r,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&g)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=yi([s,v.relativePath]),A=n.concat(v);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),qT(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:tR(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of HT(h.path))u(h,m,!0,g)}),e}function HT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=HT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function KS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:nR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var YS=/^:[\w-]+$/,XS=3,WS=2,JS=1,ZS=10,eR=-2,Kv=r=>r==="*";function tR(r,e){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=eR),e&&(s+=WS),n.filter(o=>!Kv(o)).reduce((o,u)=>o+(YS.test(u)?XS:u===""?JS:ZS),s)}function nR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function rR(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),A=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:yi([u,T.pathname]),pathnameBase:cR(yi([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=yi([u,T.pathnameBase]))}return h}function Bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=iR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:T},A)=>{if(v==="*"){let z=m[A]||"";h=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const D=m[A];return T&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function iR(r,e=!1,n=!0){On(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var aR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oR=r=>aR.test(r);function lR(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Vo(r):r,u;if(n)if(oR(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Yv(n.substring(1),"/"):u=Yv(n,e)}else u=e;return{pathname:u,search:hR(s),hash:fR(o)}}function Yv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Km(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wp(r){let e=uR(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jp(r,e,n,s=!1){let o;typeof r=="string"?o=Vo(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=lR(o,m),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var yi=r=>r.join("/").replace(/\/\/+/g,"/"),cR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var mR=["GET",...FT];new Set(mR);var Po=j.createContext(null);Po.displayName="DataRouter";var hf=j.createContext(null);hf.displayName="DataRouterState";j.createContext(!1);var GT=j.createContext({isTransitioning:!1});GT.displayName="ViewTransition";var pR=j.createContext(new Map);pR.displayName="Fetchers";var gR=j.createContext(null);gR.displayName="Await";var fr=j.createContext(null);fr.displayName="Navigation";var Su=j.createContext(null);Su.displayName="Location";var dr=j.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var Zp=j.createContext(null);Zp.displayName="RouteError";function yR(r,{relative:e}={}){ht(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(fr),{hash:o,pathname:u,search:h}=Cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:yi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Lo(){return j.useContext(Su)!=null}function Kr(){return ht(Lo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Su).location}var $T="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(r){j.useContext(fr).static||j.useLayoutEffect(r)}function Ru(){let{isDataRoute:r}=j.useContext(dr);return r?DR():_R()}function _R(){ht(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Po),{basename:e,navigator:n}=j.useContext(fr),{matches:s}=j.useContext(dr),{pathname:o}=Kr(),u=JSON.stringify(Wp(s)),h=j.useRef(!1);return QT(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(On(h.current,$T),!h.current)return;if(typeof g=="number"){n.go(g);return}let v=Jp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,r])}j.createContext(null);function vR(){let{matches:r}=j.useContext(dr),e=r[r.length-1];return e?e.params:{}}function Cu(r,{relative:e}={}){let{matches:n}=j.useContext(dr),{pathname:s}=Kr(),o=JSON.stringify(Wp(n));return j.useMemo(()=>Jp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ER(r,e){return KT(r,e)}function KT(r,e,n,s,o){ht(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(fr),{matches:h}=j.useContext(dr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";YT(p,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=Kr(),D;if(e){let ee=typeof e=="string"?Vo(e):e;ht(v==="/"||ee.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),D=ee}else D=A;let z=D.pathname||"/",G=z;if(v!=="/"){let ee=v.replace(/^\//,"").split("/");G="/"+z.replace(/^\//,"").split("/").slice(ee.length).join("/")}let L=BT(r,{pathname:G});On(T||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),On(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=SR(L&&L.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:yi([v,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?v:yi([v,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),h,n,s,o);return e&&W?j.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},W):W}function TR(){let r=NR(),e=dR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var bR=j.createElement(TR,null),wR=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(dr.Provider,{value:this.props.routeContext},j.createElement(Zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AR({routeContext:r,match:e,children:n}){let s=j.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(dr.Provider,{value:r},n)}function SR(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ht(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,g=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=v),T.route.id){let{loaderData:A,errors:D}=n,z=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||z){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(v,T)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((v,T,A)=>{let D,z=!1,G=null,L=null;n&&(D=h&&T.route.id?h[T.route.id]:void 0,G=T.route.errorElement||bR,m&&(g<0&&A===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,L=null):g===A&&(z=!0,L=T.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,A+1)),ee=()=>{let re;return D?re=G:z?re=L:T.route.Component?re=j.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=v,j.createElement(AR,{match:T,routeContext:{outlet:v,matches:W,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?j.createElement(wR,{location:n.location,revalidation:n.revalidation,component:G,error:D,children:ee(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:p}):ee()},null)}function eg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(r){let e=j.useContext(Po);return ht(e,eg(r)),e}function CR(r){let e=j.useContext(hf);return ht(e,eg(r)),e}function xR(r){let e=j.useContext(dr);return ht(e,eg(r)),e}function tg(r){let e=xR(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function IR(){return tg("useRouteId")}function NR(){let r=j.useContext(Zp),e=CR("useRouteError"),n=tg("useRouteError");return r!==void 0?r:e.errors?.[n]}function DR(){let{router:r}=RR("useNavigate"),e=tg("useNavigate"),n=j.useRef(!1);return QT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{On(n.current,$T),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Xv={};function YT(r,e,n){!e&&!Xv[r]&&(Xv[r]=!0,On(!1,n))}j.memo(OR);function OR({routes:r,future:e,state:n,unstable_onError:s}){return KT(r,void 0,n,s,e)}function ds({to:r,replace:e,state:n,relative:s}){ht(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(fr);On(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(dr),{pathname:h}=Kr(),m=Ru(),g=Jp(r,Wp(u),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function $n(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Vo(n));let{pathname:g="/",search:p="",hash:v="",state:T=null,key:A="default"}=n,D=j.useMemo(()=>{let z=vi(g,h);return z==null?null:{location:{pathname:z,search:p,hash:v,state:T,key:A},navigationType:s}},[h,g,p,v,T,A,s]);return On(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:j.createElement(fr.Provider,{value:m},j.createElement(Su.Provider,{children:e,value:D}))}function kR({children:r,location:e}){return ER(dp(r),e)}function dp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,dp(s.props.children,u));return}ht(s.type===$n,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=dp(s.props.children,u)),n.push(h)}),n}var Ih="get",Nh="application/x-www-form-urlencoded";function ff(r){return r!=null&&typeof r.tagName=="string"}function VR(r){return ff(r)&&r.tagName.toLowerCase()==="button"}function PR(r){return ff(r)&&r.tagName.toLowerCase()==="form"}function LR(r){return ff(r)&&r.tagName.toLowerCase()==="input"}function UR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jR(r,e){return r.button===0&&(!e||e==="_self")&&!UR(r)}function mp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function zR(r,e){let n=mp(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Eh=null;function BR(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(r){return r!=null&&!qR.has(r)?(On(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):r}function HR(r,e){let n,s,o,u,h;if(PR(r)){let m=r.getAttribute("action");s=m?vi(m,e):null,n=r.getAttribute("method")||Ih,o=Ym(r.getAttribute("enctype"))||Nh,u=new FormData(r)}else if(VR(r)||LR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?vi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ih,o=Ym(r.getAttribute("formenctype"))||Ym(m.getAttribute("enctype"))||Nh,u=new FormData(m,r),!BR()){let{name:p,type:v,value:T}=r;if(v==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,T)}}else{if(ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ih,s=null,o=Nh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ng(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function GR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $R(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function QR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await GR(u,n);return h.links?h.links():[]}return[]}));return WR(s.flat(1).filter($R).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wv(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function KR(r,e,{includeHydrateFallback:n}={}){return YR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function YR(r){return[...new Set(r)]}function XR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function WR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(XR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XT(){let r=j.useContext(Po);return ng(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JR(){let r=j.useContext(hf);return ng(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rg=j.createContext(void 0);rg.displayName="FrameworkContext";function WT(){let r=j.useContext(rg);return ng(r,"You must render this element inside a <HydratedRouter> element"),r}function ZR(r,e){let n=j.useContext(rg),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,A=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=W=>{W.forEach(ee=>{h(ee.isIntersecting)})},L=new IntersectionObserver(G,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},z=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Wl(m,D),onBlur:Wl(g,z),onMouseEnter:Wl(p,D),onMouseLeave:Wl(v,z),onTouchStart:Wl(T,D)}]:[!1,A,{}]}function Wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function e2({page:r,...e}){let{router:n}=XT(),s=j.useMemo(()=>BT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(n2,{page:r,matches:s,...e}):null}function t2(r){let{manifest:e,routeModules:n}=WT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return QR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function n2({page:r,matches:e,...n}){let s=Kr(),{manifest:o,routeModules:u}=WT(),{basename:h}=XT(),{loaderData:m,matches:g}=JR(),p=j.useMemo(()=>Wv(r,e,g,o,s,"data"),[r,e,g,o,s]),v=j.useMemo(()=>Wv(r,e,g,o,s,"assets"),[r,e,g,o,s]),T=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,G=!1;if(e.forEach(W=>{let ee=o.routes[W.route.id];!ee||!ee.hasLoader||(!p.some(re=>re.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||ee.hasClientLoader?G=!0:z.add(W.route.id))}),z.size===0)return[];let L=FR(r,h,"data");return G&&z.size>0&&L.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,p,e,r,u]),A=j.useMemo(()=>KR(v,o),[v,o]),D=t2(v);return j.createElement(j.Fragment,null,T.map(z=>j.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>j.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),D.map(({key:z,link:G})=>j.createElement("link",{key:z,nonce:n.nonce,...G})))}function r2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.9.6")}catch{}function i2({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=HS({window:n,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(MR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ig=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:T,...A},D){let{basename:z}=j.useContext(fr),G=typeof p=="string"&&ZT.test(p),L,W=!1;if(typeof p=="string"&&G&&(L=p,JT))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),O=vi(M.pathname,z);M.origin===R.origin&&O!=null?p=O+M.search+M.hash:W=!0}catch{On(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=yR(p,{relative:o}),[re,le,de]=ZR(s,A),ge=l2(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:T});function I(R){e&&e(R),R.defaultPrevented||ge(R)}let C=j.createElement("a",{...A,...de,href:L||ee,onClick:W||u?e:I,ref:r2(D,le),target:g,"data-discover":!G&&n==="render"?"true":void 0});return re&&!G?j.createElement(j.Fragment,null,C,j.createElement(e2,{page:ee})):C});ig.displayName="Link";var s2=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},v){let T=Cu(h,{relative:p.relative}),A=Kr(),D=j.useContext(hf),{navigator:z,basename:G}=j.useContext(fr),L=D!=null&&d2(T)&&m===!0,W=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,ee=A.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,W=W.toLowerCase()),re&&G&&(re=vi(re,G)||re);const le=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let de=ee===W||!o&&ee.startsWith(W)&&ee.charAt(le)==="/",ge=re!=null&&(re===W||!o&&re.startsWith(W)&&re.charAt(W.length)==="/"),I={isActive:de,isPending:ge,isTransitioning:L},C=de?e:void 0,R;typeof s=="function"?R=s(I):R=[s,de?"active":null,ge?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return j.createElement(ig,{...p,"aria-current":C,className:R,ref:v,style:M,to:h,viewTransition:m},typeof g=="function"?g(I):g)});s2.displayName="NavLink";var a2=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ih,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:T,...A},D)=>{let z=h2(),G=f2(m,{relative:p}),L=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&ZT.test(m),ee=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let le=re.nativeEvent.submitter,de=le?.getAttribute("formmethod")||h;z(le||re.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:D,method:L,action:G,onSubmit:s?g:ee,...A,"data-discover":!W&&r==="render"?"true":void 0})});a2.displayName="Form";function o2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(r){let e=j.useContext(Po);return ht(e,o2(r)),e}function l2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Ru(),g=Kr(),p=Cu(r,{relative:u});return j.useCallback(v=>{if(jR(v,e)){v.preventDefault();let T=n!==void 0?n:fu(g)===fu(p);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,s,e,r,o,u,h])}function Fk(r){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(mp(r)),n=j.useRef(!1),s=Kr(),o=j.useMemo(()=>zR(s.search,n.current?null:e.current),[s.search]),u=Ru(),h=j.useCallback((m,g)=>{const p=mp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+p,g)},[u,o]);return[o,h]}var u2=0,c2=()=>`__${String(++u2)}__`;function h2(){let{router:r}=e1("useSubmit"),{basename:e}=j.useContext(fr),n=IR();return j.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=HR(s,e);if(o.navigate===!1){let v=o.fetcherKey||c2();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function f2(r,{relative:e}={}){let{basename:n}=j.useContext(fr),s=j.useContext(dr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(r||".",{relative:e})},h=Kr();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yi([n,u.pathname])),fu(u)}function d2(r,{relative:e}={}){let n=j.useContext(GT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e1("useViewTransitionState"),o=Cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=vi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=vi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bh(o.pathname,h)!=null||Bh(o.pathname,u)!=null}const m2=()=>{};var Jv={};const t1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},p2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(A=64)),s.push(n[v],n[T],n[A],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(t1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):p2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new g2;const A=u<<2|m>>4;if(s.push(A),p!==64){const D=m<<4&240|p>>2;if(s.push(D),T!==64){const z=p<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class g2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y2=function(r){const e=t1(r);return n1.encodeByteArray(e,!0)},qh=function(r){return y2(r).replace(/\./g,"")},r1=function(r){try{return n1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const v2=()=>_2().__FIREBASE_DEFAULTS__,E2=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},T2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&r1(r[1]);return e&&JSON.parse(e)},df=()=>{try{return m2()||v2()||E2()||T2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},i1=r=>df()?.emulatorHosts?.[r],sg=r=>{const e=i1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},s1=()=>df()?.config,a1=r=>df()?.[`_${r}`];class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Yr(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mf(r){return(await fetch(r,{credentials:"include"})).ok}function o1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qh(JSON.stringify(n)),qh(JSON.stringify(h)),""].join(".")}const su={};function w2(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function A2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Zv=!1;function pf(r,e){if(typeof window>"u"||typeof document>"u"||!Yr(window.location.host)||su[r]===e||su[r]||Zv)return;su[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=w2().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Zv=!0,h()},A}function v(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=A2(s),D=n("text"),z=document.getElementById(D)||document.createElement("span"),G=n("learnmore"),L=document.getElementById(G)||document.createElement("a"),W=n("preprendIcon"),ee=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),v(L,G);const le=p();g(ee,W),re.append(ee,z,L,le),document.body.appendChild(re)}u?(z.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function R2(){const r=df()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N2(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function D2(){return!R2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function M2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const k2="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=k2,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?V2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mr(o,m,s)}}function V2(r,e){return r.replace(P2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const P2=/\{\$([^}]+)}/g;function L2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ma(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(eE(u)&&eE(h)){if(!ma(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function eE(r){return r!==null&&typeof r=="object"}function Iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function eu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function U2(r,e){const n=new j2(r,e);return n.subscribe.bind(n)}class j2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xm(){}function Je(r){return r&&r._delegate?r._delegate:r}class Ei{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class B2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new b2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H2(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(r){return r===ua?void 0:r}function H2(r){return r.instantiationMode==="EAGER"}class F2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const G2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},$2=Ve.INFO,Q2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},K2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Q2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=$2,this._logHandler=K2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Y2=(r,e)=>e.some(n=>r instanceof n);let tE,nE;function X2(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W2(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l1=new WeakMap,pp=new WeakMap,u1=new WeakMap,Wm=new WeakMap,og=new WeakMap;function J2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ps(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&l1.set(n,r)}).catch(()=>{}),og.set(e,r),e}function Z2(r){if(pp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});pp.set(r,e)}let gp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||u1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eC(r){gp=r(gp)}function tC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jm(this),e,...n);return u1.set(s,e.sort?e.sort():[e]),ps(s)}:W2().includes(r)?function(...e){return r.apply(Jm(this),e),ps(l1.get(this))}:function(...e){return ps(r.apply(Jm(this),e))}}function nC(r){return typeof r=="function"?tC(r):(r instanceof IDBTransaction&&Z2(r),Y2(r,X2())?new Proxy(r,gp):r)}function ps(r){if(r instanceof IDBRequest)return J2(r);if(Wm.has(r))return Wm.get(r);const e=nC(r);return e!==r&&(Wm.set(r,e),og.set(e,r)),e}const Jm=r=>og.get(r);function rC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ps(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ps(h.result),g.oldVersion,g.newVersion,ps(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const iC=["get","getKey","getAll","getAllKeys","count"],sC=["put","add","delete","clear"],Zm=new Map;function rE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=sC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iC.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Zm.set(e,u),u}eC(r=>({...r,get:(e,n,s)=>rE(e,n)||r.get(e,n,s),has:(e,n)=>!!rE(e,n)||r.has(e,n)}));class aC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oC(r){return r.getComponent()?.type==="VERSION"}const yp="@firebase/app",iE="0.14.5";const Ti=new ag("@firebase/app"),lC="@firebase/app-compat",uC="@firebase/analytics-compat",cC="@firebase/analytics",hC="@firebase/app-check-compat",fC="@firebase/app-check",dC="@firebase/auth",mC="@firebase/auth-compat",pC="@firebase/database",gC="@firebase/data-connect",yC="@firebase/database-compat",_C="@firebase/functions",vC="@firebase/functions-compat",EC="@firebase/installations",TC="@firebase/installations-compat",bC="@firebase/messaging",wC="@firebase/messaging-compat",AC="@firebase/performance",SC="@firebase/performance-compat",RC="@firebase/remote-config",CC="@firebase/remote-config-compat",xC="@firebase/storage",IC="@firebase/storage-compat",NC="@firebase/firestore",DC="@firebase/ai",OC="@firebase/firestore-compat",MC="firebase",kC="12.5.0";const _p="[DEFAULT]",VC={[yp]:"fire-core",[lC]:"fire-core-compat",[cC]:"fire-analytics",[uC]:"fire-analytics-compat",[fC]:"fire-app-check",[hC]:"fire-app-check-compat",[dC]:"fire-auth",[mC]:"fire-auth-compat",[pC]:"fire-rtdb",[gC]:"fire-data-connect",[yC]:"fire-rtdb-compat",[_C]:"fire-fn",[vC]:"fire-fn-compat",[EC]:"fire-iid",[TC]:"fire-iid-compat",[bC]:"fire-fcm",[wC]:"fire-fcm-compat",[AC]:"fire-perf",[SC]:"fire-perf-compat",[RC]:"fire-rc",[CC]:"fire-rc-compat",[xC]:"fire-gcs",[IC]:"fire-gcs-compat",[NC]:"fire-fst",[OC]:"fire-fst-compat",[DC]:"fire-vertex","fire-js":"fire-js",[MC]:"fire-js-all"};const wo=new Map,vp=new Map,Ep=new Map;function sE(r,e){try{r.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function vs(r){const e=r.name;if(Ep.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,r);for(const n of wo.values())sE(n,r);for(const n of vp.values())sE(n,r);return!0}function Nu(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function _n(r){return r==null?!1:r.settings!==void 0}const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new xu("app","Firebase",PC);class LC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const va=kC;function c1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:_p,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=s1()),!n)throw gs.create("no-options");const u=wo.get(o);if(u){if(ma(n,u.options)&&ma(s,u.config))return u;throw gs.create("duplicate-app",{appName:o})}const h=new F2(o);for(const g of Ep.values())h.addComponent(g);const m=new LC(n,s,h);return wo.set(o,m),m}function gf(r=_p){const e=wo.get(r);if(!e&&r===_p&&s1())return c1();if(!e)throw gs.create("no-app",{appName:r});return e}async function Gk(r){let e=!1;const n=r.name;wo.has(n)?(e=!0,wo.delete(n)):vp.has(n)&&r.decRefCount()<=0&&(vp.delete(n),e=!0),e&&(await Promise.all(r.container.getProviders().map(s=>s.delete())),r.isDeleted=!0)}function Kn(r,e,n){let s=VC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}vs(new Ei(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const UC="firebase-heartbeat-database",jC=1,du="firebase-heartbeat-store";let ep=null;function h1(){return ep||(ep=rC(UC,jC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(r=>{throw gs.create("idb-open",{originalErrorMessage:r.message})})),ep}async function zC(r){try{const n=(await h1()).transaction(du),s=await n.objectStore(du).get(f1(r));return await n.done,s}catch(e){if(e instanceof mr)Ti.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function aE(r,e){try{const s=(await h1()).transaction(du,"readwrite");await s.objectStore(du).put(e,f1(r)),await s.done}catch(n){if(n instanceof mr)Ti.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(s.message)}}}function f1(r){return`${r.name}!${r.options.appId}`}const BC=1024,qC=30;class HC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qC){const o=$C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oE(),{heartbeatsToSend:n,unsentEntries:s}=FC(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function oE(){return new Date().toISOString().substring(0,10)}function FC(r,e=BC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),lE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?M2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lE(r){return qh(JSON.stringify({version:2,heartbeats:r})).length}function $C(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function QC(r){vs(new Ei("platform-logger",e=>new aC(e),"PRIVATE")),vs(new Ei("heartbeat",e=>new HC(e),"PRIVATE")),Kn(yp,iE,r),Kn(yp,iE,"esm2020"),Kn("fire-js","")}QC("");function d1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=d1,m1=new xu("auth","Firebase",d1());const Hh=new ag("@firebase/auth");function YC(r,...e){Hh.logLevel<=Ve.WARN&&Hh.warn(`Auth (${va}): ${r}`,...e)}function Dh(r,...e){Hh.logLevel<=Ve.ERROR&&Hh.error(`Auth (${va}): ${r}`,...e)}function ur(r,...e){throw lg(r,...e)}function zr(r,...e){return lg(r,...e)}function p1(r,e,n){const s={...KC(),[e]:n};return new xu("auth","Firebase",s).create(e,{appName:r.name})}function _i(r){return p1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return m1.create(r,...e)}function ve(r,e,...n){if(!r)throw lg(e,...n)}function pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dh(e),new Error(e)}function bi(r,e){r||pi(e)}function Tp(){return typeof self<"u"&&self.location?.href||""}function XC(){return uE()==="http:"||uE()==="https:"}function uE(){return typeof self<"u"&&self.location?.protocol||null}function WC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||x2()||"connection"in navigator)?navigator.onLine:!0}function JC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=S2()||I2()}get(){return WC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(r,e){bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class g1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ex=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tx=new Du(3e4,6e4);function Si(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ri(r,e,n,s,o={}){return y1(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Iu({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return C2()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Yr(r.emulatorConfig.host)&&(p.credentials="include"),g1.fetch()(await _1(r,r.config.apiHost,n,m),p)})}async function y1(r,e,n){r._canInitEmulator=!1;const s={...ZC,...e};try{const o=new rx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Th(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Th(r,"user-disabled",h);const v=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw p1(r,v,p);ur(r,v)}}catch(o){if(o instanceof mr)throw o;ur(r,"network-request-failed",{message:String(o)})}}async function Ou(r,e,n,s,o={}){const u=await Ri(r,e,n,s,o);return"mfaPendingCredential"in u&&ur(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?ug(r.config,o):`${r.config.apiScheme}://${o}`;return ex.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function nx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zr(this.auth,"network-request-failed")),tx.get())})}}function Th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zr(r,e,s);return o.customData._tokenResponse=n,o}function cE(r){return r!==void 0&&r.enterprise!==void 0}class ix{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sx(r,e){return Ri(r,"GET","/v2/recaptchaConfig",Si(r,e))}async function ax(r,e){return Ri(r,"POST","/v1/accounts:delete",e)}async function Fh(r,e){return Ri(r,"POST","/v1/accounts:lookup",e)}function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ox(r,e=!1){const n=Je(r),s=await n.getIdToken(e),o=cg(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:au(tp(o.auth_time)),issuedAtTime:au(tp(o.iat)),expirationTime:au(tp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tp(r){return Number(r)*1e3}function cg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r1(n);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hE(r){const e=cg(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&lx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function lx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ux{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gh(r){const e=r.auth,n=await r.getIdToken(),s=await mu(r,Fh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?v1(o.providerUserInfo):[],h=hx(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,v)}async function cx(r){const e=Je(r);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function v1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fx(r,e){const n=await y1(r,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await _1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Yr(r.emulatorConfig.host)&&(g.credentials="include"),g1.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dx(r,e){return Ri(r,"POST","/v2/accounts:revokeToken",Si(r,e))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=hE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new _o;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return pi("not implemented")}}function as(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ox(this,e)}reload(){return cx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await mu(this,ax(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:D,providerData:z,stsTokenManager:G}=n;ve(T&&G,e,"internal-error");const L=_o.fromJSON(this.name,G);ve(typeof T=="string",e,"internal-error"),as(s,e.name),as(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof D=="boolean",e,"internal-error"),as(u,e.name),as(h,e.name),as(m,e.name),as(g,e.name),as(p,e.name),as(v,e.name);const W=new or({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:p,lastLoginAt:v});return z&&Array.isArray(z)&&(W.providerData=z.map(ee=>({...ee}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?v1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(s);const g=new or({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const fE=new Map;function gi(r){bi(r instanceof Function,"Expected a class definition");let e=fE.get(r);return e?(bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,fE.set(r,e),e)}class E1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E1.type="NONE";const dE=E1;function Oh(r,e,n){return`firebase:${r}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(gi(dE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||gi(dE);const h=Oh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const v=await p._get(h);if(v){let T;if(typeof v=="string"){const A=await Fh(e,{idToken:v}).catch(()=>{});if(!A)break;T=await or._fromGetAccountInfoResponse(e,A,v)}else T=or._fromJSON(e,v);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new vo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new vo(u,e,s))}}function mE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R1(e))return"Blackberry";if(C1(e))return"Webos";if(b1(e))return"Safari";if((e.includes("chrome/")||w1(e))&&!e.includes("edge/"))return"Chrome";if(S1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function T1(r=rn()){return/firefox\//i.test(r)}function b1(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w1(r=rn()){return/crios\//i.test(r)}function A1(r=rn()){return/iemobile/i.test(r)}function S1(r=rn()){return/android/i.test(r)}function R1(r=rn()){return/blackberry/i.test(r)}function C1(r=rn()){return/webos/i.test(r)}function hg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mx(r=rn()){return hg(r)&&!!window.navigator?.standalone}function px(){return N2()&&document.documentMode===10}function x1(r=rn()){return hg(r)||S1(r)||C1(r)||R1(r)||/windows phone/i.test(r)||A1(r)}function I1(r,e=[]){let n;switch(r){case"Browser":n=mE(rn());break;case"Worker":n=`${mE(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${s}`}class gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function yx(r,e={}){return Ri(r,"GET","/v2/passwordPolicy",Si(r,e))}const _x=6;class vx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_x,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Ex{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),s=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(_i(this));const n=e?Je(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yx(this),n=new vx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xs(r){return Je(r)}class pE{constructor(e){this.auth=e,this.observer=null,this.addObserver=U2(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tx(r){yf=r}function N1(r){return yf.loadJS(r)}function bx(){return yf.recaptchaEnterpriseScript}function wx(){return yf.gapiScript}function Ax(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Sx{constructor(){this.enterprise=new Rx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Rx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Cx="recaptcha-enterprise",D1="NO_RECAPTCHA";class xx{constructor(e){this.type=Cx,this.auth=xs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{sx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new ix(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;cE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(D1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sx().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&cE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=bx();g.length!==0&&(g+=m),N1(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function gE(r,e,n,s=!1,o=!1){const u=new xx(r);let h;if(o)h=D1;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await gE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await gE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function Ix(r,e){const n=Nu(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ma(u,e??{}))return o;ur(o,"already-initialized")}return n.initialize({options:e})}function Nx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Dx(r,e,n){const s=xs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=O1(e),{host:h,port:m}=Ox(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ma(p,s.config.emulator)&&ma(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Yr(h)?(mf(`${u}//${h}${g}`),pf("Auth",!0)):Mx()}function O1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ox(r){const e=O1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:yE(h)}}}function yE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Mx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function kx(r,e){return Ri(r,"POST","/v1/accounts:signUp",e)}async function Vx(r,e){return Ou(r,"POST","/v1/accounts:signInWithPassword",Si(r,e))}async function Px(r,e){return Ri(r,"POST","/v1/accounts:sendOobCode",Si(r,e))}async function Lx(r,e){return Px(r,e)}async function Ux(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}async function jx(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}class pu extends fg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,n,"signInWithPassword",Vx);case"emailLink":return Ux(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,s,"signUpPassword",kx);case"emailLink":return jx(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eo(r,e){return Ou(r,"POST","/v1/accounts:signInWithIdp",Si(r,e))}const zx="http://localhost";class pa extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new pa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}function Bx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qx(r){const e=Zl(eu(r)).link,n=e?Zl(eu(e)).deep_link_id:null,s=Zl(eu(r)).deep_link_id;return(s?Zl(eu(s)).link:null)||s||n||e||r}class dg{constructor(e){const n=Zl(eu(e)),s=n.apiKey??null,o=n.oobCode??null,u=Bx(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qx(e);try{return new dg(n)}catch{return null}}}class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=dg.parseLink(n);return ve(s,"argument-error"),pu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class M1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mu extends M1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class os extends Mu{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";class ls extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";class us extends Mu{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends Mu{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";async function Hx(r,e){return Ou(r,"POST","/v1/accounts:signUp",Si(r,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await or._fromIdTokenResponse(e,s,o),h=_E(s);return new Es({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_E(s);return new Es({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _E(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $k(r){if(_n(r.app))return Promise.reject(_i(r));const e=xs(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Es({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await Hx(e,{returnSecureToken:!0}),s=await Es._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}class $h extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new $h(e,n,s,o)}}function k1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(r,u,e,s):u})}async function Fx(r,e,n=!1){const s=await mu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Es._forOperation(r,"link",s)}async function Gx(r,e,n=!1){const{auth:s}=r;if(_n(s.app))return Promise.reject(_i(s));const o="reauthenticate";try{const u=await mu(r,k1(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=cg(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),Es._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ur(s,"user-mismatch"),u}}async function V1(r,e,n=!1){if(_n(r.app))return Promise.reject(_i(r));const s="signIn",o=await k1(r,s,e),u=await Es._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function $x(r,e){return V1(xs(r),e)}async function Qx(r){const e=xs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qk(r,e,n){const s=xs(r);await wp(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Lx)}function Kx(r,e,n){return _n(r.app)?Promise.reject(_i(r)):$x(Je(r),Uo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Qx(r),s})}function Yx(r,e,n,s){return Je(r).onIdTokenChanged(e,n,s)}function Xx(r,e,n){return Je(r).beforeAuthStateChanged(e,n)}function Wx(r,e,n,s){return Je(r).onAuthStateChanged(e,n,s)}const Qh="__sak";class P1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jx=1e3,Zx=10;class L1 extends P1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);px()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Zx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L1.type="LOCAL";const eI=L1;class U1 extends P1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U1.type="SESSION";const j1=U1;function tI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new _f(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await tI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function mg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class nI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=mg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Br(){return window}function rI(r){Br().location.href=r}function z1(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function iI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sI(){return navigator?.serviceWorker?.controller||null}function aI(){return z1()?self:null}const B1="firebaseLocalStorageDb",oI=1,Kh="firebaseLocalStorage",q1="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(r,e){return r.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function lI(){const r=indexedDB.deleteDatabase(B1);return new ku(r).toPromise()}function Ap(){const r=indexedDB.open(B1,oI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kh,{keyPath:q1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await lI(),e(await Ap()))})})}async function vE(r,e,n){const s=vf(r,!0).put({[q1]:e,value:n});return new ku(s).toPromise()}async function uI(r,e){const n=vf(r,!1).get(e),s=await new ku(n).toPromise();return s===void 0?null:s.value}function EE(r,e){const n=vf(r,!0).delete(e);return new ku(n).toPromise()}const cI=800,hI=3;class H1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(aI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iI(),!this.activeServiceWorker)return;this.sender=new nI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await vE(e,Qh,"1"),await EE(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H1.type="LOCAL";const fI=H1;new Du(3e4,6e4);function dI(r,e){return e?gi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pg extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mI(r){return V1(r.auth,new pg(r),r.bypassAuthState)}function pI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),Gx(n,new pg(r),r.bypassAuthState)}async function gI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),Fx(n,new pg(r),r.bypassAuthState)}class F1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mI;case"linkViaPopup":case"linkViaRedirect":return gI;case"reauthViaPopup":case"reauthViaRedirect":return pI;default:ur(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yI=new Du(2e3,1e4);class yo extends F1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yI.get())};e()}}yo.currentPopupAction=null;const _I="pendingRedirect",Mh=new Map;class vI extends F1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await EI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EI(r,e){const n=wI(e),s=bI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TI(r,e){Mh.set(r._key(),e)}function bI(r){return gi(r._redirectPersistence)}function wI(r){return Oh(_I,r.config.apiKey,r.name)}async function AI(r,e,n=!1){if(_n(r.app))return Promise.reject(_i(r));const s=xs(r),o=dI(s,e),h=await new vI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const SI=600*1e3;class RI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!G1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SI&&this.cachedEventUids.clear(),this.cachedEventUids.has(TE(e))}saveEventToCache(e){this.cachedEventUids.add(TE(e)),this.lastProcessedEventTime=Date.now()}}function TE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function G1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function CI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G1(r);default:return!1}}async function xI(r,e={}){return Ri(r,"GET","/v1/projects",e)}const II=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NI=/^https?/;async function DI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xI(r);for(const n of e)try{if(OI(n))return}catch{}ur(r,"unauthorized-domain")}function OI(r){const e=Tp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!NI.test(n))return!1;if(II.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const MI=new Du(3e4,6e4);function bE(){const r=Br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function kI(r){return new Promise((e,n)=>{function s(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(zr(r,"network-request-failed"))},timeout:MI.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)s();else{const o=Ax("iframefcb");return Br()[o]=()=>{gapi.load?s():n(zr(r,"network-request-failed"))},N1(`${wx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function VI(r){return kh=kh||kI(r),kh}const PI=new Du(5e3,15e3),LI="__/auth/iframe",UI="emulator/auth/iframe",jI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ug(e,UI):`https://${r.config.authDomain}/${LI}`,s={apiKey:e.apiKey,appName:r.name,v:va},o=zI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Iu(s).slice(1)}`}async function qI(r){const e=await VI(r),n=Br().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:BI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=zr(r,"network-request-failed"),m=Br().setTimeout(()=>{u(h)},PI.get());function g(){Br().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const HI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FI=500,GI=600,$I="_blank",QI="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KI(r,e,n,s=FI,o=GI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...HI,width:s.toString(),height:o.toString(),top:u,left:h},p=rn().toLowerCase();n&&(m=w1(p)?$I:n),T1(p)&&(e=e||QI,g.scrollbars="yes");const v=Object.entries(g).reduce((A,[D,z])=>`${A}${D}=${z},`,"");if(mx(p)&&m!=="_self")return YI(e||"",m),new wE(null);const T=window.open(e||"",m,v);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new wE(T)}function YI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const XI="__/auth/handler",WI="emulator/auth/handler",JI=encodeURIComponent("fac");async function AE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:va,eventId:o};if(e instanceof M1){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",L2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Mu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await r._getAppCheckToken(),p=g?`#${JI}=${encodeURIComponent(g)}`:"";return`${ZI(r)}?${Iu(m).slice(1)}${p}`}function ZI({config:r}){return r.emulator?ug(r,WI):`https://${r.authDomain}/${XI}`}const np="webStorageSupport";class eN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=AI,this._overrideRedirectResult=TI}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await AE(e,n,s,Tp(),o);return KI(e,u,mg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await AE(e,n,s,Tp(),o);return rI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await qI(e),s=new RI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},o=>{const u=o?.[0]?.[np];u!==void 0&&n(!!u),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return x1()||b1()||hg()}}const tN=eN;var SE="@firebase/auth",RE="1.11.1";class nN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(r){vs(new Ei("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I1(r)},p=new Ex(s,o,u,g);return Nx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vs(new Ei("auth-internal",e=>{const n=xs(e.getProvider("auth").getImmediate());return(s=>new nN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(SE,RE,rN(r)),Kn(SE,RE,"esm2020")}const sN=300,aN=a1("authIdTokenMaxAge")||sN;let CE=null;const oN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aN)return;const o=n?.token;CE!==o&&(CE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lN(r=gf()){const e=Nu(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Ix(r,{popupRedirectResolver:tN,persistence:[fI,eI,j1]}),s=a1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=oN(u.toString());Xx(n,h,()=>h(n.currentUser)),Yx(n,m=>h(m))}}const o=i1("auth");return o&&Dx(n,`http://${o}`),n}function uN(){return document.getElementsByTagName("head")?.[0]??document}Tx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=zr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var cN="firebase",hN="12.5.0";Kn(cN,hN,"app");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,$1;(function(){var r;function e(I,C){function R(){}R.prototype=C.prototype,I.F=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,O,P){for(var x=Array(arguments.length-2),je=2;je<arguments.length;je++)x[je-2]=arguments[je];return C.prototype[O].apply(M,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,R){R||(R=0);const M=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)M[O]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],O=I.g[2];let P=I.g[3],x;x=C+(P^R&(O^P))+M[0]+3614090360&4294967295,C=R+(x<<7&4294967295|x>>>25),x=P+(O^C&(R^O))+M[1]+3905402710&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(R^P&(C^R))+M[2]+606105819&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(C^O&(P^C))+M[3]+3250441966&4294967295,R=O+(x<<22&4294967295|x>>>10),x=C+(P^R&(O^P))+M[4]+4118548399&4294967295,C=R+(x<<7&4294967295|x>>>25),x=P+(O^C&(R^O))+M[5]+1200080426&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(R^P&(C^R))+M[6]+2821735955&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(C^O&(P^C))+M[7]+4249261313&4294967295,R=O+(x<<22&4294967295|x>>>10),x=C+(P^R&(O^P))+M[8]+1770035416&4294967295,C=R+(x<<7&4294967295|x>>>25),x=P+(O^C&(R^O))+M[9]+2336552879&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(R^P&(C^R))+M[10]+4294925233&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(C^O&(P^C))+M[11]+2304563134&4294967295,R=O+(x<<22&4294967295|x>>>10),x=C+(P^R&(O^P))+M[12]+1804603682&4294967295,C=R+(x<<7&4294967295|x>>>25),x=P+(O^C&(R^O))+M[13]+4254626195&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(R^P&(C^R))+M[14]+2792965006&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(C^O&(P^C))+M[15]+1236535329&4294967295,R=O+(x<<22&4294967295|x>>>10),x=C+(O^P&(R^O))+M[1]+4129170786&4294967295,C=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(C^R))+M[6]+3225465664&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^R&(P^C))+M[11]+643717713&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^C&(O^P))+M[0]+3921069994&4294967295,R=O+(x<<20&4294967295|x>>>12),x=C+(O^P&(R^O))+M[5]+3593408605&4294967295,C=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(C^R))+M[10]+38016083&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^R&(P^C))+M[15]+3634488961&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^C&(O^P))+M[4]+3889429448&4294967295,R=O+(x<<20&4294967295|x>>>12),x=C+(O^P&(R^O))+M[9]+568446438&4294967295,C=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(C^R))+M[14]+3275163606&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^R&(P^C))+M[3]+4107603335&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^C&(O^P))+M[8]+1163531501&4294967295,R=O+(x<<20&4294967295|x>>>12),x=C+(O^P&(R^O))+M[13]+2850285829&4294967295,C=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(C^R))+M[2]+4243563512&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^R&(P^C))+M[7]+1735328473&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^C&(O^P))+M[12]+2368359562&4294967295,R=O+(x<<20&4294967295|x>>>12),x=C+(R^O^P)+M[5]+4294588738&4294967295,C=R+(x<<4&4294967295|x>>>28),x=P+(C^R^O)+M[8]+2272392833&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^R)+M[11]+1839030562&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^C)+M[14]+4259657740&4294967295,R=O+(x<<23&4294967295|x>>>9),x=C+(R^O^P)+M[1]+2763975236&4294967295,C=R+(x<<4&4294967295|x>>>28),x=P+(C^R^O)+M[4]+1272893353&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^R)+M[7]+4139469664&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^C)+M[10]+3200236656&4294967295,R=O+(x<<23&4294967295|x>>>9),x=C+(R^O^P)+M[13]+681279174&4294967295,C=R+(x<<4&4294967295|x>>>28),x=P+(C^R^O)+M[0]+3936430074&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^R)+M[3]+3572445317&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^C)+M[6]+76029189&4294967295,R=O+(x<<23&4294967295|x>>>9),x=C+(R^O^P)+M[9]+3654602809&4294967295,C=R+(x<<4&4294967295|x>>>28),x=P+(C^R^O)+M[12]+3873151461&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^R)+M[15]+530742520&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^C)+M[2]+3299628645&4294967295,R=O+(x<<23&4294967295|x>>>9),x=C+(O^(R|~P))+M[0]+4096336452&4294967295,C=R+(x<<6&4294967295|x>>>26),x=P+(R^(C|~O))+M[7]+1126891415&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~R))+M[14]+2878612391&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~C))+M[5]+4237533241&4294967295,R=O+(x<<21&4294967295|x>>>11),x=C+(O^(R|~P))+M[12]+1700485571&4294967295,C=R+(x<<6&4294967295|x>>>26),x=P+(R^(C|~O))+M[3]+2399980690&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~R))+M[10]+4293915773&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~C))+M[1]+2240044497&4294967295,R=O+(x<<21&4294967295|x>>>11),x=C+(O^(R|~P))+M[8]+1873313359&4294967295,C=R+(x<<6&4294967295|x>>>26),x=P+(R^(C|~O))+M[15]+4264355552&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~R))+M[6]+2734768916&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~C))+M[13]+1309151649&4294967295,R=O+(x<<21&4294967295|x>>>11),x=C+(O^(R|~P))+M[4]+4149444226&4294967295,C=R+(x<<6&4294967295|x>>>26),x=P+(R^(C|~O))+M[11]+3174756917&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~R))+M[2]+718787259&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~C))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const R=C-this.blockSize,M=this.C;let O=this.h,P=0;for(;P<C;){if(O==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<C;)if(M[O++]=I.charCodeAt(P++),O==this.blockSize){o(this,M),O=0;break}}else for(;P<C;)if(M[O++]=I[P++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[C++]=this.g[R]>>>M&255;return I};function u(I,C){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function h(I,C){this.h=C;const R=[];let M=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;M&&P==C||(R[O]=P,M=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(C){return new h([C|0],C<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return L(p(-I));const C=[];let R=1;for(let M=0;I>=R;M++)C[M]=I/R|0,R*=4294967296;return new h(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return L(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(C,8));let M=T;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const x=parseInt(I.substring(P,P+O),C);O<8?(O=p(Math.pow(C,O)),M=M.j(O).add(p(x))):(M=M.j(R),M=M.add(p(x)))}return M}var T=g(0),A=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(G(this))return-L(this).m();let I=0,C=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(G(this))return"-"+L(this).toString(I);const C=p(Math.pow(I,6));var R=this;let M="";for(;;){const O=le(R,C).g;R=W(R,O.j(C));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,z(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function G(I){return I.h==-1}r.l=function(I){return I=W(this,I),G(I)?-1:z(I)?0:1};function L(I){const C=I.g.length,R=[];for(let M=0;M<C;M++)R[M]=~I.g[M];return new h(R,~I.h).add(A)}r.abs=function(){return G(this)?L(this):this},r.add=function(I){const C=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let O=0;O<=C;O++){let P=M+(this.i(O)&65535)+(I.i(O)&65535),x=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=x>>>16,P&=65535,x&=65535,R[O]=x<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function W(I,C){return I.add(L(C))}r.j=function(I){if(z(this)||z(I))return T;if(G(this))return G(I)?L(this).j(L(I)):L(L(this).j(I));if(G(I))return L(this.j(L(I)));if(this.l(D)<0&&I.l(D)<0)return p(this.m()*I.m());const C=this.g.length+I.g.length,R=[];for(var M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const P=this.i(M)>>>16,x=this.i(M)&65535,je=I.i(O)>>>16,Te=I.i(O)&65535;R[2*M+2*O]+=x*Te,ee(R,2*M+2*O),R[2*M+2*O+1]+=P*Te,ee(R,2*M+2*O+1),R[2*M+2*O+1]+=x*je,ee(R,2*M+2*O+1),R[2*M+2*O+2]+=P*je,ee(R,2*M+2*O+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new h(R,0)};function ee(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function re(I,C){this.g=I,this.h=C}function le(I,C){if(z(C))throw Error("division by zero");if(z(I))return new re(T,T);if(G(I))return C=le(L(I),C),new re(L(C.g),L(C.h));if(G(C))return C=le(I,L(C)),new re(L(C.g),C.h);if(I.g.length>30){if(G(I)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=C;M.l(I)<=0;)R=de(R),M=de(M);var O=ge(R,1),P=ge(M,1);for(M=ge(M,2),R=ge(R,2);!z(M);){var x=P.add(M);x.l(I)<=0&&(O=O.add(R),P=x),M=ge(M,1),R=ge(R,1)}return C=W(I,O.j(C)),new re(O,C)}for(O=T;I.l(C)>=0;){for(R=Math.max(1,Math.floor(I.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=p(R),x=P.j(C);G(x)||x.l(I)>0;)R-=M,P=p(R),x=P.j(C);z(P)&&(P=A),O=O.add(P),I=W(I,x)}return new re(O,I)}r.B=function(I){return le(this,I).h},r.and=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)&I.i(M);return new h(R,this.h&I.h)},r.or=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)|I.i(M);return new h(R,this.h|I.h)},r.xor=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)^I.i(M);return new h(R,this.h^I.h)};function de(I){const C=I.g.length+1,R=[];for(let M=0;M<C;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(R,I.h)}function ge(I,C){const R=C>>5;C%=32;const M=I.g.length-R,O=[];for(let P=0;P<M;P++)O[P]=C>0?I.i(P+R)>>>C|I.i(P+R+1)<<32-C:I.i(P+R);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,ys=h}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q1,tu,K1,Vh,Sp,Y1,X1,W1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in E))break e;E=E[B]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=g,p.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,B,$){for(var ae=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ae[Re-2]=arguments[Re];return y.prototype[B].apply(S,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function z(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const $=B.length||0;c.length=E+$;for(let ae=0;ae<$;ae++)c[E+ae]=B[ae]}else c.push(B)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function W(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const S=re.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new G(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,I=new ee,C=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){L(E)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function je(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(je,O),je.prototype.init=function(c,y){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(c,y,E,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=B,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function Ke(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function k(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,y){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)c[E]=S[E];for(let $=0;$<Z.length;$++)E=Z[$],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,S,B){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const ae=xe(c,y,S,B);return ae>-1?(y=c[ae],E||(y.fa=!1)):(y=new oe(y,this.src,$,!!S,B),y.fa=E,c.push(y)),y};function be(c,y){const E=y.type;if(E in c.g){var S=c.g[E],B=Array.prototype.indexOf.call(S,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(S,B,1),$&&(me(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,y,E,S){for(let B=0;B<c.length;++B){const $=c[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==S)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(c,y,E,S,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)lt(c,y[$],E,S,B);return null}return E=Qo(E),c&&c[Te]?c.J(y,E,m(S)?!!S.capture:!1,B):Os(c,y,E,!1,S,B)}function Os(c,y,E,S,B,$){if(!y)throw Error("Invalid event type");const ae=m(B)?!!B.capture:!!B;let Re=Ms(c);if(Re||(c[Be]=Re=new ue(c)),E=Re.add(y,E,S,ae,$),E.proxy)return E;if(S=ba(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)P||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(gr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ba(){function c(E){return y.call(c.src,c.listener,E)}const y=Go;return c}function wa(c,y,E,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)wa(c,y[$],E,S,B);else S=m(S)?!!S.capture:!!S,E=Qo(E),c&&c[Te]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],E=xe(y,E,S,B),E>-1&&(me(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=Ms(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,E,S,B)),(E=c>-1?y[c]:null)&&Aa(E))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Te])be(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(gr(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Ms(y))?(be(E,c),E.h==0&&(E.src=null,y[Be]=null)):me(c)}}}function gr(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Go(c,y){if(c.da)c=!0;else{y=new je(y,this);const E=c.listener,S=c.ha||c.src;c.fa&&Aa(c),c=E.call(S,y)}return c}function Ms(c){return c=c[Be],c instanceof ue?c:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qo(c){return typeof c=="function"?c:(c[$o]||(c[$o]=function(y){return c.handleEvent(y)}),c[$o])}function wt(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}T(wt,M),wt.prototype[Te]=!0,wt.prototype.removeEventListener=function(c,y,E,S){wa(this,c,y,E,S)};function Pt(c,y){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(S,c),ie(y,B)}B=!0;let $,ae;if(E)for(ae=E.length-1;ae>=0;ae--)$=y.g=E[ae],B=Ci($,S,!0,y)&&B;if($=y.g=c,B=Ci($,S,!0,y)&&B,B=Ci($,S,!1,y)&&B,E)for(ae=0;ae<E.length;ae++)$=y.g=E[ae],B=Ci($,S,!1,y)&&B}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let S=0;S<E.length;S++)me(E[S]);delete c.g[y],c.h--}}this.G=null},wt.prototype.J=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},wt.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function Ci(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const ae=y[$];if(ae&&!ae.da&&ae.capture==E){const Re=ae.listener,vt=ae.ha||ae.src;ae.fa&&be(c.i,ae),B=Re.call(vt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ff(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Gu(c){c.g=Ff(()=>{c.g=null,c.i&&(c.i=!1,Gu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){M.call(this),this.h=c,this.g={}}T(ks,M);var Ko=[];function Yo(c){Ne(c.g,function(y,E){this.g.hasOwnProperty(E)&&Aa(y)},c),c.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Yo(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=h.JSON.stringify,Gf=h.JSON.parse,$u=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Qu(){}function Ku(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}T(Ht,O);function Mn(){O.call(this,"c")}T(Mn,O);var _t={},Yu=null;function Sa(){return Yu=Yu||new wt}_t.Ia="serverreachability";function Xu(c){O.call(this,_t.Ia,c)}T(Xu,O);function yr(c){const y=Sa();Pt(y,new Xu(y))}_t.STAT_EVENT="statevent";function Vs(c,y){O.call(this,_t.STAT_EVENT,c),this.stat=y}T(Vs,O);function At(c){const y=Sa();Pt(y,new Vs(y,c))}_t.Ja="timingevent";function _r(c,y){O.call(this,_t.Ja,c),this.size=y}T(_r,O);function vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function $f(c,y,E,S,B,$){c.info(function(){if(c.g)if($){var ae="",Re=$.split("&");for(let Ge=0;Ge<Re.length;Ge++){var vt=Re[Ge].split("=");if(vt.length>1){const ut=vt[0];vt=vt[1];const Ln=ut.split("_");ae=Ln.length>=2&&Ln[1]=="type"?ae+(ut+"="+vt+"&"):ae+(ut+"=redacted&")}}}else ae=null;else ae=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+E+`
`+ae})}function Wu(c,y,E,S,B,$,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+ae})}function Er(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qf(c,E)+(S?" "+S:"")})}function Ps(c,y){c.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Qf(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var E=$[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return xi($)}catch{return y}}var Ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wo;function Us(){}T(Us,Qu),Us.prototype.g=function(){return new XMLHttpRequest},Wo=new Us;function Xr(c){return encodeURIComponent(String(c))}function Ju(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Wn(c,y,E,S){this.j=c,this.i=y,this.l=E,this.S=S||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var St={},jt={};function Tr(c,y,E){c.M=1,c.A=js(Ct(y)),c.u=E,c.R=!0,Ra(c,null)}function Ra(c,y){c.F=Date.now(),br(c),c.B=Ct(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Na(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Jn,c.g=dc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new sn(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Ko[0]=B.toString()),B=Ko);for(let $=0;$<B.length;$++){const ae=lt(E,B[$],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),yr(),$f(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const y=this.O;y&&tr(c)==3?y.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=tr(this.g),vt=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Re!=4||vt==7||(vt==8||Ge<=0?yr(3):yr(2)),wr(this);var y=this.g.ca();this.X=y;var E=Kf(this);if(this.o=y==200,Wu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var $=S;break t}}$=null}if(c=$)Er(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ar(this,c);else{this.o=!1,this.m=3,At(12),Tn(this),kn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=ec(this,E),ut==jt){Re==4&&(this.m=4,At(14),c=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,At(15),Er(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Er(this.i,this.l,ut,null),Ar(this,ut);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)Er(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fl(ae),ae.P=!0,At(11))}}else Er(this.i,this.l,E,null),Ar(this,E);Re==4&&Tn(this),this.o&&!this.K&&(Re==4?uc(this.j,this):(this.o=!1,br(this)))}else Jr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Tn(this),kn(this)}}}catch{}finally{}};function Kf(c){if(!Zu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let E="";const S=y.length,B=tr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),kn(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<S;$++)c.h.h=!0,E+=c.h.i.decode(y[$],{stream:!(B&&$==S-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Zu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ec(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?jt:(E=Number(y.substring(E,S)),isNaN(E)?St:(S+=1,S+E>y.length?jt:(y=y.slice(S,S+E),c.C=S+E,y)))}Wn.prototype.cancel=function(){this.K=!0,Tn(this)};function br(c){c.T=Date.now()+c.H,Ca(c,c.H)}function Ca(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=vr(p(c.aa,c),y)}function wr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ps(this.i,this.B),this.M!=2&&(yr(),At(17)),Tn(this),this.m=2,kn(this)):Ca(this,this.T-c)};function kn(c){c.j.I==0||c.K||uc(c.j,c)}function Tn(c){wr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Yo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ar(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Rr(E.h,c))){if(!c.L&&Rr(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Va(E),Pi(E);else break e;$s(E),At(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vr(p(E.Va,E),6e3));Sr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Or(E,11)}else if((c.L||E.g==c)&&Va(E),!x(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const ut=Ge[0];if(!(ut<=E.K))if(E.K=ut,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Ln=Ge[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Mr=Ge[4];Mr!=null&&(E.za=Mr,E.j.info("SVER="+E.za));const nr=Ge[5];nr!=null&&typeof nr=="number"&&nr>0&&(S=1.5*nr,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const rr=c.g;if(rr){const Qs=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var $=S.h;$.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(el($,$.h),$.h=null))}if(S.G){const Pa=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(S.wa=Pa,Ye(S.J,S.G,Pa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ae=c;if(S.na=fc(S,S.L?S.ba:null,S.W),ae.L){tl(S.h,ae);var Re=ae,vt=S.O;vt&&(Re.H=vt),Re.D&&(wr(Re),br(Re)),S.g=ae}else oc(S);E.i.length>0&&Dr(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Or(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Or(E,7):cl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}yr(4)}catch{}}var Rt=class{constructor(c,y){this.g=c,this.map=y}};function Jo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sr(c){return c.h?1:c.g?c.g.size:0}function Rr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function el(c,y){c.g?c.g.add(y):c.h=y}function tl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Jo.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return D(c.i)}var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let B,$=null;S>=0?(B=c[E].substring(0,S),$=c[E].substring(S+1)):B=c[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,rl(this,sc(c.i)),this.m=c.m):c&&(y=String(c).match(tc))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Cr(y[2]||""),this.g=Cr(y[3]||"",!0),Ii(this,y[4]),this.h=Cr(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=Cr(y[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(zs(y,Ia,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(zs(y,Ia,!0),"@"),c.push(Xr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(zs(E,E.charAt(0)=="/"?il:nc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",zs(E,rc)),c.join("")},bn.prototype.resolve=function(c){const y=Ct(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var S=c.h;if(E)Ii(y,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let ae=0;ae<B.length;){const Re=B[ae++];Re=="."?S&&ae==B.length&&$.push(""):Re==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&ae==B.length&&$.push("")):($.push(Re),S=!0)}S=$.join("/")}else S=B}return E?y.h=S:E=c.i.toString()!=="",E?rl(y,sc(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Ct(c){return new bn(c)}function zt(c,y,E){c.j=E?Cr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function rl(c,y,E){y instanceof Di?(c.i=y,Da(c.i,c.l)):(E||(y=zs(y,Ni)),c.i=new Di(y,c.l))}function Ye(c,y,E){c.i.set(y,E)}function js(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Cr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,nc=/[#\?:]/g,il=/[#\?]/g,Ni=/[#\?@]/g,rc=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Di.prototype,r.add=function(c,y){hn(this),this.i=null,c=Oi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ic(c,y){hn(c),y=Oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function sl(c,y){return hn(c),y=Oi(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(E,S){E.forEach(function(B){c.call(y,B,S,this)},this)},this)};function al(c,y){hn(c);let E=[];if(typeof y=="string")sl(c,y)&&(E=E.concat(c.g.get(Oi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return hn(this),this.i=null,c=Oi(this,c),sl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=al(this,c),c.length>0?String(c[0]):y):y};function Na(c,y,E){ic(c,y),E.length>0&&(c.i=null,c.g.set(Oi(c,y),D(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const B=Xr(E);E=al(this,E);for(let $=0;$<E.length;$++){let ae=B;E[$]!==""&&(ae+="="+Xr(E[$])),c.push(ae)}}return this.i=c.join("&")};function sc(c){const y=new Di;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Da(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(E,S){const B=S.toLowerCase();S!=B&&(ic(this,S),Na(this,B,E))},c)),c.j=y}function Zn(c,y){const E=new Xn;if(h.Image){const S=new Image;S.onload=v(Vn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=v(Vn,E,"TestLoadImage: error",!1,y,S),S.onabort=v(Vn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(Vn,E,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ol(c,y){const E=new Xn,S=new AbortController,B=setTimeout(()=>{S.abort(),Vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?Vn(E,"TestPingServer: ok",!0,y):Vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Vn(E,"TestPingServer: error",!1,y)})}function Vn(c,y,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Mi(){this.g=new $u}function xr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(xr,Qu),xr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(c,y){wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Bs,wt),r=Bs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ki(this):er(this),this.readyState==3&&Oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ki(this))},r.Na=function(c){this.g&&(this.response=c,ki(this))},r.ga=function(){this.g&&ki(this)};function ki(c){c.readyState=4,c.l=null,c.j=null,c.B=null,er(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pn(c){let y="";return Ne(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function qs(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Pn(E),typeof c=="string"?E!=null&&Xr(E):Ye(c,y,E))}function Ze(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,wt);var Ir=/^https?$/i,ll=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Hs(this,$);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())E.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ll,y,void 0)>=0)||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of E)this.g.setRequestHeader($,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Hs(this,$)}};function Hs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ul(c),Wr(c)}function ul(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),Wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(c){if(c.h&&typeof u<"u"){if(c.v&&tr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=$===0){let ae=String(c.D).match(tc)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),S=!Ir.test(ae?ae.toLowerCase():"")}E=S}if(E)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var B=tr(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",ul(c)}}finally{Wr(c)}}}}function Wr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Pt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}r.ca=function(){try{return tr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Gf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jr(c){const y={};c=(c.g&&tr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var E=Ju(c[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}Ke(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Vi(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nr("baseRetryDelayMs",5e3,c),this.Za=Nr("retryDelaySeedMs",1e4,c),this.Ta=Nr("forwardChannelMaxRetries",2,c),this.va=Nr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Jo(c&&c.concurrentRequestLimit),this.Ba=new Mi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,S){At(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=fc(this,null,this.W),Dr(this)};function cl(c){if(Ma(c),c.I==3){var y=c.V++,E=Ct(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),Gs(c,E),y=new Wn(c,c.j,y),y.M=2,y.A=js(Ct(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=dc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),br(y)}hc(c)}function Pi(c){c.g&&(fl(c),c.g.cancel(),c.g=null)}function Ma(c){Pi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Dr(c){if(!Zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;de||C(),ge||(de(),ge=!0),I.add(y,c),c.D=0}}function ka(c,y){return Sr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=vr(p(c.Ea,c,y),cc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Wn(this,this.j,c);let $=this.o;if(this.U&&($?($=k($),ie($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ac(this,B,y),E=Ct(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Gs(this,E),$&&(this.R?y="headers="+Xr(Pn($))+"&"+y:this.u&&qs(E,this.u,$)),el(this.h,B),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),B.U=!0,Tr(B,E,null)):Tr(B,E,y),this.I=2}}else this.I==3&&(c?hl(this,c):this.i.length==0||Zo(this.h)||hl(this))};function hl(c,y){var E;y?E=y.l:E=c.V++;const S=Ct(c.J);Ye(S,"SID",c.M),Ye(S,"RID",E),Ye(S,"AID",c.K),Gs(c,S),c.u&&c.o&&qs(S,c.u,c.o),E=new Wn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ac(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),el(c.h,E),Tr(E,S,y)}function Gs(c,y){c.H&&Ne(c.H,function(E,S){Ye(y,S,E)}),c.l&&Ne({},function(E,S){Ye(y,S,E)})}function ac(c,y,E){E=Math.min(c.i.length,E);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const vt=["count="+E];Re==-1?E>0?(Re=B[0].g,vt.push("ofs="+Re)):Re=0:vt.push("ofs="+Re);let Ge=!0;for(let ut=0;ut<E;ut++){var $=B[ut].g;const Ln=B[ut].map;if($-=Re,$<0)Re=Math.max(0,B[ut].g-100),Ge=!1;else try{$="req"+$+"_"||"";try{var ae=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Mr,nr]of ae){let rr=nr;m(nr)&&(rr=xi(nr)),vt.push($+Mr+"="+encodeURIComponent(rr))}}catch(Mr){throw vt.push($+"type="+encodeURIComponent("_badmap")),Mr}}catch{S&&S(Ln)}}if(Ge){ae=vt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),y.G=c,ae}function oc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;de||C(),ge||(de(),ge=!0),I.add(y,c),c.A=0}}function $s(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=vr(p(c.Da,c),cc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=vr(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Pi(this),lc(this))};function fl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function lc(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ct(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Gs(c,y),c.u&&c.o&&qs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=js(Ct(y)),E.u=null,E.R=!0,Ra(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Pi(this),$s(this),At(19))};function Va(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function uc(c,y){var E=null;if(c.g==y){Va(c),fl(c),c.g=null;var S=2}else if(Rr(c.h,y))E=y.G,tl(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=Sa(),Pt(S,new _r(S,E)),Dr(c)}else oc(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&ka(c,y)||S==2&&$s(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function cc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Or(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),S=c.Ua;const B=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),js(S),B?Zn(S.toString(),E):ol(S.toString(),E)}else At(2);c.I=0,c.l&&c.l.pa(y),hc(c),Ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function hc(c){if(c.I=0,c.ja=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function fc(c,y,E){var S=E instanceof bn?Ct(E):new bn(E);if(S.g!="")y&&(S.g=y+"."+S.g),Ii(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new bn(null);S&&zt($,S),y&&($.g=y),B&&Ii($,B),E&&($.h=E),S=$}return E=c.G,y=c.wa,E&&y&&Ye(S,E,y),Ye(S,"VER",c.ka),Gs(c,S),S}function dc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new xr({ab:E})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Li(){}Li.prototype.g=function(c,y){return new an(c,y)};function an(c,y){wt.call(this),this.g=new Vi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Zr(this)}T(an,wt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){cl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=xi(c),c=E);y.i.push(new Rt(y.Ya++,c)),y.I==3&&Dr(y)},an.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,an.Z.N.call(this)};function pc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(pc,Ht);function gc(){Mn.call(this),this.status=1}T(gc,Mn);function Zr(c){this.g=c}T(Zr,mc),Zr.prototype.ra=function(){Pt(this.g,"a")},Zr.prototype.qa=function(c){Pt(this.g,new pc(c))},Zr.prototype.pa=function(c){Pt(this.g,new gc)},Zr.prototype.oa=function(){Pt(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,W1=function(){return new Li},X1=function(){return Sa()},Y1=_t,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Vh=Ls,Xo.COMPLETE="complete",K1=Xo,Ku.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,tu=Ku,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Q1=Ze}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",NE="4.9.2";let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let jo="12.3.0";const ga=new ag("@firebase/firestore");function mo(){return ga.logLevel}function ce(r,...e){if(ga.logLevel<=Ve.DEBUG){const n=e.map(gg);ga.debug(`Firestore (${jo}): ${r}`,...n)}}function wi(r,...e){if(ga.logLevel<=Ve.ERROR){const n=e.map(gg);ga.error(`Firestore (${jo}): ${r}`,...n)}}function Ao(r,...e){if(ga.logLevel<=Ve.WARN){const n=e.map(gg);ga.warn(`Firestore (${jo}): ${r}`,...n)}}function gg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,J1(r,s,n)}function J1(r,e,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wi(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||J1(e,o,s)}function we(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Z1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class dN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new Z1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class pN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new pN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _N(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_N(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Rp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return rp(o)===rp(u)?Pe(o,u):rp(o)?1:-1}return Pe(r.length,e.length)}const vN=55296,EN=57343;function rp(r){const e=r.charCodeAt(0);return e>=vN&&e<=EN}function So(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const OE="__name__";class Ur{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ur.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ur.isNumericId(e),o=Ur.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):Rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class rt extends Ur{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const TN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ur{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return TN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new Xt([OE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function _g(r,e,n){if(!n)throw new se(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function bN(r,e,n,s){if(e===!0&&s===!0)throw new se(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function ME(r){if(!pe.isDocumentKey(r))throw new se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kE(r){if(pe.isDocumentKey(r))throw new se(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function eb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Wt(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(r);throw new se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function wN(r,e){if(e<=0)throw new se(Y.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Vu(r,e){if(!eb(r))throw new se(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new se(Y.INVALID_ARGUMENT,n);return!0}const VE=-62135596800,PE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*PE);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:kt("string",ot._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ot(0,0))}static max(){return new Ae(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function AN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Ts(o,pe.empty(),e)}function SN(r){return new Ts(r.readTime,r.key,gu)}class Ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(Ae.min(),pe.empty(),gu)}static max(){return new Ts(Ae.max(),pe.empty(),gu)}}function RN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const CN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==CN)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((v=>{h[p]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function IN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(r){return r.name==="IndexedDbTransactionError"}class Tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tf.ce=-1;const vg=-1;function bf(r){return r==null}function Yh(r){return r===0&&1/r==-1/0}function NN(r){return typeof r=="number"&&Number.isInteger(r)&&!Yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const tb="";function DN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=LE(e)),e=ON(r.get(n),e);return LE(e)}function ON(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case tb:n+="";break;default:n+=u}}return n}function LE(r){return r+tb+""}function UE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Is(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function MN(r,e){const n=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.push(e(r[s],s,r));return n}function nb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rb("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=kN.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ws(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const ib="server_timestamp",sb="__type__",ab="__previous_value__",ob="__local_write_time__";function wf(r){return(r?.mapValue?.fields||{})[sb]?.stringValue===ib}function Af(r){const e=r.mapValue.fields[ab];return wf(e)?Af(e):e}function yu(r){const e=bs(r.mapValue.fields[ob].timestampValue);return new ot(e.seconds,e.nanos)}class VN{constructor(e,n,s,o,u,h,m,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const Xh="(default)";class _u{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}const lb="__type__",PN="__max__",Ah={mapValue:{}},ub="__vector__",Wh="value";function As(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wf(r)?4:UN(r)?9007199254740991:LN(r)?10:11:Ee(28295,{value:r})}function Qr(r,e){if(r===e)return!0;const n=As(r);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=bs(o.timestampValue),m=bs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ws(o.bytesValue).isEqual(ws(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?Yh(h)===Yh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(UE(h)!==UE(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Qr(h[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function vu(r,e){return(r.values||[]).find((n=>Qr(n,e)))!==void 0}function Ro(r,e){if(r===e)return 0;const n=As(r),s=As(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=bt(u.integerValue||u.doubleValue),g=bt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return zE(r.timestampValue,e.timestampValue);case 4:return zE(yu(r),yu(e));case 5:return Rp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ws(u),g=ws(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Pe(m[p],g[p]);if(v!==0)return v}return Pe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(bt(u.latitude),bt(h.latitude));return m!==0?m:Pe(bt(u.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return BE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Wh]?.arrayValue,v=g[Wh]?.arrayValue,T=Pe(p?.values?.length||0,v?.values?.length||0);return T!==0?T:BE(p,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ah.mapValue&&h===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(h===Ah.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const A=Rp(g[T],v[T]);if(A!==0)return A;const D=Ro(m[g[T]],p[v[T]]);if(D!==0)return D}return Pe(g.length,v.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function zE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=bs(r),s=bs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function BE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Co(r){return Cp(r)}function Cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=bs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ws(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Cp(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Ph(r){switch(As(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(r);return e?16+Ph(e):16;case 5:return 2*r.stringValue.length;case 6:return ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Is(s.fields,((u,h)=>{o+=u.length+Ph(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Jh(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xp(r){return!!r&&"integerValue"in r}function Eg(r){return!!r&&"arrayValue"in r}function qE(r){return!!r&&"nullValue"in r}function HE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lh(r){return!!r&&"mapValue"in r}function LN(r){return(r?.mapValue?.fields||{})[lb]?.stringValue===ub}function ou(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Is(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ou(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ou(r.arrayValue.values[n]);return e}return{...r}}function UN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PN}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=ou(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Is(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vn(ou(this.value))}}function cb(r){const e=[];return Is(r.fields,((n,s)=>{const o=new Xt([n]);if(Lh(s)){const u=cb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Nn(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xo{constructor(e,n){this.position=e,this.inclusive=n}}function FE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function GE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Qr(r.position[n],e.position[n]))return!1;return!0}class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class hb{}class Mt extends hb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new BN(e,n,s):n==="array-contains"?new FN(e,s):n==="in"?new GN(e,s):n==="not-in"?new $N(e,s):n==="array-contains-any"?new QN(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new qN(e,s):new HN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends hb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return fb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fb(r){return r.op==="and"}function db(r){return zN(r)&&fb(r)}function zN(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Ip(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(db(r))return r.filters.map((e=>Ip(e))).join(",");{const e=r.filters.map((n=>Ip(n))).join(",");return`${r.op}(${e})`}}function mb(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Qr(s.value,o.value)})(r,e):r instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&mb(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function pb(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(r):r instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(pb).join(" ,")+"}"})(r):"Filter"}class BN extends Mt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class qN extends Mt{constructor(e,n){super(e,"in",n),this.keys=gb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class HN extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=gb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gb(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class FN extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eg(n)&&vu(n.arrayValue,this.value)}}class GN extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class $N extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class QN extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>vu(this.value.arrayValue,s)))}}class KN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function $E(r,e=null,n=[],s=[],o=null,u=null,h=null){return new KN(r,e,n,s,o,u,h)}function Tg(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ip(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=n}return e.Te}function bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!mb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!GE(r.startAt,e.startAt)&&GE(r.endAt,e.endAt)}function Np(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ns{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YN(r,e,n,s,o,u,h,m){return new Ns(r,e,n,s,o,u,h,m)}function Sf(r){return new Ns(r)}function QE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wg(r){return r.collectionGroup!==null}function To(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Xt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Eu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Eu(Xt.keyField(),s))}return e.Ie}function Hr(r){const e=we(r);return e.Ee||(e.Ee=yb(e,To(r))),e.Ee}function XN(r){const e=we(r);return e.de||(e.de=yb(e,r.explicitOrderBy)),e.de}function yb(r,e){if(r.limitType==="F")return $E(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Eu(o.field,u)}));const n=r.endAt?new xo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xo(r.startAt.position,r.startAt.inclusive):null;return $E(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dp(r,e){const n=r.filters.concat([e]);return new Ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zh(r,e,n){return new Ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rf(r,e){return bg(Hr(r),Hr(e))&&r.limitType===e.limitType}function _b(r){return`${Tg(Hr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>pb(o))).join(", ")}]`),bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Hr(r))}; limitType=${r.limitType})`}function Cf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of To(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=FE(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,To(s),o)||s.endAt&&!(function(h,m,g){const p=FE(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,To(s),o))})(r,e)}function WN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vb(r){return(e,n)=>{let s=!1;for(const o of To(r)){const u=JN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JN(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ro(g,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return nb(this.inner)}size(){return this.innerSize}}const ZN=new ft(pe.comparator);function Ai(){return ZN}const Eb=new ft(pe.comparator);function nu(...r){let e=Eb;for(const n of r)e=e.insert(n.key,n);return e}function Tb(r){let e=Eb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return lu()}function bb(){return lu()}function lu(){return new Ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const eD=new ft(pe.comparator),tD=new Ut(pe.comparator);function Le(...r){let e=tD;for(const n of r)e=e.add(n);return e}const nD=new Ut(Pe);function rD(){return nD}function Ag(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function wb(r){return{integerValue:""+r}}function iD(r,e){return NN(e)?wb(e):Ag(r,e)}class xf{constructor(){this._=void 0}}function sD(r,e,n){return r instanceof Tu?(function(o,u){const h={fields:{[sb]:{stringValue:ib},[ob]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wf(u)&&(u=Af(u)),u&&(h.fields[ab]=u),{mapValue:h}})(n,e):r instanceof bu?Sb(r,e):r instanceof wu?Rb(r,e):(function(o,u){const h=Ab(o,u),m=KE(h)+KE(o.Ae);return xp(h)&&xp(o.Ae)?wb(m):Ag(o.serializer,m)})(r,e)}function aD(r,e,n){return r instanceof bu?Sb(r,e):r instanceof wu?Rb(r,e):n}function Ab(r,e){return r instanceof ef?(function(s){return xp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Tu extends xf{}class bu extends xf{constructor(e){super(),this.elements=e}}function Sb(r,e){const n=Cb(e);for(const s of r.elements)n.some((o=>Qr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class wu extends xf{constructor(e){super(),this.elements=e}}function Rb(r,e){let n=Cb(e);for(const s of r.elements)n=n.filter((o=>!Qr(o,s)));return{arrayValue:{values:n}}}class ef extends xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KE(r){return bt(r.integerValue||r.doubleValue)}function Cb(r){return Eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class oD{constructor(e,n){this.field=e,this.transform=n}}function lD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof bu&&o instanceof bu||s instanceof wu&&o instanceof wu?So(s.elements,o.elements,Qr):s instanceof ef&&o instanceof ef?Qr(s.Ae,o.Ae):s instanceof Tu&&o instanceof Tu})(r.transform,e.transform)}class uD{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class If{}function xb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Nf(r.key,un.none()):new Pu(r.key,r.data,un.none());{const n=r.data,s=vn.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ds(r.key,s,new Nn(o.toArray()),un.none())}}function cD(r,e,n){r instanceof Pu?(function(o,u,h){const m=o.value.clone(),g=XE(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ds?(function(o,u,h){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=XE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Ib(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function uu(r,e,n,s){return r instanceof Pu?(function(u,h,m,g){if(!Uh(u.precondition,h))return m;const p=u.value.clone(),v=WE(u.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ds?(function(u,h,m,g){if(!Uh(u.precondition,h))return m;const p=WE(u.fieldTransforms,g,h),v=h.data;return v.setAll(Ib(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Uh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function hD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ab(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function YE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,h)=>lD(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends If{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends If{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ib(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function XE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,aD(h,m,n[o]))}return s}function WE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,sD(u,h,e))}return s}class Nf extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=bb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=xb(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>YE(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>YE(n,s)))}}class Sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return eD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Sg(e,n,s,o)}}class mD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pD{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}class gD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,qe;function yD(r){switch(r){case Y.OK:return Ee(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Nb(r){if(r===void 0)return wi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Ot.OK:return Y.OK;case Ot.CANCELLED:return Y.CANCELLED;case Ot.UNKNOWN:return Y.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return Y.INTERNAL;case Ot.UNAVAILABLE:return Y.UNAVAILABLE;case Ot.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ot.NOT_FOUND:return Y.NOT_FOUND;case Ot.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ot.ABORTED:return Y.ABORTED;case Ot.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ot.DATA_LOSS:return Y.DATA_LOSS;default:return Ee(39323,{code:r})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function _D(){return new TextEncoder}const vD=new ys([4294967295,4294967295],0);function JE(r){const e=_D().encode(r),n=new $1;return n.update(e),new Uint8Array(n.digest())}function ZE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,u],0)]}class Rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(vD)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JE(e),[s,o]=ZE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Rg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=JE(e),[s,o]=ZE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Df{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Df(Ae.min(),o,new ft(Pe),Ai(),Le())}}class Lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Lu(s,n,Le(),Le(),Le())}}class jh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Db{constructor(e,n){this.targetId=e,this.Ce=n}}class Ob{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Lu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ED{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=Sh(),this.He=Sh(),this.Ye=new ft(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Np(u))if(s===0){const h=new pe(u.path);this.et(n,h,nn.newNoDocument(h,Ae.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ws(s).toUint8Array()}catch(g){if(g instanceof rb)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Rg(h,o,u)}catch(g){return Ao(g instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Np(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Df(e,n,this.Ye,this.je,s);return this.je=Ai(),this.Je=Sh(),this.He=Sh(),this.Ye=new ft(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sh(){return new ft(pe.comparator)}function tT(){return new ft(pe.comparator)}const TD={asc:"ASCENDING",desc:"DESCENDING"},bD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wD={and:"AND",or:"OR"};class AD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Op(r,e){return r.useProto3Json||bf(e)?e:{value:e}}function tf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SD(r,e){return tf(r,e.toTimestamp())}function Fr(r){return Qe(!!r,49232),Ae.fromTimestamp((function(n){const s=bs(n);return new ot(s.seconds,s.nanos)})(r))}function Cg(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function kb(r){const e=rt.fromString(r);return Qe(zb(e),10190,{key:e.toString()}),e}function kp(r,e){return Cg(r.databaseId,e.path)}function ip(r,e){const n=kb(e);if(n.get(1)!==r.databaseId.projectId)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(Pb(n))}function Vb(r,e){return Cg(r.databaseId,e)}function RD(r){const e=kb(r);return e.length===4?rt.emptyPath():Pb(e)}function Vp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Pb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nT(r,e,n){return{name:kp(r,e),fields:n.value.mapValue.fields}}function CD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const v=p.code===void 0?Y.UNKNOWN:Nb(p.code);return new se(v,p.message||"")})(h);n=new Ob(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ip(r,s.document.name),u=Fr(s.document.updateTime),h=s.document.createTime?Fr(s.document.createTime):Ae.min(),m=new vn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],v=s.removedTargetIds||[];n=new jh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ip(r,s.document),u=s.readTime?Fr(s.readTime):Ae.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ip(r,s.document),u=s.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new gD(o,u),m=s.targetId;n=new Db(m,h)}}return n}function xD(r,e){let n;if(e instanceof Pu)n={update:nT(r,e.key,e.value)};else if(e instanceof Nf)n={delete:kp(r,e.key)};else if(e instanceof Ds)n={update:nT(r,e.key,e.data),updateMask:LD(e.fieldMask)};else{if(!(e instanceof fD))return Ee(16599,{Vt:e.type});n={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ef)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:SD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function ID(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Fr(o.updateTime):Fr(u);return h.isEqual(Ae.min())&&(h=Fr(u)),new uD(h,o.transformResults||[])})(n,e)))):[]}function ND(r,e){return{documents:[Vb(r,e.path)]}}function Lb(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Vb(r,o);const u=(function(p){if(p.length!==0)return jb(cr.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((v=>(function(A){return{field:hs(A.field),direction:kD(A.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Op(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function DD(r,e,n,s){const{ft:o,parent:u}=Lb(r,e),h={},m=[];let g=0;return n.forEach((p=>{const v="aggregate_"+g++;h[v]=p.alias,p.aggregateType==="count"?m.push({alias:v,count:{}}):p.aggregateType==="avg"?m.push({alias:v,avg:{field:hs(p.fieldPath)}}):p.aggregateType==="sum"&&m.push({alias:v,sum:{field:hs(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:u}}function OD(r){let e=RD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const A=Ub(T);return A instanceof cr&&db(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(z){return new Eu(go(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,bf(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,D=T.values||[];return new xo(D,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,D=T.values||[];return new xo(D,A)})(n.endAt)),YN(e,o,h,u,m,"F",g,p)}function MD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ub(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((s=>Ub(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function kD(r){return TD[r]}function VD(r){return bD[r]}function PD(r){return wD[r]}function hs(r){return{fieldPath:r.canonicalString()}}function go(r){return Xt.fromServerFormat(r.fieldPath)}function jb(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:VD(n.op),value:n.value}}})(r):r instanceof cr?(function(n){const s=n.getFilters().map((o=>jb(o)));return s.length===1?s[0]:{compositeFilter:{op:PD(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function LD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ms{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UD{constructor(e){this.yt=e}}function jD(r){const e=OD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zh(e,e.limit,"L"):e}class zD{constructor(){this.Cn=new BD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ts.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class BD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(rt.comparator)).toArray()}}const rT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Bb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const iT="LruGarbageCollector",qD=1048576;function sT([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class HD{constructor(e){this.Ir=e,this.buffer=new Ut(sT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(iT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?ce(iT,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Vr(3e5)}))}}class GD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Tf.ce);const s=new HD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(rT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),mo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function $D(r,e){return new GD(r,e)}class QD{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class YD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&uu(s.mutation,o,Nn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=nu();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ai();const h=lu(),m=(function(){return lu()})();return n.forEach(((g,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof Ds)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),uu(v.mutation,p,v.mutation.getFieldMask(),ot.now())):h.set(p.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,v)=>h.set(p,v))),n.forEach(((p,v)=>m.set(p,new KD(v,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new ft(((h,m)=>h-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=s.get(g)||Nn.empty();v=m.applyToLocalView(p,v),s.set(g,v);const T=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,T=bb();v.forEach((A=>{if(!u.has(A)){const D=xb(n.get(A),s.get(A));D!==null&&T.set(A,D),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ca());let m=gu,g=u;return h.next((p=>ne.forEach(p,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{g=g.insert(v,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Le()))).next((v=>({batchId:m,changes:Tb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=nu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=nu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(T,A){return new Ns(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((v=>{v.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,nn.newInvalidDocument(v)))}));let m=nu();return h.forEach(((g,p)=>{const v=u.get(g);v!==void 0&&uu(v.mutation,p,Nn.empty(),ot.now()),Cf(n,p)&&(m=m.insert(g,p))})),m}))}}class XD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:jD(o.bundledQuery),readTime:Fr(o.readTime)}})(n)),ne.resolve()}}class WD{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((p,v)=>p-v));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=u.get(p.largestBatchId);v===null&&(v=ca(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=ca(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new mD(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class JD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class xg{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new rt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new rt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class ZD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?vg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Pe);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new qt(new pe(u),0);let m=new Ut(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class e4{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ai();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ai();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||RN(SN(v),s)<=0||(o.has(v.key)||Cf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new t4(this)}getSize(e){return ne.resolve(this.size)}}class t4 extends QD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class n4{constructor(e){this.persistence=e,this.si=new Ea((n=>Tg(n)),bg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new xg,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class qb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tf(0),this.li=!1,this.li=!0,this.hi=new JD,this.referenceDelegate=e(this),this.Pi=new n4(this),this.indexManager=new zD,this.remoteDocumentCache=(function(o){return new e4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new UD(n),this.Ii=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ZD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new r4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class r4 extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Ri=new xg,this.Vi=null}static mi(e){return new Ig(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nf{constructor(e,n){this.persistence=e,this.pi=new Ea((s=>DN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=$D(this,n)}static mi(e,n){return new nf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ng{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(e,n.fromCache,s,o)}}class i4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class s4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D2()?8:IN(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new i4;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(mo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(mo()<=Ve.DEBUG&&ce("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):ne.resolve())}ys(e,n){if(QE(n))return ne.resolve(null);let s=Hr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zh(n,null,"F"),s=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,Zh(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return QE(n)||o.isEqual(Ae.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(mo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(e,h,n,AN(o,gu)).next((m=>m)))}))}Ds(e,n){let s=new Ut(vb(e));return n.forEach(((o,u)=>{Cf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return mo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Dg="LocalStore",a4=3e8;class o4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Pe),this.xs=new Ea((u=>Tg(u)),bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function l4(r,e,n,s){return new o4(r,e,n,s)}async function Hb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Le();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function u4(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const T=p.batch,A=T.keys();let D=ne.resolve();return A.forEach((z=>{D=D.next((()=>v.getEntry(g,z))).next((G=>{const L=p.docVersions.get(z);Qe(L!==null,48541),G.version.compareTo(L)<0&&(T.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),v.addEntry(G)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Fb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function c4(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,s)),o=o.insert(T,D),(function(G,L,W){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=a4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,D,v)&&m.push(n.Pi.updateTargetData(u,D))}));let g=Ai(),p=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(h4(u,h,e.documentUpdates).next((v=>{g=v.ks,p=v.qs}))),!s.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function h4(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Ai();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(Dg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function f4(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function d4(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Pp(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Bo(h))throw h;ce(Dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function aT(r,e,n){const s=we(r);let o=Ae.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,v){const T=we(g),A=T.xs.get(v);return A!==void 0?ne.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,v)})(s,h,Hr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Le()))).next((m=>(m4(s,WN(e),m),{documents:m,Qs:u})))))}function m4(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class oT{constructor(){this.activeTargetIds=rD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p4{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g4{Oo(e){}shutdown(){}}const lT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rh=null;function Lp(){return Rh===null?Rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rh++,"0x"+Rh.toString(16)}const sp="RestConnection",y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Lp(),m=this.zo(e,n.toUriEncodedString());ce(sp,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),v=Yr(p);return this.Jo(e,m,g,s,v).then((T=>(ce(sp,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Ao(sp,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=y4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class v4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class E4 extends _4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Lp();return new Promise(((m,g)=>{const p=new Q1;p.setWithCredentials(!0),p.listenOnce(K1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vh.NO_ERROR:const T=p.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Vh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const A=p.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const z=D?.error;if(z&&z.status&&z.message){const G=(function(W){const ee=W.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ee)>=0?ee:Y.UNKNOWN})(z.status);g(new se(G,z.message))}else g(new se(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new se(Y.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=W1(),m=X1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const v=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=h.createWebChannel(v,g);this.I_(T);let A=!1,D=!1;const z=new v4({Yo:L=>{D?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ce(en,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),G=(L,W,ee)=>{L.listen(W,(re=>{try{ee(re)}catch(le){setTimeout((()=>{throw le}),0)}}))};return G(T,tu.EventType.OPEN,(()=>{D||(ce(en,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),G(T,tu.EventType.CLOSE,(()=>{D||(D=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),G(T,tu.EventType.ERROR,(L=>{D||(D=!0,Ao(en,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new se(Y.UNAVAILABLE,"The operation could not be completed")))})),G(T,tu.EventType.MESSAGE,(L=>{if(!D){const W=L.data[0];Qe(!!W,16349);const ee=W,re=ee?.error||ee[0]?.error;if(re){ce(en,`RPC '${e}' stream ${o} received error:`,re);const le=re.status;let de=(function(C){const R=Ot[C];if(R!==void 0)return Nb(R)})(le),ge=re.message;de===void 0&&(de=Y.INTERNAL,ge="Unknown error status: "+le+" with message "+re.message),D=!0,z.a_(new se(de,ge)),T.close()}else ce(en,`RPC '${e}' stream ${o} received:`,W),z.u_(W)}})),G(m,Y1.STAT_EVENT,(L=>{L.stat===Sp.PROXY?ce(en,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Sp.NOPROXY&&ce(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ap(){return typeof document<"u"?document:null}function Of(r){return new AD(r,!0)}class Gb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cT="PersistentStream";class $b{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T4 extends $b{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Fr(h.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Vp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Np(g)?{documents:ND(u,g)}:{query:Lb(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Mb(u,h.resumeToken);const p=Op(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=tf(u,h.snapshotVersion.toTimestamp());const p=Op(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=MD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Vp(this.serializer),n.removeTarget=e,this.q_(n)}}class b4 extends $b{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ID(e.writeResults,e.commitTime),s=Fr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Vp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xD(this.serializer,s)))};this.q_(n)}}class w4{}class A4 extends w4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Mp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(Y.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Mp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class S4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class R4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ta(this)&&(ce(ya,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await Uu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Mf(p)})(this))}))})),this.Ra=new S4(s,o)}}async function Mf(r){if(Ta(r))for(const e of r.da)await e(!0)}async function Uu(r){for(const e of r.da)await e(!1)}function Qb(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vg(n)?kg(n):qo(n).O_()&&Mg(n,e))}function Og(r,e){const n=we(r),s=qo(n);n.Ia.delete(e),s.O_()&&Kb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Ra.set("Unknown"))}function Mg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(r).Y_(e)}function Kb(r,e){r.Va.Ue(e),qo(r).Z_(e)}function kg(r){r.Va=new ED({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),qo(r).start(),r.Ra.ua()}function Vg(r){return Ta(r)&&!qo(r).x_()&&r.Ia.size>0}function Ta(r){return we(r).Ea.size===0}function Yb(r){r.Va=void 0}async function C4(r){r.Ra.set("Online")}async function x4(r){r.Ia.forEach(((e,n)=>{Mg(r,e)}))}async function I4(r,e){Yb(r),Vg(r)?(r.Ra.ha(e),kg(r)):r.Ra.set("Unknown")}async function N4(r,e,n){if(r.Ra.set("Online"),e instanceof Ob&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rf(r,s)}else if(e instanceof jh?r.Va.Ze(e):e instanceof Db?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Fb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),Kb(u,g);const T=new ms(v.target,g,p,v.sequenceNumber);Mg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ya,"Failed to raise snapshot:",s),await rf(r,s)}}async function rf(r,e,n){if(!Bo(e))throw e;r.Ea.add(1),await Uu(r),r.Ra.set("Offline"),n||(n=()=>Fb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Mf(r)}))}function Xb(r,e){return e().catch((n=>rf(r,n,e)))}async function kf(r){const e=we(r),n=Ss(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vg;for(;D4(e);)try{const o=await f4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,O4(e,o)}catch(o){await rf(e,o)}Wb(e)&&Jb(e)}function D4(r){return Ta(r)&&r.Ta.length<10}function O4(r,e){r.Ta.push(e);const n=Ss(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Wb(r){return Ta(r)&&!Ss(r).x_()&&r.Ta.length>0}function Jb(r){Ss(r).start()}async function M4(r){Ss(r).ra()}async function k4(r){const e=Ss(r);for(const n of r.Ta)e.ea(n.mutations)}async function V4(r,e,n){const s=r.Ta.shift(),o=Sg.from(s,e,n);await Xb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await kf(r)}async function P4(r,e){e&&Ss(r).X_&&await(async function(s,o){if((function(h){return yD(h)&&h!==Y.ABORTED})(o.code)){const u=s.Ta.shift();Ss(s).B_(),await Xb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kf(s)}})(r,e),Wb(r)&&Jb(r)}async function hT(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(ya,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Uu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mf(n)}async function L4(r,e){const n=we(r);e?(n.Ea.delete(2),await Mf(n)):e||(n.Ea.add(2),await Uu(n),n.Ra.set("Unknown"))}function qo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new T4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:C4.bind(null,r),t_:x4.bind(null,r),r_:I4.bind(null,r),H_:N4.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Vg(r)?kg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Yb(r))}))),r.ma}function Ss(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new b4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:M4.bind(null,r),r_:P4.bind(null,r),ta:k4.bind(null,r),na:V4.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await kf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Pg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(r,e){if(wi("AsyncQueue",`${e}: ${r}`),Bo(r))return new se(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=nu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class fT{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new No(e,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class U4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j4{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=dT(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new se(Y.ABORTED,"Firestore shutting down"))}}function dT(){return new Ea((r=>_b(r)),Rf)}async function Ug(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new U4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Lg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&zg(n)}async function jg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function z4(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&zg(n)}function B4(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function zg(r){r.Ca.forEach((e=>{e.next()}))}var Up,mT;(mT=Up||(Up={})).Ma="default",mT.Cache="cache";class Bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}class Zb{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class q4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=vb(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const A=o.get(v),D=Cf(this.query,T)?T:null,z=!!A&&this.mutatedKeys.has(A.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;A&&D?A.data.isEqual(D.data)?z!==G&&(s.track({type:3,doc:D}),L=!0):this.su(A,D)||(s.track({type:2,doc:D}),L=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),L=!0):A&&!D&&(s.track({type:1,doc:A}),L=!0,(g||p)&&(m=!0)),L&&(D?(h=h.add(D),u=G?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,T)=>(function(D,z){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return G(D)-G(z)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ew(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Zb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class H4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class F4{constructor(e){this.key=e,this.hu=!1}}class G4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((m=>_b(m)),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new xg,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $4(r,e,n=!0){const s=aw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await tw(s,e,n,!0),o}async function Q4(r,e){const n=aw(r);await tw(n,e,!0,!1)}async function tw(r,e,n,s){const o=await d4(r.localStore,Hr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await K4(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Qb(r.remoteStore,o),m}async function K4(r,e,n,s,o){r.pu=(T,A,D)=>(async function(G,L,W,ee){let re=L.view.ru(W);re.Cs&&(re=await aT(G.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,re))));const le=ee&&ee.targetChanges.get(L.targetId),de=ee&&ee.targetMismatches.get(L.targetId)!=null,ge=L.view.applyChanges(re,G.isPrimaryClient,le,de);return gT(G,L.targetId,ge.au),ge.snapshot})(r,T,A,D);const u=await aT(r.localStore,e,!0),h=new q4(e,u.Qs),m=h.ru(u.documents),g=Lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);gT(r,n,p.au);const v=new H4(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function Y4(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Rf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Og(s.remoteStore,o.targetId),jp(s,o.targetId)})).catch(zo)):(jp(s,o.targetId),await Pp(s.localStore,o.targetId,!0))}async function X4(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Og(n.remoteStore,s.targetId))}async function W4(r,e,n){const s=iO(r);try{const o=await(function(h,m){const g=we(h),p=ot.now(),v=m.reduce(((D,z)=>D.add(z.key)),Le());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let z=Ai(),G=Le();return g.Ns.getEntries(D,v).next((L=>{z=L,z.forEach(((W,ee)=>{ee.isValidDocument()||(G=G.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,z))).next((L=>{T=L;const W=[];for(const ee of m){const re=hD(ee,T.get(ee.key).overlayedDocument);re!=null&&W.push(new Ds(ee.key,re,cb(re.value.mapValue),un.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,W,m)})).next((L=>{A=L;const W=L.applyToLocalDocumentSet(T,G);return g.documentOverlayCache.saveOverlays(D,L.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:Tb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ft(Pe)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await ju(s,o.changes),await kf(s.remoteStore)}catch(o){const u=Lg(o,"Failed to persist write");n.reject(u)}}async function nw(r,e){const n=we(r);try{const s=await c4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await ju(n,s,e)}catch(s){await zo(s)}}function pT(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(m)&&(p=!0)})),p&&zg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function J4(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,nn.newNoDocument(u,Ae.min()));const m=Le().add(u),g=new Df(Ae.min(),new Map,new ft(Pe),h,m);await nw(s,g),s.du=s.du.remove(u),s.Au.delete(e),Hg(s)}else await Pp(s.localStore,e,!1).then((()=>jp(s,e,n))).catch(zo)}async function Z4(r,e){const n=we(r),s=e.batch.batchId;try{const o=await u4(n.localStore,e);iw(n,s,null),rw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ju(n,o)}catch(o){await zo(o)}}async function eO(r,e,n){const s=we(r);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Qe(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);iw(s,e,n),rw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ju(s,o)}catch(o){await zo(o)}}function rw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function iw(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||sw(r,s)}))}function sw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Og(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Hg(r))}function gT(r,e,n){for(const s of n)s instanceof Zb?(r.Ru.addReference(s.key,e),tO(r,s)):s instanceof ew?(ce(qg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||sw(r,s.key)):Ee(19791,{wu:s})}function tO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(qg,"New document in limbo: "+n),r.Eu.add(s),Hg(r))}function Hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new F4(n)),r.du=r.du.insert(n,s),Qb(r.remoteStore,new ms(Hr(Sf(n.path)),s,"TargetPurposeLimboResolution",Tf.ce))}}async function ju(r,e,n){const s=we(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Ng.As(g.targetId,p);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const v=we(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(p,(A=>ne.forEach(A.Es,(D=>v.persistence.referenceDelegate.addReference(T,A.targetId,D))).next((()=>ne.forEach(A.ds,(D=>v.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))))))}catch(T){if(!Bo(T))throw T;ce(Dg,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const D=v.Ms.get(A),z=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(z);v.Ms=v.Ms.insert(A,G)}}})(s.localStore,u))}async function nO(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(qg,"User change. New user:",e.toKey());const s=await Hb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new se(Y.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ju(n,s.Ls)}}function rO(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function aw(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J4.bind(null,e),e.Pu.H_=z4.bind(null,e.eventManager),e.Pu.yu=B4.bind(null,e.eventManager),e}function iO(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eO.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l4(this.persistence,new s4,e.initialUser,this.serializer)}Cu(e){return new qb(Ig.mi,this.serializer)}Du(e){return new p4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class sO extends sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof nf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new qb((s=>nf.mi(s,n)),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await L4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j4})()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),s=(function(u){return new E4(u)})(e.databaseInfo);return(function(u,h,m,g){return new A4(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new R4(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return uT.v()?new uT:new g4})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,v){const T=new G4(o,u,h,m,g,p);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(ya,"RemoteStore shutting down."),s.Ea.add(5),await Uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zp.provider={build:()=>new zp};class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Rs="FirestoreClient";class aO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(Rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Hb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await oO(r);ce(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>hT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>hT(e.remoteStore,o))),r._onlineComponents=e}async function oO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Rs,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await op(r,new sf)}}else ce(Rs,"Using default OfflineComponentProvider"),await op(r,new sO(void 0));return r._offlineComponents}async function Gg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Rs,"Using user provided OnlineComponentProvider"),await yT(r,r._uninitializedComponentsProvider._online)):(ce(Rs,"Using default OnlineComponentProvider"),await yT(r,new zp))),r._onlineComponents}function lO(r){return Gg(r).then((e=>e.syncEngine))}function uO(r){return Gg(r).then((e=>e.datastore))}async function af(r){const e=await Gg(r),n=e.eventManager;return n.onListen=$4.bind(null,e.syncEngine),n.onUnlisten=Y4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X4.bind(null,e.syncEngine),n}function cO(r,e,n={}){const s=new qr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const v=new Fg({next:A=>{v.Nu(),h.enqueueAndForget((()=>jg(u,T)));const D=A.docs.has(m);!D&&A.fromCache?p.reject(new se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&g&&g.source==="server"?p.reject(new se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Bg(Sf(m.path),v,{includeMetadataChanges:!0,qa:!0});return Ug(u,T)})(await af(r),r.asyncQueue,e,n,s))),s.promise}function hO(r,e,n={}){const s=new qr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const v=new Fg({next:A=>{v.Nu(),h.enqueueAndForget((()=>jg(u,T))),A.fromCache&&g.source==="server"?p.reject(new se(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Bg(m,v,{includeMetadataChanges:!0,qa:!0});return Ug(u,T)})(await af(r),r.asyncQueue,e,n,s))),s.promise}function fO(r,e,n){const s=new qr;return r.asyncQueue.enqueueAndForget((async()=>{try{const o=await uO(r);s.resolve((async function(h,m,g){const p=we(h),{request:v,gt:T,parent:A}=DD(p.serializer,XN(m),g);p.connection.$o||delete v.parent;const D=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,A,v,1)).filter((G=>!!G.result));Qe(D.length===1,64727);const z=D[0].result?.aggregateFields;return Object.keys(z).reduce(((G,L)=>(G[T[L]]=z[L],G)),{})})(o,e,n))}catch(o){s.reject(o)}})),s.promise}function ow(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const _T=new Map;const lw="firestore.googleapis.com",vT=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qD)throw new se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new fN;switch(s.type){case"firstParty":return new gN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_T.get(n);s&&(ce("ComponentProvider","Removing Datastore"),_T.delete(n),s.terminate())})(this),Promise.resolve()}}function dO(r,e,n,s={}){r=Wt(r,zu);const o=Yr(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(mf(`https://${m}`),pf("Firestore",!0)),u.host!==lw&&u.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ma(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=tn.MOCK_USER;else{p=o1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(T)}r._authCredentials=new dN(new Z1(p,v))}}class pr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pr(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Vu(n,pt._jsonSchema))return new pt(e,s||null,new pe(rt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:kt("string",pt._jsonSchemaVersion),referencePath:kt("string")};class _s extends pr{constructor(e,n,s){super(e,n,Sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Do(r,e,...n){if(r=Je(r),_g("collection","path",e),r instanceof zu){const s=rt.fromString(e,...n);return kE(s),new _s(r,null,s)}{if(!(r instanceof pt||r instanceof _s))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return kE(s),new _s(r.firestore,null,s)}}function Xk(r,e){if(r=Wt(r,zu),_g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pr(r,null,(function(s){return new Ns(rt.emptyPath(),s)})(e))}function Oo(r,e,...n){if(r=Je(r),arguments.length===1&&(e=yg.newId()),_g("doc","path",e),r instanceof zu){const s=rt.fromString(e,...n);return ME(s),new pt(r,null,new pe(s))}{if(!(r instanceof pt||r instanceof _s))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return ME(s),new pt(r.firestore,r instanceof _s?r.converter:null,new pe(s))}}const TT="AsyncQueue";class bT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gb(this,"async_queue_retry"),this._c=()=>{const s=ap();s&&ce(TT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ce(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wi("INTERNAL UNHANDLED ERROR: ",wT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Pg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function AT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class hr extends zu{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new bT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bT(e),this._firestoreClient=void 0,await e}}}function mO(r,e){const n=typeof r=="object"?r:gf(),s=typeof r=="string"?r:Xh,o=Nu(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=sg("firestore");u&&dO(o,...u)}return o}function Ho(r){if(r._terminated)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pO(r),r._firestoreClient}function pO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new VN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ow(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new aO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class gO{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class yO{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Jt.fromBase64String(e))}catch(n){throw new se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:kt("string",Qn._jsonSchemaVersion),bytes:kt("string")};class Bu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vf{constructor(e){this._methodName=e}}class Gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:kt("string",Gr._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class $r{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $r(e.vectorValues);throw new se(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:kt("string",$r._jsonSchemaVersion),vectorValues:kt("object")};const _O=/^__.*__$/;class vO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class uw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class $g{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cw(this.Ac)&&_O.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Of(e)}Cc(e,n,s,o=!1){return new $g({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fo(r){const e=r._freezeSettings(),n=Of(r._databaseId);return new EO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Qg(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Yg("Data must be an object, but it was:",h,s);const m=mw(s,h);let g,p;if(u.merge)g=new Nn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=Bp(e,T,n);if(!h.contains(A))throw new se(Y.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);gw(v,A)||v.push(A)}g=new Nn(v),p=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=h.fieldTransforms;return new vO(new vn(m),g,p)}class Pf extends Vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class Kg extends Vf{_toFieldTransform(e){return new oD(e.path,new Tu)}isEqual(e){return e instanceof Kg}}function hw(r,e,n,s){const o=r.Cc(1,e,n);Yg("Data must be an object, but it was:",o,s);const u=[],h=vn.empty();Is(s,((g,p)=>{const v=Xg(e,g,n);p=Je(p);const T=o.yc(v);if(p instanceof Pf)u.push(v);else{const A=qu(p,T);A!=null&&(u.push(v),h.set(v,A))}}));const m=new Nn(u);return new uw(h,m,o.fieldTransforms)}function fw(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[Bp(e,s,n)],g=[o];if(u.length%2!=0)throw new se(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Bp(e,u[A])),g.push(u[A+1]);const p=[],v=vn.empty();for(let A=m.length-1;A>=0;--A)if(!gw(p,m[A])){const D=m[A];let z=g[A];z=Je(z);const G=h.yc(D);if(z instanceof Pf)p.push(D);else{const L=qu(z,G);L!=null&&(p.push(D),v.set(D,L))}}const T=new Nn(p);return new uw(v,T,h.fieldTransforms)}function dw(r,e,n,s=!1){return qu(n,r.Cc(s?4:3,e))}function qu(r,e){if(pw(r=Je(r)))return Yg("Unsupported field value:",e,r),mw(r,e);if(r instanceof Vf)return(function(s,o){if(!cw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=qu(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:tf(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(o.serializer,u)}}if(s instanceof Gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:Mb(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $r)return(function(h,m){return{mapValue:{fields:{[lb]:{stringValue:ub},[Wh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ag(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ef(s)}`)})(r,e)}function mw(r,e){const n={};return nb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(r,((s,o)=>{const u=qu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function pw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Gr||r instanceof Qn||r instanceof pt||r instanceof Vf||r instanceof $r)}function Yg(r,e,n){if(!pw(n)||!eb(n)){const s=Ef(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Bp(r,e,n){if((e=Je(e))instanceof Bu)return e._internalPath;if(typeof e=="string")return Xg(r,e);throw of("Field path arguments must be of type string or ",r,!1,void 0,n)}const TO=new RegExp("[~\\*/\\[\\]]");function Xg(r,e,n){if(e.search(TO)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bu(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function of(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new se(Y.INVALID_ARGUMENT,m+r+g)}function gw(r,e){return r.some((n=>n.isEqual(e)))}class Wg{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bO extends Wg{data(){return super.data()}}function Lf(r,e){return typeof e=="string"?Xg(r,e):e instanceof Bu?e._internalPath:e._delegate._internalPath}function yw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class Uf extends Jg{}function _w(r,e,...n){let s=[];e instanceof Jg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Zg)).length,m=u.filter((g=>g instanceof jf)).length;if(h>1||h>0&&m>0)throw new se(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class jf extends Uf{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jf(e,n,s)}_apply(e){const n=this._parse(e);return Ew(e._query,n),new pr(e.firestore,e.converter,Dp(e._query,n))}_parse(e){const n=Fo(e.firestore);return(function(u,h,m,g,p,v,T){let A;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){RT(T,v);const z=[];for(const G of T)z.push(ST(g,u,G));A={arrayValue:{values:z}}}else A=ST(g,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||RT(T,v),A=dw(m,h,T,v==="in"||v==="not-in");return Mt.create(p,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vw(r,e,n){const s=e,o=Lf("where",r);return jf._create(o,s,n)}class Zg extends Jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)Ew(h,g),h=Dp(h,g)})(e._query,n),new pr(e.firestore,e.converter,Dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends Uf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ey(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new se(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(u,h)})(e._query,this._field,this._direction);return new pr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ns(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Wk(r,e="asc"){const n=e,s=Lf("orderBy",r);return ey._create(s,n)}class ty extends Uf{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ty(e,n,s)}_apply(e){return new pr(e.firestore,e.converter,Zh(e._query,this._limit,this._limitType))}}function Jk(r){return wN("limit",r),ty._create("limit",r,"F")}class ny extends Uf{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new ny(e,n,s)}_apply(e){const n=wO(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,(function(o,u){return new Ns(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,n))}}function Zk(...r){return ny._create("startAfter",r,!1)}function wO(r,e,n,s){if(n[0]=Je(n[0]),n[0]instanceof Wg)return(function(u,h,m,g,p){if(!g)throw new se(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const v=[];for(const T of To(u))if(T.field.isKeyField())v.push(Jh(h,g.key));else{const A=g.data.field(T.field);if(wf(A))throw new se(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const D=T.field.canonicalString();throw new se(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}v.push(A)}return new xo(v,p)})(r._query,r.firestore._databaseId,e,n[0]._document,s);{const o=Fo(r.firestore);return(function(h,m,g,p,v,T){const A=h.explicitOrderBy;if(v.length>A.length)throw new se(Y.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let z=0;z<v.length;z++){const G=v[z];if(A[z].field.isKeyField()){if(typeof G!="string")throw new se(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof G}`);if(!wg(h)&&G.indexOf("/")!==-1)throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${G}' contains a slash.`);const L=h.path.child(rt.fromString(G));if(!pe.isDocumentKey(L))throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const W=new pe(L);D.push(Jh(m,W))}else{const L=dw(g,p,G);D.push(L)}}return new xo(D,T)})(r._query,r.firestore._databaseId,o,e,n,s)}}function ST(r,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new se(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wg(e)&&n.indexOf("/")!==-1)throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!pe.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jh(r,new pe(s))}if(n instanceof pt)return Jh(r,n._key);throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function RT(r,e){if(!Array.isArray(r)||r.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ew(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AO{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Is(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Wh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new $r(n)}convertGeoPoint(e){return new Gr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Af(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=bs(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(zb(s),9688,{name:e});const o=new _u(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||wi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function ry(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}function SO(){return new gO("count")}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends Wg{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:kt("string",ha._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class zh extends ha{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new zh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:RO(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function qp(r){r=Wt(r,pt);const e=Wt(r.firestore,hr);return cO(Ho(e),r._key).then((n=>bw(e,r,n)))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:kt("string",fa._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class zf extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function iy(r){r=Wt(r,pr);const e=Wt(r.firestore,hr),n=Ho(e),s=new zf(e);return yw(r._query),hO(n,r._query).then((o=>new fa(e,s,r,o)))}function e3(r,e,n){r=Wt(r,pt);const s=Wt(r.firestore,hr),o=ry(r.converter,e,n);return Hu(s,[Qg(Fo(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,un.none())])}function Tw(r,e,n,...s){r=Wt(r,pt);const o=Wt(r.firestore,hr),u=Fo(o);let h;return h=typeof(e=Je(e))=="string"||e instanceof Bu?fw(u,"updateDoc",r._key,e,n,s):hw(u,"updateDoc",r._key,e),Hu(o,[h.toMutation(r._key,un.exists(!0))])}function t3(r){return Hu(Wt(r.firestore,hr),[new Nf(r._key,un.none())])}function CO(r,e){const n=Wt(r.firestore,hr),s=Oo(r),o=ry(r.converter,e);return Hu(n,[Qg(Fo(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,un.exists(!1))]).then((()=>s))}function n3(r,...e){r=Je(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||AT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AT(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(r instanceof pt)h=Wt(r.firestore,hr),m=Sf(r._key.path),u={next:g=>{e[s]&&e[s](bw(h,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Wt(r,pr);h=Wt(g.firestore,hr),m=g._query;const p=new zf(h);u={next:v=>{e[s]&&e[s](new fa(h,p,g,v))},error:e[s+1],complete:e[s+2]},yw(r._query)}return(function(p,v,T,A){const D=new Fg(A),z=new Bg(v,D,T);return p.asyncQueue.enqueueAndForget((async()=>Ug(await af(p),z))),()=>{D.Nu(),p.asyncQueue.enqueueAndForget((async()=>jg(await af(p),z)))}})(Ho(h),m,o,u)}function Hu(r,e){return(function(s,o){const u=new qr;return s.asyncQueue.enqueueAndForget((async()=>W4(await lO(s),o,u))),u.promise})(Ho(r),e)}function bw(r,e,n){const s=n.docs.get(e._key),o=new zf(r);return new ha(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function CT(r){return xO(r,{count:SO()})}function xO(r,e){const n=Wt(r.firestore,hr),s=Ho(n),o=MN(e,((u,h)=>new pD(h,u.aggregateType,u._internalFieldPath)));return fO(s,r._query,o).then((u=>(function(m,g,p){const v=new zf(m);return new yO(g,v,p)})(n,r,u)))}class IO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fo(e)}set(e,n,s){this._verifyNotCommitted();const o=lp(e,this._firestore),u=ry(o.converter,n,s),h=Qg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,un.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=lp(e,this._firestore);let h;return h=typeof(n=Je(n))=="string"||n instanceof Bu?fw(this._dataReader,"WriteBatch.update",u._key,n,s,o):hw(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=lp(e,this._firestore);return this._mutations=this._mutations.concat(new Nf(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lp(r,e){if((r=Je(r)).firestore!==e)throw new se(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function r3(){return new Kg("serverTimestamp")}function i3(r){return Ho(r=Wt(r,hr)),new IO(r,(e=>Hu(r,e)))}(function(e,n=!0){(function(o){jo=o})(va),vs(new Ei("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new hr(new mN(s.getProvider("auth-internal")),new yN(h,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(p.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kn(IE,NE,e),Kn(IE,NE,"esm2020")})();const ww="firebasestorage.googleapis.com",Aw="storageBucket",NO=120*1e3,DO=600*1e3;class yt extends mr{constructor(e,n,s=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function up(r){return"storage/"+r}function sy(){const r="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,r)}function OO(r){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function MO(r){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,r)}function VO(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PO(r){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function LO(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UO(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function jO(r){return new yt(gt.INVALID_URL,"Invalid URL '"+r+"'.")}function zO(r){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function BO(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Aw+"' property when initializing the app?")}function qO(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HO(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FO(r){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hp(r){return new yt(gt.INVALID_ARGUMENT,r)}function Sw(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function GO(r){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(r,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Jl(r){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+r)}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(s.path==="")return s;throw zO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",D=new RegExp(`^https?://${T}/${v}/b/${o}/o${A}`,"i"),z={bucket:1,path:3},G=n===ww?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",W=new RegExp(`^https?://${G}/${o}/${L}`,"i"),re=[{regex:m,indices:g,postModify:u},{regex:D,indices:z,postModify:p},{regex:W,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<re.length;le++){const de=re[le],ge=de.regex.exec(e);if(ge){const I=ge[de.indices.bucket];let C=ge[de.indices.path];C||(C=""),s=new Dn(I,C),de.postModify(s);break}}if(s==null)throw jO(e);return s}}class $O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function v(...L){p||(p=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,r(D,g())},L)}function A(){u&&clearTimeout(u)}function D(L,...W){if(p){A();return}if(L){A(),v.call(null,L,...W);return}if(g()||h){A(),v.call(null,L,...W);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,T(re)}let z=!1;function G(L){z||(z=!0,A(),!p&&(o!==null?(L||(m=2),clearTimeout(o),T(0)):L||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function KO(r){r(!1)}function YO(r){return r!==void 0}function XO(r){return typeof r=="object"&&!Array.isArray(r)}function ay(r){return typeof r=="string"||r instanceof String}function xT(r){return oy()&&r instanceof Blob}function oy(){return typeof Blob<"u"}function IT(r,e,n,s){if(s<e)throw Hp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Hp(`Invalid value for '${r}'. Expected ${n} or less.`)}function Bf(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function Rw(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var da;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(da||(da={}));function WO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class JO{constructor(e,n,s,o,u,h,m,g,p,v,T,A=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,G)=>{this.resolve_=z,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Ch(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===da.NO_ERROR,g=u.getStatus();if(!m||WO(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===da.ABORT;s(!1,new Ch(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new Ch(p,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());YO(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=sy();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Sw():UO();h(g)}else{const g=LO();h(g)}};this.canceled_?n(!1,new Ch(!1,null,!0)):this.backoffId_=QO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ch{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function e6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function n6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function r6(r,e,n,s,o,u,h=!0,m=!1){const g=Rw(r.urlParams),p=r.url+g,v=Object.assign({},r.headers);return t6(v,e),ZO(v,n),e6(v,u),n6(v,s),new JO(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function i6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function s6(...r){const e=i6();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(oy())return new Blob(r);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function a6(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function o6(r){if(typeof atob>"u")throw FO("base-64");return atob(r)}const jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cp{constructor(e,n){this.data=e,this.contentType=n||null}}function l6(r,e){switch(r){case jr.RAW:return new cp(Cw(e));case jr.BASE64:case jr.BASE64URL:return new cp(xw(r,e));case jr.DATA_URL:return new cp(c6(e),h6(e))}throw sy()}function Cw(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function u6(r){let e;try{e=decodeURIComponent(r)}catch{throw cu(jr.DATA_URL,"Malformed data URL.")}return Cw(e)}function xw(r,e){switch(r){case jr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case jr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=o6(e)}catch(o){throw o.message.includes("polyfill")?o:cu(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Iw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cu(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=f6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function c6(r){const e=new Iw(r);return e.base64?xw(jr.BASE64,e.rest):u6(e.rest)}function h6(r){return new Iw(r).contentType}function f6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class fs{constructor(e,n){let s=0,o="";xT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(xT(this.data_)){const s=this.data_,o=a6(s,e,n);return o===null?null:new fs(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new fs(s,!0)}}static getBlob(...e){if(oy()){const n=e.map(s=>s instanceof fs?s.data_:s);return new fs(s6.apply(null,n))}else{const n=e.map(h=>ay(h)?l6(jr.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new fs(o,!0)}}uploadData(){return this.data_}}function Nw(r){let e;try{e=JSON.parse(r)}catch{return null}return XO(e)?e:null}function d6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function m6(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function Dw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function p6(r,e){return e}class ln{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||p6}}let xh=null;function g6(r){return!ay(r)||r.length<2?r:Dw(r)}function Ow(){if(xh)return xh;const r=[];r.push(new ln("bucket")),r.push(new ln("generation")),r.push(new ln("metageneration")),r.push(new ln("name","fullPath",!0));function e(u,h){return g6(h)}const n=new ln("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new ln("size");return o.xform=s,r.push(o),r.push(new ln("timeCreated")),r.push(new ln("updated")),r.push(new ln("md5Hash",null,!0)),r.push(new ln("cacheControl",null,!0)),r.push(new ln("contentDisposition",null,!0)),r.push(new ln("contentEncoding",null,!0)),r.push(new ln("contentLanguage",null,!0)),r.push(new ln("contentType",null,!0)),r.push(new ln("metadata","customMetadata",!0)),xh=r,xh}function y6(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Dn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function _6(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return y6(s,r),s}function Mw(r,e,n){const s=Nw(e);return s===null?null:_6(r,s,n)}function v6(r,e,n,s){const o=Nw(e);if(o===null||!ay(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const v=r.bucket,T=r.fullPath,A="/b/"+h(v)+"/o/"+h(T),D=Bf(A,n,s),z=Rw({alt:"media",token:p});return D+z})[0]}function E6(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class ly{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kw(r){if(!r)throw sy()}function T6(r,e){function n(s,o){const u=Mw(r,o,e);return kw(u!==null),u}return n}function b6(r,e){function n(s,o){const u=Mw(r,o,e);return kw(u!==null),v6(u,o,r.host,r._protocol)}return n}function Vw(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=VO():o=kO():n.getStatus()===402?o=MO(r.bucket):n.getStatus()===403?o=PO(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Pw(r){const e=Vw(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=OO(r.path)),u.serverResponse=o.serverResponse,u}return n}function w6(r,e,n){const s=e.fullServerUrl(),o=Bf(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new ly(o,u,b6(r,n),h);return m.errorHandler=Pw(e),m}function A6(r,e){const n=e.fullServerUrl(),s=Bf(n,r.host,r._protocol),o="DELETE",u=r.maxOperationRetryTime;function h(g,p){}const m=new ly(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Pw(e),m}function S6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function R6(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=S6(null,e)),s}function C6(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let re="";for(let le=0;le<2;le++)re=re+Math.random().toString().slice(2);return re}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const p=R6(e,s,o),v=E6(p,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,A=`\r
--`+g+"--",D=fs.getBlob(T,s,A);if(D===null)throw qO();const z={name:p.fullPath},G=Bf(u,r.host,r._protocol),L="POST",W=r.maxUploadRetryTime,ee=new ly(G,L,T6(r,n),W);return ee.urlParams=z,ee.headers=h,ee.body=D.uploadData(),ee.errorHandler=Vw(e),ee}class x6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=da.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=da.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=da.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Jl("cannot .send() more than once");if(Yr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class I6 extends x6{initXhr(){this.xhr_.responseType="text"}}function uy(){return new I6}class _a{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _a(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dw(this._location.path)}get storage(){return this._service}get parent(){const e=d6(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new _a(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GO(e)}}function N6(r,e,n){r._throwIfRoot("uploadBytes");const s=C6(r.storage,r._location,Ow(),new fs(e,!0),n);return r.storage.makeRequestWithTokens(s,uy).then(o=>({metadata:o,ref:r}))}function D6(r){r._throwIfRoot("getDownloadURL");const e=w6(r.storage,r._location,Ow());return r.storage.makeRequestWithTokens(e,uy).then(n=>{if(n===null)throw HO();return n})}function O6(r){r._throwIfRoot("deleteObject");const e=A6(r.storage,r._location);return r.storage.makeRequestWithTokens(e,uy)}function M6(r,e){const n=m6(r._location.path,e),s=new Dn(r._location.bucket,n);return new _a(r.storage,s)}function k6(r){return/^[A-Za-z]+:\/\//.test(r)}function V6(r,e){return new _a(r,e)}function Lw(r,e){if(r instanceof cy){const n=r;if(n._bucket==null)throw BO();const s=new _a(n,n._bucket);return e!=null?Lw(s,e):s}else return e!==void 0?M6(r,e):r}function P6(r,e){if(e&&k6(e)){if(r instanceof cy)return V6(r,e);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}else return Lw(r,e)}function NT(r,e){const n=e?.[Aw];return n==null?null:Dn.makeFromBucketSpec(n,r)}function L6(r,e,n,s={}){r.host=`${e}:${n}`;const o=Yr(e);o&&(mf(`https://${r.host}/b`),pf("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:o1(u,r.app.options.projectId))}class cy{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=ww,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NO,this._maxUploadRetryTime=DO,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=NT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=NT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _a(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new $O(Sw());{const h=r6(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const DT="@firebase/storage",OT="0.14.0";const Uw="storage";function s3(r,e,n){return r=Je(r),N6(r,e,n)}function a3(r){return r=Je(r),D6(r)}function o3(r){return r=Je(r),O6(r)}function l3(r,e){return r=Je(r),P6(r,e)}function U6(r=gf(),e){r=Je(r);const s=Nu(r,Uw).getImmediate({identifier:e}),o=sg("storage");return o&&j6(s,...o),s}function j6(r,e,n,s={}){L6(r,e,n,s)}function z6(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new cy(n,s,o,e,va)}function B6(){vs(new Ei(Uw,z6,"PUBLIC").setMultipleInstances(!0)),Kn(DT,OT,""),Kn(DT,OT,"esm2020")}B6();const q6="type.googleapis.com/google.protobuf.Int64Value",H6="type.googleapis.com/google.protobuf.UInt64Value";function jw(r,e){const n={};for(const s in r)r.hasOwnProperty(s)&&(n[s]=e(r[s]));return n}function lf(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>lf(e));if(typeof r=="function"||typeof r=="object")return jw(r,e=>lf(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Mo(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case q6:case H6:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Mo(e)):typeof r=="function"||typeof r=="object"?jw(r,e=>Mo(e)):r}const hy="functions";const MT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class En extends mr{constructor(e,n,s){super(`${hy}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,En.prototype)}}function F6(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uf(r,e){let n=F6(r),s=n,o;try{const u=e&&e.error;if(u){const h=u.status;if(typeof h=="string"){if(!MT[h])return new En("internal","internal");n=MT[h],s=h}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=Mo(o))}}catch{}return n==="ok"?null:new En(n,s,o)}class G6{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_n(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}const Fp="us-central1",$6=/^data: (.*?)(?:\n|$)/;function Q6(r){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new En("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class K6{constructor(e,n,s,o,u=Fp,h=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new G6(e,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Fp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Y6(r,e,n){const s=Yr(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(mf(r.emulatorOrigin+"/backends"),pf("Functions",!0))}function X6(r,e,n){const s=o=>J6(r,e,o,{});return s.stream=(o,u)=>eM(r,e,o,u),s}function zw(r){return r.emulatorOrigin&&Yr(r.emulatorOrigin)?"include":void 0}async function W6(r,e,n,s,o){n["Content-Type"]="application/json";let u;try{u=await s(r,{method:"POST",body:JSON.stringify(e),headers:n,credentials:zw(o)})}catch{return{status:0,json:null}}let h=null;try{h=await u.json()}catch{}return{status:u.status,json:h}}async function Bw(r,e){const n={},s=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function J6(r,e,n,s){const o=r._url(e);return Z6(r,o,n,s)}async function Z6(r,e,n,s){n=lf(n);const o={data:n},u=await Bw(r,s),h=s.timeout||7e4,m=Q6(h),g=await Promise.race([W6(e,o,u,r.fetchImpl,r),m.promise,r.cancelAllRequests]);if(m.cancel(),!g)throw new En("cancelled","Firebase Functions instance was deleted.");const p=uf(g.status,g.json);if(p)throw p;if(!g.json)throw new En("internal","Response is not valid JSON object.");let v=g.json.data;if(typeof v>"u"&&(v=g.json.result),typeof v>"u")throw new En("internal","Response is missing data field.");return{data:Mo(v)}}function eM(r,e,n,s){const o=r._url(e);return tM(r,o,n,s||{})}async function tM(r,e,n,s){n=lf(n);const o={data:n},u=await Bw(r,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal,credentials:zw(r)})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const z=new En("cancelled","Request was cancelled.");return{data:Promise.reject(z),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(z)}}}}}}const D=uf(0,null);return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}let m,g;const p=new Promise((A,D)=>{m=A,g=D});s?.signal?.addEventListener("abort",()=>{const A=new En("cancelled","Request was cancelled.");g(A)});const v=h.body.getReader(),T=nM(v,m,g,s?.signal);return{stream:{[Symbol.asyncIterator](){const A=T.getReader();return{async next(){const{value:D,done:z}=await A.read();return{value:D,done:z}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:p}}function nM(r,e,n,s){const o=(h,m)=>{const g=h.match($6);if(!g)return;const p=g[1];try{const v=JSON.parse(p);if("result"in v){e(Mo(v.result));return}if("message"in v){m.enqueue(Mo(v.message));return}if("error"in v){const T=uf(0,v);m.error(T),n(T);return}}catch(v){if(v instanceof En){m.error(v),n(v);return}}},u=new TextDecoder;return new ReadableStream({start(h){let m="";return g();async function g(){if(s?.aborted){const p=new En("cancelled","Request was cancelled");return h.error(p),n(p),Promise.resolve()}try{const{value:p,done:v}=await r.read();if(v){m.trim()&&o(m.trim(),h),h.close();return}if(s?.aborted){const A=new En("cancelled","Request was cancelled");h.error(A),n(A),await r.cancel();return}m+=u.decode(p,{stream:!0});const T=m.split(`
`);m=T.pop()||"";for(const A of T)A.trim()&&o(A.trim(),h);return g()}catch(p){const v=p instanceof En?p:uf(0,null);h.error(v),n(v)}}},cancel(){return r.cancel()}})}const kT="@firebase/functions",VT="0.13.1";const rM="auth-internal",iM="app-check-internal",sM="messaging-internal";function aM(r){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(rM),h=n.getProvider(sM),m=n.getProvider(iM);return new K6(o,u,h,m,s)};vs(new Ei(hy,e,"PUBLIC").setMultipleInstances(!0)),Kn(kT,VT,r),Kn(kT,VT,"esm2020")}function oM(r=gf(),e=Fp){const s=Nu(Je(r),hy).getImmediate({identifier:e}),o=sg("functions");return o&&lM(s,...o),s}function lM(r,e,n){Y6(Je(r),e,n)}function qw(r,e,n){return X6(Je(r),e)}aM();const uM={apiKey:"AIzaSyBD2Zd4qjZCdqf3B2Gd13xjooTicvc-tXY",authDomain:"truckerapp-system.firebaseapp.com",projectId:"truckerapp-system",storageBucket:"truckerapp-system.firebasestorage.app",messagingSenderId:"725898258453",appId:"1:725898258453:web:5a5f0490e7baf3e518061c"},qf=c1(uM),Gp=lN(qf),lr=mO(qf),u3=U6(qf),Hw=oM(qf);console.log("Firebase has been connected securely!");const cM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),PT=r=>{const e=hM(r);return e.charAt(0).toUpperCase()+e.slice(1)},Fw=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),fM=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mM=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>j.createElement("svg",{ref:g,...dM,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Fw("lucide",o),...!u&&!fM(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,v])=>j.createElement(p,v)),...Array.isArray(u)?u:[u]]));const Ue=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(mM,{ref:u,iconNode:e,className:Fw(`lucide-${cM(PT(r))}`,`lucide-${r}`,s),...o}));return n.displayName=PT(r),n};const pM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$p=Ue("arrow-right",pM);const gM=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yM=Ue("ban",gM);const _M=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fu=Ue("briefcase",_M);const vM=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],EM=Ue("building-2",vM);const TM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bM=Ue("calendar",TM);const wM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],AM=Ue("chevron-left",wM);const SM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RM=Ue("chevron-right",SM);const CM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xM=Ue("circle-alert",CM);const IM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gw=Ue("circle-check-big",IM);const NM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qp=Ue("circle-check",NM);const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],OM=Ue("circle-x",DM);const MM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kp=Ue("clock",MM);const kM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VM=Ue("eye",kM);const PM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],LM=Ue("funnel",PM);const UM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jM=Ue("house",UM);const zM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$w=Ue("info",zM);const BM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Au=Ue("loader-circle",BM);const qM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qw=Ue("lock",qM);const HM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FM=Ue("log-out",HM);const GM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$M=Ue("mail",GM);const QM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],KM=Ue("map-pin",QM);const YM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XM=Ue("message-square",YM);const WM=[["path",{d:"m16 8 6-6",key:"oawc05"}],["path",{d:"M22 8V2h-6",key:"oqy2zc"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Kw=Ue("phone-outgoing",WM);const JM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ZM=Ue("phone",JM);const ek=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yw=Ue("refresh-cw",ek);const tk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nk=Ue("search",tk);const rk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fy=Ue("square-check-big",rk);const ik=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dy=Ue("square",ik);const sk=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],ak=Ue("thumbs-down",sk);const ok=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],my=Ue("triangle-alert",ok);const lk=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],uk=Ue("truck",lk);const ck=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hk=Ue("user-plus",ck);const fk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dk=Ue("user",fk);const mk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xw=Ue("users",mk);const pk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ww=Ue("x",pk);const gk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yp=Ue("zap",gk);async function c3(){return await iy(Do(lr,"companies"))}async function yk(r){if(!r)return null;try{return(await qw(Hw,"getCompanyProfile")({companyId:r})).data}catch(e){return console.error(`Error calling getCompanyProfile function for ${r}:`,e),null}}async function h3(r){const e=_w(Do(lr,"companies"),vw("appSlug","==",r.appSlug));if(!(await iy(e)).empty)throw new Error(`The URL Slug "${r.appSlug}" is already taken. Please choose a unique one.`);return await CO(Do(lr,"companies"),r)}async function f3(r,e,n){if(e.appSlug&&n&&e.appSlug!==n){const o=_w(Do(lr,"companies"),vw("appSlug","==",e.appSlug)),u=await iy(o);let h=!1;if(u.forEach(m=>{m.id===r&&(h=!0)}),!u.empty&&!h)throw new Error(`The URL Slug "${e.appSlug}" is already taken. Please choose a unique one.`)}const s=Oo(lr,"companies",r);return await Tw(s,e)}async function d3(r,e){if(!r)throw new Error("Missing Company ID");const n=Oo(lr,"companies",r),s={};return e.companyName&&(s.companyName=e.companyName),e.contact&&(s.contact=e.contact),e.address&&(s.address=e.address),e.legal&&(s.legal=e.legal),e.hiringPreferences&&(s.hiringPreferences=e.hiringPreferences),e.structuredOffers&&(s.structuredOffers=e.structuredOffers),e.customQuestions&&(s.customQuestions=e.customQuestions),e.companyLogoUrl&&(s.companyLogoUrl=e.companyLogoUrl),e.driverTypes&&(s.driverTypes=e.driverTypes),e.applicationConfig&&(s.applicationConfig=e.applicationConfig),e.hiringPositions&&(s.hiringPositions=e.hiringPositions),await Tw(n,s)}const cf=[{key:"name",label:"Driver / Contact",className:"text-left align-middle",widthClass:"w-[25%] min-w-[200px]"},{key:"status",label:"Status",className:"text-center align-middle",widthClass:"w-[12%] min-w-[110px]"},{key:"lastCall",label:"Last Call",className:"text-center align-middle",widthClass:"w-[15%] min-w-[140px]"},{key:"qualifications",label:"Position / Type",className:"text-left align-middle",widthClass:"w-[20%] min-w-[180px]"},{key:"assignee",label:"Recruiter",className:"text-left align-middle",widthClass:"w-[15%] min-w-[140px]"},{key:"date",label:"Application Date",className:"text-right align-middle",widthClass:"w-[13%] min-w-[130px]"}],LT=cf.map(r=>r.key),_k=["Dry Van","Reefer","Flatbed","Tanker","Box Truck","Car Hauler","Step Deck","Lowboy","Conestoga","Intermodal","Power Only","Hotshot"];function vk({startTime:r}){const[e,n]=j.useState("--:--:--"),[s,o]=j.useState(!1),[u,h]=j.useState("pending");return j.useEffect(()=>{if(!r){h("pending");return}const m=()=>{const p=new Date,v=r.seconds?new Date(r.seconds*1e3):new Date(r),A=new Date(v.getTime()+1440*60*1e3)-p;if(A<=0)n("00:00:00"),o(!0),h("expired");else{h("active");const D=Math.floor(A/(1e3*60*60)),z=Math.floor(A%(1e3*60*60)/(1e3*60)),G=Math.floor(A%(1e3*60)/1e3),L=D.toString().padStart(2,"0"),W=z.toString().padStart(2,"0"),ee=G.toString().padStart(2,"0");n(`${L}:${W}:${ee}`),o(D<4)}};m();const g=setInterval(m,1e3);return()=>clearInterval(g)},[r]),u==="pending"?b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 bg-gray-50 text-gray-500 text-xs font-medium",title:"Waiting for Super Admin to trigger distribution",children:[b.jsx(Kp,{size:14}),b.jsx("span",{children:"Next Batch: Pending"})]}):u==="expired"?b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-orange-200 bg-orange-50 text-orange-700 text-xs font-bold animate-pulse",children:[b.jsx(Yw,{size:14,className:"animate-spin"}),b.jsx("span",{children:"Rotation In Progress..."})]}):b.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm font-mono font-bold shadow-sm transition-colors duration-500
            ${s?"bg-red-50 text-red-600 border-red-200":"bg-purple-50 text-purple-700 border-purple-200"}`,title:"Time remaining until these leads rotate to another company",children:[b.jsx(Kp,{size:16,className:s?"animate-pulse":""}),b.jsx("span",{children:e})]})}const Ek=j.memo(function({activeTab:e,dataCount:n,totalCount:s,searchQuery:o,setSearchQuery:u,filters:h,setFilters:m,clearFilters:g,onShowSafeHaulInfo:p,latestBatchTime:v,visibleColumns:T,setVisibleColumns:A,selectedCount:D=0,onAssignLeads:z,canAssign:G}){const[L,W]=j.useState(!1),[ee,re]=j.useState(!1),le=j.useRef(null),de=()=>{switch(e){case"applications":return"Direct Applications";case"find_driver":return"SafeHaul Network Leads";case"company_leads":return"Imported Company Leads";case"my_leads":return"My Assigned Drivers";default:return"Drivers"}},ge=(R,M)=>{m(R,M)},I=j.useMemo(()=>h&&(h.state||h.driverType||h.dob||h.assignee),[h]),C=R=>{if(T.includes(R)){if(T.length<=1)return;A(T.filter(M=>M!==R))}else{const M=new Set([...T,R]),O=cf.filter(P=>M.has(P.key)).map(P=>P.key);A(O)}};return j.useEffect(()=>{const R=M=>{le.current&&!le.current.contains(M.target)&&re(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white z-30 flex flex-col gap-3 shrink-0 relative",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e==="find_driver"&&b.jsx(Yp,{size:18,className:"text-purple-600 fill-purple-100"}),e==="company_leads"&&b.jsx(Fu,{size:18,className:"text-orange-600"}),de()]}),b.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Showing ",n," of ",s," records"]})]}),e==="find_driver"&&b.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[b.jsx(vk,{startTime:v}),b.jsx("button",{onClick:p,className:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors",title:"How SafeHaul Leads Work",children:b.jsx($w,{size:18})})]}),G&&D>0&&b.jsx("div",{className:"animate-in fade-in slide-in-from-left-2 pl-4 border-l border-gray-200",children:b.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white text-sm font-bold rounded-lg shadow-sm hover:bg-blue-700 transition-colors",children:[b.jsx(Xw,{size:16})," Assign (",D,")"]})})]}),b.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[b.jsxs("div",{className:"relative flex-1 sm:w-64",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(nk,{size:16,className:"text-gray-400"})}),b.jsx("input",{type:"text",placeholder:"Search name, phone, email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none",value:o,onChange:R=>u(R.target.value)})]}),b.jsxs("div",{className:"relative",ref:le,children:[b.jsxs("button",{onClick:()=>re(!ee),className:`p-2 rounded-lg border transition-all flex items-center gap-2 text-sm font-medium ${ee?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,title:"Customize Columns",children:[b.jsx(VM,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"View"})]}),ee&&b.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-200 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:[b.jsx("div",{className:"p-3 border-b border-gray-100 bg-gray-50",children:b.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Show Columns"})}),b.jsx("div",{className:"p-2 space-y-1",children:cf.map(R=>{const M=T.includes(R.key);return b.jsxs("button",{onClick:()=>C(R.key),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors text-left",children:[M?b.jsx(fy,{size:16,className:"text-blue-600"}):b.jsx(dy,{size:16,className:"text-gray-400"}),R.label]},R.key)})})]})]}),b.jsxs("button",{onClick:()=>W(!L),className:`p-2 rounded-lg border transition-all flex items-center gap-2 text-sm font-medium ${L||I?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[b.jsx(LM,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"Filters"}),I&&b.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"})]})]})]}),L&&b.jsx("div",{className:"pt-3 pb-1 border-t border-dashed border-gray-200 animate-in slide-in-from-top-2",children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Freight Type"}),b.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:h?.driverType||"",onChange:R=>ge("driverType",R.target.value),children:[b.jsx("option",{value:"",children:"All Types"}),_k.map(R=>b.jsx("option",{value:R,children:R},R))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"State"}),b.jsx("input",{type:"text",placeholder:"e.g. IL, TX",className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:h?.state||"",onChange:R=>ge("state",R.target.value),maxLength:2})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Assigned To"}),b.jsx("input",{type:"text",placeholder:"Search recruiter...",className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:h?.assignee||"",onChange:R=>ge("assignee",R.target.value)})]}),b.jsx("div",{className:"flex items-end",children:b.jsxs("button",{onClick:g,className:"w-full p-2 border border-red-200 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[b.jsx(Ww,{size:14})," Clear Filters"]})})]})})]})});function hp(r){return r==null||r===""?"Not Specified":r}function m3(r){return!r||r==="New"||r==="0"||r===0||r===""?"Unidentified":`${r} Years`}function Tk(r){if(!r)return"";let e=String(r).trim().replace(/\D/g,"");return e.length===11&&e.startsWith("1")&&(e=e.substring(1)),e}function bk(r){if(!r)return"Not Specified";const e=Tk(r);if(e.length===10){const n=e.match(/^(\d{3})(\d{3})(\d{4})$/);if(n)return`(${n[1]}) ${n[2]}-${n[3]}`}return r||"Not Specified"}function p3(r){switch(r){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Background Check":return"bg-purple-100 text-purple-800";case"Awaiting Documents":return"bg-yellow-100 text-yellow-800";case"Pending Review":return"bg-blue-100 text-blue-800";case"New Application":default:return"bg-gray-100 text-gray-800"}}const wk=r=>{const e=(r||"").toLowerCase();return e.includes("hired")||e.includes("accepted")||e.includes("approved")?"bg-green-100 text-green-800 border-green-200":e.includes("rejected")||e.includes("disqualified")||e.includes("declined")?"bg-red-100 text-red-800 border-red-200":e.includes("offer")||e.includes("background")?"bg-purple-100 text-purple-800 border-purple-200":e.includes("contacted")||e.includes("attempted")||e.includes("review")?"bg-yellow-100 text-yellow-800 border-yellow-200":e.includes("new")||e.includes("lead")?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200"},Ak=r=>{const e=(r||"").toLowerCase();return e.includes("connected")||e.includes("spoke")||e.includes("interested")?{style:"bg-green-50 text-green-700 border-green-200",icon:Qp}:e.includes("callback")?{style:"bg-blue-50 text-blue-700 border-blue-200",icon:Kp}:e.includes("voicemail")?{style:"bg-yellow-50 text-yellow-700 border-yellow-200",icon:XM}:e.includes("no answer")?{style:"bg-red-50 text-red-700 border-red-200",icon:OM}:e.includes("not interested")?{style:"bg-gray-100 text-gray-600 border-gray-200",icon:ak}:e.includes("not qualified")||e.includes("wrong")?{style:"bg-orange-50 text-orange-700 border-orange-200",icon:yM}:e.includes("hired")||e.includes("employed")?{style:"bg-purple-50 text-purple-700 border-purple-200",icon:Fu}:{style:"bg-gray-50 text-gray-500 border-gray-100",icon:Kw}};function Sk({data:r,selectedId:e,onSelect:n,onPhoneClick:s,totalCount:o,loading:u,visibleColumns:h=["name","status","lastCall","qualifications","assignee","date"],selectedRowIds:m=[],onToggleRow:g,showCheckboxes:p=!1}){return u?b.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:Array.from({length:6}).map((v,T)=>b.jsxs("tr",{className:"animate-pulse",children:[p&&b.jsx("td",{className:"px-6 py-4 w-12",children:b.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"})}),h.includes("name")&&b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),b.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]})]})}),h.map((A,D)=>A==="name"?null:b.jsx("td",{className:"px-6 py-4",children:b.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})},D))]},T))}):o===0?b.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:b.jsx("tr",{children:b.jsx("td",{colSpan:h.length+(p?1:0),className:"p-12 text-center text-gray-400",children:b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsx(Yp,{size:32,className:"opacity-20"}),b.jsx("p",{children:"No records found."})]})})})}):b.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:r.map(v=>{const T=`${hp(v.firstName)} ${hp(v.lastName)}`,A=e===v.id,D=m.includes(v.id);let z="Unspecified";Array.isArray(v.driverType)&&v.driverType.length>0?z=v.driverType.join(", "):typeof v.driverType=="string"&&v.driverType&&(z=v.driverType);const G=v.positionApplyingTo||"Driver",L=v.isPlatformLead?v.distributedAt:v.submittedAt||v.createdAt,W=L?new Date(L.seconds*1e3).toLocaleDateString():"--",ee=v.isPlatformLead===!0,re=Ak(v.lastCallOutcome),le=re.icon;return b.jsxs("tr",{onClick:()=>n(v),className:`cursor-pointer transition-colors group border-l-4 ${A?"bg-blue-50/60 border-l-blue-600":D?"bg-blue-50/30 border-l-transparent":"hover:bg-gray-50 border-l-transparent"}`,children:[p&&b.jsx("td",{className:"px-6 py-4 w-12 align-middle",onClick:de=>{de.stopPropagation(),g(v.id)},children:D?b.jsx(fy,{size:20,className:"text-blue-600"}):b.jsx(dy,{size:20,className:"text-gray-300 hover:text-gray-500"})}),h.includes("name")&&b.jsx("td",{className:"px-6 py-4 align-middle overflow-hidden text-left",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold border shrink-0 transition-colors ${A?"bg-blue-600 text-white border-blue-600":"bg-gray-100 text-gray-600 border-gray-200 group-hover:bg-white"}`,children:T.charAt(0).toUpperCase()}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-blue-700 transition-colors truncate",children:T}),ee&&b.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold bg-purple-100 text-purple-700 uppercase",children:[b.jsx(Yp,{size:10,className:"mr-0.5 fill-purple-700"})," Lead"]})]}),b.jsx("div",{className:"flex items-center gap-3 mt-1",children:b.jsxs("button",{onClick:de=>s(de,v),className:`text-xs rounded px-2 py-1 flex items-center gap-1 transition-all border ${ee?"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100":"bg-gray-50 text-gray-600 border-gray-200 hover:bg-green-50 hover:text-green-700 hover:border-green-200"}`,title:"Call Driver",children:[ee?b.jsx(Qw,{size:10}):b.jsx(ZM,{size:12}),ee?"Click to contact":bk(hp(v.phone))]})})]})]})}),h.includes("status")&&b.jsx("td",{className:"px-6 py-4 align-middle text-center",children:b.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${wk(v.status)}`,children:v.status||"New"})}),h.includes("lastCall")&&b.jsx("td",{className:"px-6 py-4 align-middle text-center",children:v.lastCallOutcome?b.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide border ${re.style}`,children:[b.jsx(le,{size:12,strokeWidth:2.5}),v.lastCallOutcome]}):b.jsxs("span",{className:"text-xs text-gray-400 italic flex items-center justify-center gap-1 opacity-60",children:[b.jsx(Kw,{size:14})," No Calls"]})}),h.includes("qualifications")&&b.jsx("td",{className:"px-6 py-4 align-middle overflow-hidden text-left",children:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-700",children:[b.jsx(Fu,{size:12,className:"text-gray-400"})," ",G]}),b.jsx("p",{className:"text-[10px] text-gray-500 max-w-[150px] truncate",title:z,children:z}),b.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400 mt-0.5",children:[v.experience||v["experience-years"]?b.jsxs("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded border border-gray-200",children:[v.experience||v["experience-years"]," Exp"]}):null,v.state&&b.jsxs("span",{className:"flex items-center gap-0.5",children:[b.jsx(KM,{size:10})," ",v.state]})]})]})}),h.includes("assignee")&&b.jsx("td",{className:"px-6 py-4 align-middle text-left",children:v.assignedToName?b.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-700 bg-white px-2 py-1 rounded-full border border-gray-200 w-fit shadow-sm",children:[b.jsx("div",{className:"w-4 h-4 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-[8px] font-bold",children:v.assignedToName.charAt(0)}),v.assignedToName]}):b.jsxs("span",{className:"text-xs text-gray-400 italic flex items-center gap-1",children:[b.jsx(dk,{size:12})," Unassigned"]})}),h.includes("date")&&b.jsx("td",{className:"px-6 py-4 align-middle text-right",children:b.jsxs("span",{className:"flex items-center justify-end gap-1 text-sm text-gray-600 font-mono",children:[b.jsx(bM,{size:12,className:"text-gray-400"})," ",W]})})]},v.id)})})}const g3=j.memo(function({activeTab:e,loading:n,data:s,totalCount:o,selectedId:u,onSelect:h,onPhoneClick:m,searchQuery:g,setSearchQuery:p,filters:v,setFilters:T,currentPage:A,itemsPerPage:D,setItemsPerPage:z,nextPage:G,prevPage:L,totalPages:W,latestBatchTime:ee,onShowSafeHaulInfo:re,canAssign:le,onAssignLeads:de}){const[ge,I]=j.useState(()=>{try{const Te=localStorage.getItem("dashboardColumns");return Te?JSON.parse(Te):LT}catch{return LT}}),[C,R]=j.useState([]);j.useEffect(()=>{localStorage.setItem("dashboardColumns",JSON.stringify(ge))},[ge]),j.useEffect(()=>{R([])},[e,A,g]);const M=j.useMemo(()=>e==="find_driver"?ge.filter(Te=>Te!=="status"):ge,[ge,e]),O=(Te,K)=>{T(oe=>({...oe,[Te]:K}))},P=()=>{T({state:"",driverType:"",dob:"",assignee:""}),p("")},x=Te=>{R(K=>K.includes(Te)?K.filter(oe=>oe!==Te):[...K,Te])},je=()=>{C.length===s.length?R([]):R(s.map(Te=>Te.id))};return b.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col overflow-hidden h-full",children:[b.jsx(Ek,{activeTab:e,dataCount:s.length,totalCount:o,searchQuery:g,setSearchQuery:p,filters:v,setFilters:O,clearFilters:P,onShowSafeHaulInfo:re,latestBatchTime:ee,visibleColumns:ge,setVisibleColumns:I,selectedCount:C.length,canAssign:le,onAssignLeads:()=>de(C)}),b.jsx("div",{className:"flex-1 overflow-auto min-h-0 bg-white relative",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{className:"bg-gray-50 sticky top-0 z-20 shadow-sm text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:b.jsxs("tr",{children:[le&&b.jsx("th",{className:"px-6 py-4 w-12 cursor-pointer hover:bg-gray-100",onClick:je,children:s.length>0&&C.length===s.length?b.jsx(fy,{size:20,className:"text-blue-600"}):b.jsx(dy,{size:20,className:"text-gray-400"})}),cf.map(Te=>M.includes(Te.key)?b.jsx("th",{className:`px-6 py-4 font-semibold text-gray-600 ${Te.widthClass} ${Te.className||""}`,children:Te.label},Te.key):null)]})}),b.jsx(Sk,{data:s,loading:n,totalCount:o,selectedId:u,onSelect:h,onPhoneClick:m,visibleColumns:M,showCheckboxes:le,selectedRowIds:C,onToggleRow:x})]})}),b.jsxs("div",{className:"border-t border-gray-200 p-3 bg-gray-50 flex flex-col sm:flex-row justify-between items-center gap-4 shrink-0 z-20",children:[b.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-gray-600",children:[b.jsx("span",{children:"Rows per page:"}),b.jsxs("select",{value:D,onChange:Te=>z(Number(Te.target.value)),className:"border-gray-300 rounded-md text-xs py-1.5 pl-2 pr-6 bg-white focus:ring-blue-500 focus:border-blue-500 shadow-sm outline-none cursor-pointer",children:[b.jsx("option",{value:20,children:"20"}),b.jsx("option",{value:50,children:"50"}),b.jsx("option",{value:100,children:"100"})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Page ",b.jsx("span",{className:"text-gray-900 font-bold",children:A})," of ",b.jsx("span",{className:"text-gray-900 font-bold",children:W||1})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:L,disabled:A===1||n,className:"p-2 rounded-md bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-gray-900 disabled:opacity-50 disabled:hover:bg-white transition-all shadow-sm",title:"Previous Page",children:b.jsx(AM,{size:16})}),b.jsx("button",{onClick:G,disabled:A>=W||n,className:"p-2 rounded-md bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-gray-900 disabled:opacity-50 disabled:hover:bg-white transition-all shadow-sm",title:"Next Page",children:b.jsx(RM,{size:16})})]})]})]})]})}),Jw=j.createContext(),y3=()=>{const r=j.useContext(Jw);if(!r)throw new Error("useToast must be used within a ToastProvider");return r};function Rk({children:r}){const[e,n]=j.useState([]),s=j.useCallback((p,v,T=4e3)=>{const A=Date.now();n(D=>[...D,{id:A,type:p,message:v}]),T&&setTimeout(()=>{o(A)},T)},[]),o=j.useCallback(p=>{n(v=>v.filter(T=>T.id!==p))},[]),u=p=>s("success",p),h=p=>s("error",p),m=p=>s("info",p),g=p=>s("warning",p);return b.jsxs(Jw.Provider,{value:{showSuccess:u,showError:h,showInfo:m,showWarning:g},children:[r,b.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:e.map(p=>b.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border animate-in slide-in-from-right-full duration-300
              ${p.type==="success"?"bg-white border-green-200 text-gray-800":""}
              ${p.type==="error"?"bg-white border-red-200 text-gray-800":""}
              ${p.type==="info"?"bg-white border-blue-200 text-gray-800":""}
              ${p.type==="warning"?"bg-white border-yellow-200 text-gray-800":""}
            `,role:"alert",children:[b.jsxs("div",{className:`
              shrink-0 rounded-full p-1
              ${p.type==="success"?"text-green-600 bg-green-50":""}
              ${p.type==="error"?"text-red-600 bg-red-50":""}
              ${p.type==="info"?"text-blue-600 bg-blue-50":""}
              ${p.type==="warning"?"text-yellow-600 bg-yellow-50":""}
            `,children:[p.type==="success"&&b.jsx(Gw,{size:18}),p.type==="error"&&b.jsx(xM,{size:18}),p.type==="info"&&b.jsx($w,{size:18}),p.type==="warning"&&b.jsx(my,{size:18})]}),b.jsx("p",{className:"text-sm font-medium pr-4",children:p.message}),b.jsx("button",{onClick:()=>o(p.id),className:"ml-auto text-gray-400 hover:text-gray-600 transition-colors",children:b.jsx(Ww,{size:16})})]},p.id))})]})}class Ck extends Cs.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught Error:",e,n),this.setState({errorInfo:n})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:b.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[b.jsx("div",{className:"bg-red-50 p-6 border-b border-red-100 flex justify-center",children:b.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:b.jsx(my,{size:48,className:"text-red-600"})})}),b.jsxs("div",{className:"p-6 text-center space-y-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Something went wrong"}),b.jsx("p",{className:"text-gray-600 text-sm",children:"We encountered an unexpected error. Our team has been notified. Please try reloading the page."}),!1,b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[b.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all shadow-sm",children:[b.jsx(Yw,{size:18})," Reload Page"]}),b.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-semibold transition-all",children:[b.jsx(jM,{size:18})," Go Home"]})]})]}),b.jsx("div",{className:"bg-gray-50 p-3 text-center border-t border-gray-200",children:b.jsx("p",{className:"text-xs text-gray-400",children:"Error Code: UI_CRASH_HANDLER"})})]})}):this.props.children}}function hu(){return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 text-gray-600",children:[b.jsx(Au,{className:"animate-spin text-blue-600 mb-4",size:48}),b.jsx("p",{className:"text-xl font-semibold",children:"Loading..."})]})}function xk(){const[r,e]=j.useState(!0),[n,s]=j.useState([]),[o,u]=j.useState(""),{currentUserClaims:h,loginToCompany:m,handleLogout:g}=Hf();return j.useEffect(()=>{async function p(){if(!h||!h.roles){u("Could not find user roles."),e(!1);return}const v={...h.roles};delete v.globalRole;const T=Object.keys(v);if(T.length===0){u("User has no company memberships."),e(!1);return}e(!0),u("");try{const A=[];for(const D of T){const z=await yk(D);z&&A.push({id:D,data:z,role:v[D]})}s(A)}catch(A){console.error("Error populating company chooser:",A),u("Could not load your companies.")}finally{e(!1)}}p()},[h]),b.jsx("div",{id:"choose-company-modal",className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:b.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md border border-gray-200",children:b.jsxs("div",{className:"p-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Choose Company"}),b.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"You have access to multiple companies. Please pick one to continue."}),b.jsxs("div",{id:"company-choice-list",className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:[r&&b.jsx("p",{className:"text-center text-gray-500",children:"Loading companies..."}),o&&b.jsx("p",{className:"text-red-600 text-center",children:o}),!r&&!o&&n.map(p=>b.jsxs("button",{className:"w-full text-left p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-white hover:border-blue-500 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 flex justify-between items-center transition-all",onClick:()=>m(p.id,p.role),children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-full",children:b.jsx(Fu,{size:20})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:p.data.companyName}),b.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:["Your role: ",p.role.replace("_"," ")]})]})]}),b.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Select "})]},p.id))]}),b.jsxs("button",{id:"logout-button-modal",className:"w-full text-center mt-6 px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:g,children:[b.jsx(FM,{size:16}),"Logout"]})]})})})}function Ik({onSelect:r}){return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[b.jsxs("div",{className:"p-8 text-center border-b border-slate-100",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Welcome Back"}),b.jsx("p",{className:"text-slate-500",children:"You have access to multiple portals. Where would you like to go?"})]}),b.jsxs("div",{className:"p-6 space-y-4",children:[b.jsxs("button",{onClick:()=>r("driver"),className:"w-full flex items-center gap-4 p-5 bg-slate-50 hover:bg-blue-50 border-2 border-slate-200 hover:border-blue-500 rounded-xl transition-all group",children:[b.jsx("div",{className:"w-14 h-14 bg-blue-100 group-hover:bg-blue-200 rounded-xl flex items-center justify-center transition-colors",children:b.jsx(uk,{size:28,className:"text-blue-600"})}),b.jsxs("div",{className:"flex-1 text-left",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 group-hover:text-blue-700 transition-colors",children:"Driver Portal"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Manage your profile, view applications, and find opportunities"})]}),b.jsx($p,{size:20,className:"text-slate-400 group-hover:text-blue-600 transition-colors"})]}),b.jsxs("button",{onClick:()=>r("employer"),className:"w-full flex items-center gap-4 p-5 bg-slate-50 hover:bg-indigo-50 border-2 border-slate-200 hover:border-indigo-500 rounded-xl transition-all group",children:[b.jsx("div",{className:"w-14 h-14 bg-indigo-100 group-hover:bg-indigo-200 rounded-xl flex items-center justify-center transition-colors",children:b.jsx(EM,{size:28,className:"text-indigo-600"})}),b.jsxs("div",{className:"flex-1 text-left",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 group-hover:text-indigo-700 transition-colors",children:"Employer Portal"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Manage your company, review applications, and recruit drivers"})]}),b.jsx($p,{size:20,className:"text-slate-400 group-hover:text-indigo-600 transition-colors"})]})]}),b.jsx("div",{className:"px-6 pb-6",children:b.jsx("p",{className:"text-xs text-slate-400 text-center",children:"You can switch between portals anytime from the menu"})})]})})}const Zw=j.createContext(),Hf=()=>{const r=j.useContext(Zw);if(!r)throw new Error("useData must be used within a DataProvider");return r};function Nk({children:r}){const[e,n]=j.useState(null),[s,o]=j.useState(null),[u,h]=j.useState(null),[m,g]=j.useState(null),[p,v]=j.useState(!0),[T,A]=j.useState(!1),[D,z]=j.useState(!1),[G,L]=j.useState(!1),[W,ee]=j.useState(!1),[re,le]=j.useState(null),de=j.useCallback(async(O,P,x=!1)=>{x||v(!0);try{const je=await qp(Oo(lr,"companies",O));if(je.exists()){const Te={id:je.id,...je.data()};g(Te),localStorage.setItem("selectedCompanyId",O),A(!1)}else console.warn("Saved company ID no longer exists."),localStorage.removeItem("selectedCompanyId"),x&&A(!0)}catch(je){console.error("Error logging into company:",je),localStorage.removeItem("selectedCompanyId")}finally{x||v(!1)}},[]);j.useEffect(()=>{const O=setTimeout(()=>{v(x=>x&&(console.warn("Safety timer triggered: Force stopping loading state."),!1))},8e3),P=Wx(Gp,async x=>{if(x){n(x);try{const Te=(await x.getIdTokenResult()).claims;o(Te);const K=Te.roles||{},oe=Object.keys(K).filter(ie=>ie!=="globalRole"),me=Te.globalRole==="super_admin"||K.globalRole==="super_admin",Ne=oe.length>0,k=(await qp(Oo(lr,"drivers",x.uid))).exists();z(k),L(me||Ne),console.log("[DataContext] User claims:",Te),console.log("[DataContext] Profile detection:",{isDriver:k,hasCompanyRoles:Ne,isSuperAdmin:me});try{const[ie,ue]=await Promise.all([CT(Do(lr,"companies")),CT(Do(lr,"drivers"))]),be={companies:ie.data().count||0,drivers:ue.data().count||0,updatedAt:Date.now()};localStorage.setItem("platformStats",JSON.stringify(be))}catch(ie){console.warn("Could not cache platform stats:",ie)}const Z=localStorage.getItem("selectedPortal");if(me){h("super_admin"),le("employer");const ie=localStorage.getItem("selectedCompanyId");ie&&await de(ie,null,!0)}else if(k&&Ne)if(Z==="driver")h("driver"),le("driver");else if(Z==="employer"){h("admin"),le("employer");const ie=localStorage.getItem("selectedCompanyId");ie?await de(ie,null,!0):A(!0)}else ee(!0),h(null);else if(Ne){h("admin"),le("employer");const ie=localStorage.getItem("selectedCompanyId");ie?await de(ie,null,!0):A(!0)}else h("driver"),le("driver")}catch(je){console.error("Error initializing user data:",je)}}else n(null),o(null),g(null),h(null),A(!1),z(!1),L(!1),ee(!1),le(null),localStorage.removeItem("selectedCompanyId"),localStorage.removeItem("selectedPortal");v(!1)});return()=>{clearTimeout(O),P()}},[de]);const ge=async O=>{if(le(O),localStorage.setItem("selectedPortal",O),ee(!1),O==="driver")h("driver"),window.location.href="/driver/dashboard";else{h("admin");const P=localStorage.getItem("selectedCompanyId");P?(await de(P,null,!0),window.location.href="/company/dashboard"):A(!0)}},I=()=>{localStorage.removeItem("selectedPortal"),le(null),h(null),ee(!0)},C=async()=>{try{await Gp.signOut(),localStorage.removeItem("selectedCompanyId"),localStorage.removeItem("selectedPortal"),window.location.href="/login"}catch(O){console.error("Logout failed",O)}},R=()=>{g(null),localStorage.removeItem("selectedCompanyId"),A(!0)};if(p)return b.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Au,{className:"animate-spin text-blue-600 mx-auto mb-4",size:48}),b.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Platform..."})]})});const M={currentUser:e,currentUserClaims:s,userRole:u,currentCompanyProfile:m,setCurrentCompanyProfile:g,loginToCompany:de,handleLogout:C,returnToCompanyChooser:R,setShowCompanyChooser:A,loading:p,setLoading:v,hasDriverProfile:D,hasEmployerProfile:G,selectedPortal:re,switchPortal:I,canSwitchPortals:D&&G};return b.jsxs(Zw.Provider,{value:M,children:[r,e&&W&&!p&&b.jsx(Ik,{onSelect:ge}),e&&T&&!p&&u==="admin"&&!W&&b.jsx(xk,{})]})}async function Dk(r,e){try{return(await Kx(Gp,r,e)).user}catch(n){throw Ok(n)}}function Ok(r){switch(console.error("Auth Error:",r.code,r.message),r.code){case"auth/email-already-in-use":return new Error("This email is already registered. Please log in.");case"auth/invalid-email":return new Error("Please enter a valid email address.");case"auth/weak-password":return new Error("Password should be at least 6 characters.");case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return new Error("Invalid email or password.");case"auth/too-many-requests":return new Error("Too many failed attempts. Please try again later.");default:return new Error("An unexpected error occurred. Please try again.")}}const UT=({className:r=""})=>b.jsxs("svg",{className:r,viewBox:"0 0 150 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M84.5048 0H38.3646C35.6441 0 33.1101 1.38249 31.6377 3.67003L10.0621 37.1892C7.65527 40.9284 8.00677 45.8078 10.9247 49.1634L34.5051 76.2809C35.4547 77.373 36.831 78 38.2782 78H84.5043C85.3578 78 85.819 76.9996 85.2647 76.3506L60.1709 46.969C57.4395 43.7709 57.2872 39.1074 59.8042 35.7379L85.306 1.59845C85.7986 0.938977 85.328 0 84.5048 0Z",fill:"url(#paint0_linear_login)"}),b.jsx("path",{d:"M76.26 51.5H115.994C118.229 51.5 120.362 52.4346 121.876 54.0776L143.684 77.7336C146.805 81.1193 147.211 86.1988 144.667 90.037L120.983 125.763C120.057 127.16 118.492 128 116.816 128H68.9479C68.5459 128 68.3082 127.549 68.5353 127.218L96.563 86.2541C98.8806 82.8668 98.613 78.3405 95.9123 75.2499L75.8835 52.329C75.6009 52.0056 75.8306 51.5 76.26 51.5Z",fill:"#004C68"}),b.jsx("path",{d:"M145.426 0.0370348L97.1296 0.476095C95.4834 0.49106 93.9501 1.31535 93.0296 2.68018L67.603 40.3817C66.7071 41.7101 67.6589 43.5 69.2612 43.5H111.534C114.663 43.5 117.611 42.0361 119.501 39.5439L147.038 3.24572C148.042 1.92198 147.088 0.0219304 145.426 0.0370348Z",fill:"#0BE2A4"}),b.jsx("path",{d:"M83.603 85.5H34.9709C33.4135 85.5 31.9451 86.2257 30.9991 87.4627L2.45845 124.785C1.45208 126.101 2.39046 128 4.04717 128H51.8679C55.0895 128 58.1139 126.448 59.9923 123.83L85.2279 88.6661C86.1775 87.3428 85.2318 85.5 83.603 85.5Z",fill:"#004C68"}),b.jsx("defs",{children:b.jsxs("linearGradient",{id:"paint0_linear_login",x1:"42.5",y1:"55",x2:"83",y2:"75.5",gradientUnits:"userSpaceOnUse",children:[b.jsx("stop",{offset:"0.283654",stopColor:"#0CE1A5"}),b.jsx("stop",{offset:"0.913462",stopColor:"#077B5A"})]})})]});function Mk(){const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(!1),[h,m]=j.useState(""),g=Ru(),p=Kr(),v=async T=>{T.preventDefault(),m(""),u(!0);const A=p.state?.from;try{await Dk(r,n),A?g(A,{replace:!0}):g("/",{replace:!0})}catch(D){console.error("Auth error:",D),m(D.message||"Invalid email or password"),u(!1)}};return b.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[b.jsx("div",{className:"w-full lg:w-[45%] flex flex-col justify-center px-6 sm:px-12 lg:px-16 xl:px-24 bg-white",children:b.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[b.jsxs("div",{className:"mb-10",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsx(UT,{className:"w-10 h-10"}),b.jsx("span",{className:"text-xl font-bold text-slate-900",children:"SafeHaul"})]}),b.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Sign in to your account"}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Enter your credentials to access the portal"})]}),h&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600 font-medium",children:h})}),b.jsxs("form",{onSubmit:v,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email address"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:b.jsx($M,{size:18,className:"text-slate-400"})}),b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:T=>e(T.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"you@example.com"})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),b.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>{},children:"Forgot password?"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:b.jsx(Qw,{size:18,className:"text-slate-400"})}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:T=>s(T.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"Enter your password"})]})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-sm transition-all flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:o?b.jsx(Au,{size:20,className:"animate-spin"}):b.jsxs(b.Fragment,{children:["Sign In",b.jsx($p,{size:18})]})})]}),b.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100",children:b.jsxs("p",{className:"text-sm text-slate-500 text-center",children:["Need an account?"," ",b.jsx(ig,{to:"/signup",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Contact your administrator"})]})})]})}),b.jsxs("div",{className:"hidden lg:flex lg:w-[55%] bg-gradient-to-br from-[#004C68] via-[#005a7a] to-[#003d54] relative overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#0BE2A4]/15 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-[#0BE2A4]/10 rounded-full blur-3xl transform -translate-x-1/2 translate-y-1/2"}),b.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-white/5 rounded-full blur-2xl transform -translate-x-1/2 -translate-y-1/2"})]}),b.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center text-center px-12 lg:px-16 xl:px-20 w-full",children:b.jsxs("div",{className:"max-w-lg",children:[b.jsx(UT,{className:"w-20 h-20 mx-auto mb-8"}),b.jsx("h2",{className:"text-3xl xl:text-4xl font-bold text-white mb-4 leading-tight",children:"Your Gateway to the Road"}),b.jsx("p",{className:"text-lg text-white/80 leading-relaxed mb-10",children:"Whether you're a driver seeking your next opportunity or a company building your fleet, SafeHaul connects you to success."}),b.jsxs("div",{className:"space-y-4 text-left mb-10",children:[b.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[b.jsx("div",{className:"w-10 h-10 bg-[#0BE2A4]/20 rounded-lg flex items-center justify-center shrink-0",children:b.jsx(Fu,{size:20,className:"text-[#0BE2A4]"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-semibold mb-1",children:"For Drivers"}),b.jsx("p",{className:"text-white/70 text-sm",children:"Apply to top carriers, track your applications, and find the perfect driving job that fits your lifestyle."})]})]}),b.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[b.jsx("div",{className:"w-10 h-10 bg-[#0BE2A4]/20 rounded-lg flex items-center justify-center shrink-0",children:b.jsx(Xw,{size:20,className:"text-[#0BE2A4]"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-semibold mb-1",children:"For Companies"}),b.jsx("p",{className:"text-white/70 text-sm",children:"Streamline recruitment, manage applications, and connect with qualified CDL drivers faster than ever."})]})]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl xl:text-3xl font-bold text-[#0BE2A4] mb-1",children:"10K+"}),b.jsx("div",{className:"text-sm text-white/60",children:"Active Drivers"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl xl:text-3xl font-bold text-[#0BE2A4] mb-1",children:"500+"}),b.jsx("div",{className:"text-sm text-white/60",children:"Partner Carriers"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl xl:text-3xl font-bold text-[#0BE2A4] mb-1",children:"98%"}),b.jsx("div",{className:"text-sm text-white/60",children:"Satisfaction Rate"})]})]}),b.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-white/50 text-sm",children:[b.jsx(Qp,{size:16,className:"text-[#0BE2A4]"}),b.jsx("span",{children:"DOT Compliant"}),b.jsx("span",{className:"mx-2",children:"|"}),b.jsx(Qp,{size:16,className:"text-[#0BE2A4]"}),b.jsx("span",{children:"FMCSA Approved"})]})]})})]})]})}function kk(){const{companyId:r}=vR(),e=Ru(),[n,s]=j.useState(""),[o,u]=j.useState({fullName:"",email:"",password:""}),[h,m]=j.useState(!0),[g,p]=j.useState(!1),[v,T]=j.useState(""),[A,D]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const L=Oo(lr,"companies",r),W=await qp(L);W.exists()?s(W.data().companyName):T("Invalid Invite Link. Company not found.")}catch{T("Error loading invite.")}finally{m(!1)}})()},[r]);const z=async G=>{G.preventDefault(),p(!0),T("");try{await qw(Hw,"joinCompanyTeam")({companyId:r,fullName:o.fullName,email:o.email,password:o.password}),D(!0),setTimeout(()=>e("/login"),3e3)}catch(L){console.error(L),T(L.message||"Failed to join team.")}finally{p(!1)}};return h?b.jsx("div",{className:"h-screen flex items-center justify-center",children:b.jsx(Au,{className:"animate-spin"})}):A?b.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Gw,{size:40})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Aboard!"}),b.jsxs("p",{className:"text-gray-600 mt-2",children:["You have successfully joined the ",b.jsx("strong",{children:n})," team."]}),b.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting to login..."})]})}):b.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-md w-full border border-gray-200",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"inline-block p-3 bg-blue-100 text-blue-600 rounded-full mb-4",children:b.jsx(hk,{size:32})}),b.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Join ",n]}),b.jsx("p",{className:"text-gray-500 mt-1",children:"Create your recruiter account below."})]}),v&&b.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg flex items-center gap-2",children:[b.jsx(my,{size:16})," ",v]}),b.jsxs("form",{onSubmit:z,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Full Name"}),b.jsx("input",{required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"John Doe",value:o.fullName,onChange:G=>u({...o,fullName:G.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Work Email"}),b.jsx("input",{required:!0,type:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"john@company.com",value:o.email,onChange:G=>u({...o,email:G.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Password"}),b.jsx("input",{required:!0,type:"password",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"",value:o.password,onChange:G=>u({...o,password:G.target.value})})]}),b.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-all shadow-md flex justify-center items-center gap-2 disabled:opacity-50",children:g?b.jsx(Au,{className:"animate-spin"}):"Create Account & Join"})]})]})})}const Vk=Cs.lazy(()=>ko(()=>import("./SuperAdminDashboard-BVbYrsF0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(r=>({default:r.SuperAdminDashboard}))),Pk=Cs.lazy(()=>ko(()=>import("./CompanyAdminDashboard-CwozJvI2.js"),__vite__mapDeps([11,1,12,3,4,5,6,7,8,13])).then(r=>({default:r.CompanyAdminDashboard}))),Lk=Cs.lazy(()=>ko(()=>import("./CompanySettings-COL48-eO.js"),__vite__mapDeps([14,10,1,6,9,8,12,7,2,15])).then(r=>({default:r.CompanySettings}))),Uk=Cs.lazy(()=>ko(()=>import("./DriverDashboard-CQ4i3L5n.js"),__vite__mapDeps([16,2,3,7])).then(r=>({default:r.DriverDashboard}))),jT=Cs.lazy(()=>ko(()=>import("./DriverApplicationWizard-DZVdNoML.js"),__vite__mapDeps([17,18,6,9,5,13,15,8])).then(r=>({default:r.DriverApplicationWizard}))),jk=Cs.lazy(()=>ko(()=>import("./PublicApplyHandler-B_xi3t0x.js"),__vite__mapDeps([19,18,6,9,5,13,15])).then(r=>({default:r.PublicApplyHandler})));function zk(){const{currentUser:r,userRole:e,loading:n}=Hf();if(n)return b.jsx(hu,{});if(!r)return b.jsx(ds,{to:"/login"});if(!e)return b.jsx(hu,{});switch(e){case"super_admin":return b.jsx(ds,{to:"/super-admin"});case"admin":return b.jsx(ds,{to:"/company/dashboard"});case"driver":return b.jsx(ds,{to:"/driver/dashboard"});default:return b.jsx(hu,{})}}function fo({children:r,allowedRoles:e}){const{currentUser:n,userRole:s,loading:o}=Hf();return console.log("[ProtectedRoute] Checking access:",{hasUser:!!n,userRole:s,allowedRoles:e,loading:o}),o?(console.log("[ProtectedRoute] Still loading auth state..."),b.jsx(hu,{})):n?e&&!e.includes(s)?(console.log("[ProtectedRoute] User role mismatch, redirecting to home"),b.jsx(ds,{to:"/"})):(console.log("[ProtectedRoute] Access granted"),r):(console.log("[ProtectedRoute] No user, redirecting to login"),b.jsx(ds,{to:"/login"}))}function Bk(){const{currentCompanyProfile:r}=Hf();return b.jsx(j.Suspense,{fallback:b.jsx(hu,{}),children:b.jsxs(kR,{children:[b.jsx($n,{path:"/login",element:b.jsx(Mk,{})}),b.jsx($n,{path:"/join/:companyId",element:b.jsx(kk,{})}),b.jsx($n,{path:"/apply/:slug",element:b.jsx(jk,{})}),b.jsx($n,{path:"/super-admin",element:b.jsx(fo,{allowedRoles:["super_admin"],children:b.jsx(Vk,{})})}),b.jsx($n,{path:"/company/dashboard",element:b.jsx(fo,{allowedRoles:["admin","super_admin"],children:r?b.jsx(Pk,{}):b.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Please select a company."})})}),b.jsx($n,{path:"/company/settings",element:b.jsx(fo,{allowedRoles:["admin","super_admin"],children:r?b.jsx(Lk,{}):b.jsx(ds,{to:"/company/dashboard"})})}),b.jsx($n,{path:"/driver/dashboard",element:b.jsx(fo,{allowedRoles:["driver"],children:b.jsx(Uk,{})})}),b.jsx($n,{path:"/driver/apply",element:b.jsx(fo,{allowedRoles:["driver"],children:b.jsx(jT,{})})}),b.jsx($n,{path:"/driver/apply/:companyId",element:b.jsx(fo,{allowedRoles:["driver"],children:b.jsx(jT,{})})}),b.jsx($n,{path:"/",element:b.jsx(zk,{})}),b.jsx($n,{path:"*",element:b.jsx(ds,{to:"/"})})]})})}function qk(){return b.jsx(Ck,{children:b.jsx(Rk,{children:b.jsx(Nk,{children:b.jsx(i2,{children:b.jsx(Bk,{})})})})})}zS.createRoot(document.getElementById("root")).render(b.jsx(Cs.StrictMode,{children:b.jsx(qk,{})}));export{bM as $,Qw as A,EM as B,AM as C,Gw as D,Tw as E,Gp as F,e3 as G,qp as H,CO as I,t3 as J,c1 as K,Au as L,lN as M,mO as N,$k as O,Gk as P,OM as Q,ot as R,nk as S,my as T,Xw as U,ZM as V,dk as W,Ww as X,LM as Y,Yp as Z,xM as _,Do as a,Hf as a0,Cs as a1,Kp as a2,Ru as a3,Tk as a4,Zk as a5,$p as a6,bk as a7,yM as a8,ak as a9,vR as aA,Fk as aB,jM as aC,XM as aa,Yw as ab,m3 as ac,KM as ad,uk as ae,$M as af,$w as ag,fy as ah,dy as ai,g3 as aj,n3 as ak,c3 as al,Hk as am,zT as an,ko as ao,yk as ap,a3 as aq,l3 as ar,u3 as as,o3 as at,s3 as au,Qp as av,VM as aw,d3 as ax,Qk as ay,oM as az,Xk as b,Ue as c,lr as d,CT as e,FM as f,iy as g,hp as h,p3 as i,b as j,RM as k,Jk as l,Fu as m,vw as n,Wk as o,Oo as p,_w as q,j as r,r3 as s,hk as t,h3 as u,f3 as v,i3 as w,qw as x,Hw as y,y3 as z};
