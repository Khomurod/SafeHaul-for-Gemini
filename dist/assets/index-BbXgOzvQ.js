const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CAZir_3n.js","assets/index-Eut2KIY5.js","assets/pdfjs-CN6VhWT3.js","assets/index-BZGRJBJ7.css","assets/credit-card-DXG0d7j1.js","assets/shield-alert-CyrU0uX3.js","assets/BulkUploadLayout-DCFrYteR.js","assets/upload-CeDmLZPo.js","assets/useBulkImport-DleduGt8.js","assets/external-link-DG7NPcwU.js","assets/shield-B8dSCmK2.js","assets/file-pen-line-CZApjMvZ.js","assets/send-DbngQNm2.js","assets/file-text-fIi5thw4.js","assets/user-check-BzH4u_-N.js","assets/dollar-sign-DE8xXdSp.js","assets/pen-DKw8HDfG.js","assets/save-xDZOd2sT.js","assets/trash-2-RTc4kdO5.js","assets/index-DUf8kwP1.js","assets/history-1Q_UTirS.js","assets/plus-DHyG1REA.js"])))=>i.map(i=>d[i]);
import{c as Hr,B as uo,C as Je,D as h,Y as Cl,W as Du,G as io,U as vi,L as Ks,H as Ac,I as _c,f as Pl,a as Ar,q as El,e as Il,d as Ur,a2 as Ef,aX as If,x as Tf,T as Kn,X as Tl,a0 as Fl,aK as Ff,_ as xi,E as qu,ab as kn,ah as Qs,aP as dl,a9 as Uu,a8 as bs,a3 as Of,aS as Rf,M as ea,aj as xt,aY as zu,g as Vs,i as Hu,r as pl,s as gl,w as Mf,v as Di,ai as Bf,u as Df,S as Gu,af as qf,a4 as Uf,av as Sc,R as un}from"./index-Eut2KIY5.js";import{a as $u,b as zf,C as Hf}from"./credit-card-DXG0d7j1.js";import{c as Gf,b as Wu,C as $f}from"./shield-alert-CyrU0uX3.js";import{l as Ln,A as Wf,G as Vu,D as Vf,b as Yf}from"./BulkUploadLayout-DCFrYteR.js";import{a as Jf}from"./shield-B8dSCmK2.js";import{F as Yu,U as Xf}from"./upload-CeDmLZPo.js";import{F as ta}from"./file-pen-line-CZApjMvZ.js";import{S as Ju}from"./send-DbngQNm2.js";import{F as Ja}from"./file-text-fIi5thw4.js";import{U as ml}from"./user-check-BzH4u_-N.js";import{D as Zf}from"./dollar-sign-DE8xXdSp.js";import{E as Kf,D as Qf}from"./external-link-DG7NPcwU.js";import{P as ed}from"./pen-DKw8HDfG.js";import{S as td}from"./save-xDZOd2sT.js";import{T as rd}from"./trash-2-RTc4kdO5.js";const nd=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],id=Hr("badge-check",nd);const sd=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ad=Hr("book-open",sd);const od=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ld=Hr("car",od);const cd=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ud=Hr("file-exclamation-point",cd);const hd=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],fd=Hr("file-x",hd);const dd=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],pd=Hr("flag",dd);const gd=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],md=Hr("folder",gd);const bd=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],xd=Hr("gavel",bd);const vd=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],yd=Hr("heart-pulse",vd);const wd=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Nd=Hr("message-circle",wd);const Ad=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],_d=Hr("pill",Ad);const Sd=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ld=Hr("school",Sd);const jd=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],kd=Hr("skull",jd),Lc=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),h.jsx("path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"})]}),Cd={email:[{id:"intro",label:"Intro Request",subject:"Regarding your application - {{company}}",body:`Hi {{firstName}},

I reviewed your application for the driver position. Are you available for a quick 5-min call today?

Best,
Recruiter`},{id:"followup",label:"Follow Up",subject:"Checking in - {{company}}",body:`Hi {{firstName}},

I haven't heard back from you regarding my previous email. Is this something you are still interested in?

Thanks!`},{id:"missing_docs",label:"Missing Documents",subject:"Action Required: Missing Info",body:`Hi {{firstName}},

We are missing some documents to finalize your file. Please log back in to upload your CDL and Med Card.

Thanks,
SafeHaul HR`}],sms:[{id:"call_now",label:"Can you talk?",body:"Hi {{firstName}}, this is recruiter from {{company}}. Can you talk for 5 mins regarding your app?"},{id:"no_answer_sms",label:"No Answer MSG",body:"Hi {{firstName}}, tried calling you but missed you. Give me a call back at {{recruiterPhone}} when you can!"},{id:"app_link",label:"Finish Application",body:"Hi {{firstName}}, please finish your driver application at app.safehaul.io to proceed to the next step!"}]};function Pd({companyId:t,recordId:e,collectionName:r,email:n,phone:a,applicantData:s}){const{showSuccess:c,showError:o}=uo(),[u,d]=Je.useState("email"),[m,x]=Je.useState(""),[w,g]=Je.useState(""),[C,k]=Je.useState(!1),[I,S]=Je.useState(!1),[H,W]=Je.useState(!1),q=G=>{if(!G)return"";let F=G.replace(/\D/g,"");return F.length===10&&(F="1"+F),`https://t.me/+${F}`},le=G=>{const F="SafeHaul Partner",ee=s?.firstName||"Driver";let E=G.body.replace(/{{firstName}}/g,ee).replace(/{{company}}/g,F).replace(/{{recruiterPhone}}/g,"the portal");if(x(E),G.subject){let z=G.subject.replace(/{{company}}/g,F).replace(/{{firstName}}/g,ee);g(z)}W(!1),c("Template applied!")},pe=()=>{navigator.clipboard.writeText(m),c("Copied to clipboard!")},ce=async G=>{G.preventDefault(),k(!0);try{if(u==="telegram"){const F=q(a);if(!F){o("Invalid phone number for Telegram."),k(!1);return}window.open(F,"_blank"),await Ln(t,r,e,"Telegram Opened",`Opened Telegram chat for ${a}`,"communication"),S(!0)}else if(u==="email"){if(!n){o("No email address available for this driver."),k(!1);return}await Ac(_c,"sendAutomatedEmail")({companyId:t,recipientEmail:n,triggerType:"manual_email",placeholders:{subject:w,body:m,driverfirstname:s?.firstName||"Driver",driverfullname:`${s?.firstName||""} ${s?.lastName||""}`.trim()||"Driver"}}),await Ln(t,r,e,"Email Sent",`Subject: ${w}
To: ${n}`,"communication"),c("Email sent successfully."),S(!0)}else await Ac(_c,"sendSMS")({companyId:t,recipientPhone:a,messageBody:m}),await Ln(t,r,e,"SMS Sent",`To: ${a}
Message: ${m}`,"communication"),c("SMS sent successfully."),S(!0);x(""),g(""),setTimeout(()=>S(!1),3e3)}catch(F){console.error("Send failed:",F),o(`Failed to send: ${F.message}`)}finally{k(!1)}};return h.jsxs("div",{className:"space-y-6 h-full flex flex-col bg-white",children:[h.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-xl shrink-0 overflow-x-auto shadow-inner",children:[h.jsxs("button",{onClick:()=>{d("email"),W(!1)},className:`flex-1 py-1.5 px-3 text-[11px] font-bold rounded-lg flex items-center justify-center gap-2 transition-all whitespace-nowrap ${u==="email"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[h.jsx(Cl,{size:14})," EMAIL"]}),h.jsxs("button",{onClick:()=>{d("sms"),W(!1)},className:`flex-1 py-1.5 px-3 text-[11px] font-bold rounded-lg flex items-center justify-center gap-2 transition-all whitespace-nowrap ${u==="sms"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[h.jsx(Du,{size:14})," SMS"]}),h.jsxs("button",{onClick:()=>{d("telegram"),W(!1)},className:`flex-1 py-1.5 px-3 text-[11px] font-bold rounded-lg flex items-center justify-center gap-2 transition-all whitespace-nowrap ${u==="telegram"?"bg-white text-[#24A1DE] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[h.jsx(Lc,{className:"w-3.5 h-3.5"})," TELEGRAM"]})]}),h.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:I?h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 animate-in zoom-in duration-300",children:[h.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-500 rounded-full flex items-center justify-center mb-6 shadow-sm border border-green-100",children:h.jsx(io,{size:40})}),h.jsx("h3",{className:"text-xl font-black text-slate-800",children:u==="telegram"?"Redirected to Telegram":"Message Transmitted"}),h.jsx("p",{className:"text-sm font-medium text-slate-500 mt-2",children:"The action has been recorded in the audit trail."}),h.jsx("button",{onClick:()=>S(!1),className:"mt-8 px-6 py-2 bg-slate-900 text-white font-bold rounded-lg hover:bg-slate-800 transition shadow-lg",children:"Send another"})]}):h.jsxs("form",{onSubmit:ce,className:"flex flex-col h-full gap-4 relative",children:[h.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between transition-colors shadow-sm ${u==="email"?"bg-blue-50 border-blue-100":u==="sms"?"bg-purple-50 border-purple-100":"bg-slate-50 border-slate-100"}`,children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-500 tracking-wider mb-0.5",children:"Recipient"}),h.jsx("span",{className:`text-sm font-semibold ${u==="email"?"text-blue-700":u==="sms"?"text-purple-700":"text-slate-700"}`,children:u==="email"?n||"No email provided":a||"No phone provided"})]}),(u==="email"||u==="sms")&&h.jsxs("button",{type:"button",onClick:()=>W(!H),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold border-2 transition-all ${H?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-100 hover:border-slate-200"}`,children:[h.jsx(ad,{size:14})," Templates"]})]}),H&&h.jsxs("div",{className:"absolute top-20 right-0 left-0 bg-white border border-slate-200 rounded-2xl shadow-2xl z-20 overflow-hidden animate-in slide-in-from-top-4 duration-200",children:[h.jsxs("div",{className:"p-3 bg-slate-900 flex justify-between items-center text-white font-sans",children:[h.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Select Template"}),h.jsx(X,{size:16,className:"cursor-pointer opacity-50 hover:opacity-100",onClick:()=>W(!1)})]}),h.jsx("div",{className:"p-2 space-y-1 max-h-[300px] overflow-y-auto",children:Cd[u].map(G=>h.jsxs("button",{type:"button",onClick:()=>le(G),className:"w-full text-left p-4 hover:bg-slate-50 rounded-xl transition-colors border-b border-gray-50 last:border-0 group",children:[h.jsx("p",{className:"font-bold text-sm text-slate-800 group-hover:text-blue-600 transition-colors",children:G.label}),h.jsx("p",{className:"text-xs text-slate-500 truncate mt-1",children:G.subject||G.body})]},G.id))})]}),u==="email"&&h.jsxs("div",{className:"flex-1 flex flex-col gap-4 animate-in fade-in slide-in-from-right-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Subject Line"}),h.jsx("input",{className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-semibold text-slate-900 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Regarding your application...",value:w,onChange:G=>g(G.target.value),required:!0,disabled:!n})]}),h.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Message Body"}),h.jsx("textarea",{className:"w-full flex-1 p-4 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-medium text-slate-700 focus:ring-4 focus:ring-blue-100 outline-none resize-none leading-relaxed",placeholder:"Type your email message here...",value:m,onChange:G=>x(G.target.value),required:!0,disabled:!n})]})]}),u==="sms"&&h.jsx("div",{className:"flex-1 flex flex-col gap-4 animate-in fade-in slide-in-from-right-2",children:h.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1.5 px-1",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Text Message Content"}),h.jsxs("button",{type:"button",onClick:pe,className:"text-[10px] font-bold text-purple-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:[h.jsx(Gf,{size:12})," Copy to Clipboard"]})]}),h.jsx("textarea",{className:"w-full flex-1 p-4 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-semibold text-slate-700 focus:ring-4 focus:ring-purple-100 outline-none resize-none",placeholder:"Type your SMS message here...",value:m,onChange:G=>x(G.target.value),required:!0,disabled:!a}),h.jsxs("div",{className:"mt-2 text-[10px] text-slate-400 flex items-center gap-2 px-1",children:[h.jsx(vi,{size:12,className:"text-purple-400"}),h.jsx("span",{children:"SMS via SafeHaul Proxy. Standard carrier rates may apply to recipient."})]})]})}),u==="telegram"&&h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 border-2 border-dashed border-slate-200 rounded-3xl bg-blue-50/20 animate-in fade-in slide-in-from-right-2",children:[h.jsx("div",{className:"w-20 h-20 bg-[#24A1DE] text-white rounded-2xl flex items-center justify-center mb-6 shadow-xl shadow-blue-200 rotate-3 group-hover:rotate-0 transition-transform",children:h.jsx(Lc,{className:"w-10 h-10"})}),h.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2 font-sans tracking-tight",children:"Direct Telegram Connect"}),a?h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-center text-slate-500 text-sm mb-8 max-w-sm font-medium",children:["Redirect to Telegram to chat with ",h.jsx("span",{className:"text-slate-900 font-bold",children:a})," using our secure gateway link."]}),h.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-slate-100 text-xs font-black text-blue-600 font-mono mb-8 select-all",children:q(a)})]}):h.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 text-red-600 rounded-xl border border-red-100 text-sm font-bold",children:[h.jsx(vi,{size:18}),"No phone number available."]})]}),h.jsxs("div",{className:"pt-4 flex justify-between items-center border-t border-gray-100",children:[h.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"SafeHaul Communications Hub"}),h.jsxs("button",{type:"submit",disabled:C||!n&&u==="email"||!a&&(u==="telegram"||u==="sms")||u!=="telegram"&&!m,className:`px-10 py-3.5 text-white font-bold rounded-2xl shadow-lg transition-all active:scale-95 flex items-center gap-3 disabled:opacity-50 disabled:grayscale disabled:scale-100
                                    ${u==="telegram"?"bg-[#24A1DE] hover:bg-[#1A8BA5] shadow-blue-100":u==="sms"?"bg-purple-600 hover:bg-purple-700 shadow-purple-100":"bg-blue-600 hover:bg-blue-700 shadow-blue-100"}
                                `,children:[C?h.jsx(Ks,{className:"animate-spin",size:18}):u==="telegram"?h.jsx(Kf,{size:18}):h.jsx(Ju,{size:18}),u==="telegram"?"OPEN GATEWAY":`Transmit ${u.charAt(0).toUpperCase()+u.slice(1)}`]})]})]})})]})}async function b5(t){if(!t)return console.error("No Company ID provided to loadApplications"),[];const e=Pl(Ar,"companies",t,"applications"),r=El(e),n=await Il(r),a=[];return n.forEach(s=>{a.push({id:s.id,...s.data(),isNestedApp:!0})}),a}async function Ed(t,e,r="applications"){let n;return t==="general-leads"?n=Ur(Ar,r==="drivers"||r==="leads"?r:"leads",e):n=Ur(Ar,"companies",t,r,e),await Ef(n)}async function Id(t,e,r){if(!t||!e||!r)throw new Error("Missing parameters for moving application.");try{return await If(Ar,async n=>{const a=Ur(Ar,"companies",t,"applications",r),s=Ur(Ar,"companies",e,"applications",r),c=await n.get(a);if(!c.exists())throw new Error("Application not found in source company.");const u={...c.data(),companyId:e,movedFrom:t,movedAt:Tf(),status:"New Application"};n.set(s,u),n.delete(a)}),{success:!0,message:"Application moved successfully."}}catch(n){throw console.error("Move Application Error:",n),n}}function Td({sourceCompanyId:t,applicationId:e,onClose:r,onMoveComplete:n}){const[a,s]=Je.useState(!0),[c,o]=Je.useState([]),[u,d]=Je.useState(""),{showSuccess:m,showError:x}=uo();Je.useEffect(()=>{async function g(){try{const k=(await Ff()).docs.map(I=>({id:I.id,name:I.data().companyName})).filter(I=>I.id!==t);o(k),k.length>0&&d(k[0].id)}catch{x("Failed to load company list.")}finally{s(!1)}}g()},[t,x]);const w=async()=>{if(!u||u===t){x("Please select a different company.");return}s(!0);try{await Id(t,u,e),m(`Successfully moved to ${c.find(g=>g.id===u)?.name}!`),setTimeout(()=>{n()},1e3)}catch(g){console.error("Move failed:",g),x(g.message||"Application move failed.")}finally{s(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-[60] backdrop-blur-sm",onClick:r,children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md border border-gray-200",onClick:g=>g.stopPropagation(),children:[h.jsxs("header",{className:"p-5 border-b border-gray-200 flex items-center gap-3",children:[h.jsx(Fl,{className:"text-blue-600",size:24}),h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Move Application"})]}),h.jsxs("div",{className:"p-5 space-y-4",children:[h.jsx("p",{className:"text-gray-700",children:"Select the destination company for this application."}),a?h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(Ks,{className:"animate-spin",size:16})," Loading..."]}):c.length===0?h.jsx("p",{className:"text-red-600",children:"No other companies available."}):h.jsxs("div",{children:[h.jsx("label",{htmlFor:"destination-company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination Company"}),h.jsx("select",{id:"destination-company",className:"w-full p-3 border border-gray-300 rounded-lg bg-white",value:u,onChange:g=>d(g.target.value),children:c.map(g=>h.jsx("option",{value:g.id,children:g.name},g.id))})]})]}),h.jsxs("footer",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end gap-3 rounded-b-xl",children:[h.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-all",onClick:r,disabled:a,children:"Cancel"}),h.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all",onClick:w,disabled:a||c.length===0,children:a?"Moving...":"Move Application"})]})]})})}function Fd({appName:t,companyId:e,applicationId:r,collectionName:n,onClose:a,onDeletionComplete:s}){const[c,o]=Je.useState(!1),[u,d]=Je.useState(""),{showSuccess:m,showError:x}=uo(),w=async()=>{o(!0),d("");try{await Ed(e,r,n),m("Record deleted successfully."),setTimeout(()=>{s()},500)}catch(g){console.error("Error deleting application:",g);const C=g.code==="permission-denied"?"Permission Denied. Check database rules.":g.message||"Failed to delete application.";d(C),x(C)}finally{o(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-[60] backdrop-blur-sm",onClick:a,children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg border border-gray-200",onClick:g=>g.stopPropagation(),children:[h.jsxs("header",{className:"p-5 border-b border-gray-200 flex justify-between items-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-red-700 flex items-center gap-2",children:[h.jsx(Kn,{}),"Confirm Deletion"]}),h.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",onClick:a,children:h.jsx(Tl,{size:20})})]}),h.jsxs("div",{className:"p-5",children:[h.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to permanently delete the record for ",h.jsx("strong",{className:"font-bold text-gray-900",children:t}),"?",h.jsx("br",{}),h.jsx("br",{}),"This action cannot be undone."]}),u&&h.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-sm text-red-700 mb-4",children:[h.jsx(Kn,{size:16})," ",u]})]}),h.jsxs("footer",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end gap-3 rounded-b-xl",children:[h.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-all",onClick:a,disabled:c,children:"Cancel"}),h.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 disabled:opacity-50 transition-all flex items-center gap-2",onClick:w,disabled:c,children:[c?h.jsx(Ks,{className:"animate-spin",size:16}):null,c?"Deleting...":"Delete Permanently"]})]})]})})}function kt(t){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(t)}var fn=Uint8Array,zr=Uint16Array,Ol=Int32Array,Rl=new fn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ml=new fn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jc=new fn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xu=function(t,e){for(var r=new zr(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new Ol(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},Zu=Xu(Rl,2),Od=Zu.b,bl=Zu.r;Od[28]=258,bl[258]=28;var Rd=Xu(Ml,0),kc=Rd.r,xl=new zr(32768);for(var Rt=0;Rt<32768;++Rt){var gi=(Rt&43690)>>1|(Rt&21845)<<1;gi=(gi&52428)>>2|(gi&13107)<<2,gi=(gi&61680)>>4|(gi&3855)<<4,xl[Rt]=((gi&65280)>>8|(gi&255)<<8)>>1}var Xs=(function(t,e,r){for(var n=t.length,a=0,s=new zr(e);a<n;++a)t[a]&&++s[t[a]-1];var c=new zr(e);for(a=1;a<e;++a)c[a]=c[a-1]+s[a-1]<<1;var o;if(r){o=new zr(1<<e);var u=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],m=e-t[a],x=c[t[a]-1]++<<m,w=x|(1<<m)-1;x<=w;++x)o[xl[x]>>u]=d}else for(o=new zr(n),a=0;a<n;++a)t[a]&&(o[a]=xl[c[t[a]-1]++]>>15-t[a]);return o}),Hi=new fn(288);for(var Rt=0;Rt<144;++Rt)Hi[Rt]=8;for(var Rt=144;Rt<256;++Rt)Hi[Rt]=9;for(var Rt=256;Rt<280;++Rt)Hi[Rt]=7;for(var Rt=280;Rt<288;++Rt)Hi[Rt]=8;var so=new fn(32);for(var Rt=0;Rt<32;++Rt)so[Rt]=5;var Md=Xs(Hi,9,0),Bd=Xs(so,5,0),Ku=function(t){return(t+7)/8|0},Dd=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fn(t.subarray(e,r))},Jn=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ys=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Wo=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:eh,l:0};if(a==1){var c=new fn(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(le,pe){return le.f-pe.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],d=0,m=1,x=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};m!=a-1;)o=r[r[d].f<r[x].f?d++:x++],u=r[d!=m&&r[d].f<r[x].f?d++:x++],r[m++]={s:-1,f:o.f+u.f,l:o,r:u};for(var w=s[0].s,n=1;n<a;++n)s[n].s>w&&(w=s[n].s);var g=new zr(w+1),C=vl(r[m-1],g,0);if(C>e){var n=0,k=0,I=C-e,S=1<<I;for(s.sort(function(pe,ce){return g[ce.s]-g[pe.s]||pe.f-ce.f});n<a;++n){var H=s[n].s;if(g[H]>e)k+=S-(1<<C-g[H]),g[H]=e;else break}for(k>>=I;k>0;){var W=s[n].s;g[W]<e?k-=1<<e-g[W]++-1:++n}for(;n>=0&&k;--n){var q=s[n].s;g[q]==e&&(--g[q],++k)}C=e}return{t:new fn(g),l:C}},vl=function(t,e,r){return t.s==-1?Math.max(vl(t.l,e,r+1),vl(t.r,e,r+1)):e[t.s]=r},Cc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zr(++e),n=0,a=t[0],s=1,c=function(u){r[n++]=u},o=1;o<=e;++o)if(t[o]==a&&o!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(a),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(a);s=1,a=t[o]}return{c:r.subarray(0,n),n:e}},Js=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Qu=function(t,e,r){var n=r.length,a=Ku(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},Pc=function(t,e,r,n,a,s,c,o,u,d,m){Jn(e,m++,r),++a[256];for(var x=Wo(a,15),w=x.t,g=x.l,C=Wo(s,15),k=C.t,I=C.l,S=Cc(w),H=S.c,W=S.n,q=Cc(k),le=q.c,pe=q.n,ce=new zr(19),G=0;G<H.length;++G)++ce[H[G]&31];for(var G=0;G<le.length;++G)++ce[le[G]&31];for(var F=Wo(ce,7),ee=F.t,L=F.l,E=19;E>4&&!ee[jc[E-1]];--E);var z=d+5<<3,B=Js(a,Hi)+Js(s,so)+c,K=Js(a,w)+Js(s,k)+c+14+3*E+Js(ce,ee)+2*ce[16]+3*ce[17]+7*ce[18];if(u>=0&&z<=B&&z<=K)return Qu(e,m,t.subarray(u,u+d));var re,oe,J,ue;if(Jn(e,m,1+(K<B)),m+=2,K<B){re=Xs(w,g,0),oe=w,J=Xs(k,I,0),ue=k;var Ae=Xs(ee,L,0);Jn(e,m,W-257),Jn(e,m+5,pe-1),Jn(e,m+10,E-4),m+=14;for(var G=0;G<E;++G)Jn(e,m+3*G,ee[jc[G]]);m+=3*E;for(var ye=[H,le],A=0;A<2;++A)for(var D=ye[A],G=0;G<D.length;++G){var U=D[G]&31;Jn(e,m,Ae[U]),m+=ee[U],U>15&&(Jn(e,m,D[G]>>5&127),m+=D[G]>>12)}}else re=Md,oe=Hi,J=Bd,ue=so;for(var G=0;G<o;++G){var V=n[G];if(V>255){var U=V>>18&31;Ys(e,m,re[U+257]),m+=oe[U+257],U>7&&(Jn(e,m,V>>23&31),m+=Rl[U]);var Q=V&31;Ys(e,m,J[Q]),m+=ue[Q],Q>3&&(Ys(e,m,V>>5&8191),m+=Ml[Q])}else Ys(e,m,re[V]),m+=oe[V]}return Ys(e,m,re[256]),m+oe[256]},qd=new Ol([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eh=new fn(0),Ud=function(t,e,r,n,a,s){var c=s.z||t.length,o=new fn(n+c+5*(1+Math.ceil(c/7e3))+a),u=o.subarray(n,o.length-a),d=s.l,m=(s.r||0)&7;if(e){m&&(u[0]=s.r>>3);for(var x=qd[e-1],w=x>>13,g=x&8191,C=(1<<r)-1,k=s.p||new zr(32768),I=s.h||new zr(C+1),S=Math.ceil(r/3),H=2*S,W=function(ze){return(t[ze]^t[ze+1]<<S^t[ze+2]<<H)&C},q=new Ol(25e3),le=new zr(288),pe=new zr(32),ce=0,G=0,F=s.i||0,ee=0,L=s.w||0,E=0;F+2<c;++F){var z=W(F),B=F&32767,K=I[z];if(k[B]=K,I[z]=B,L<=F){var re=c-F;if((ce>7e3||ee>24576)&&(re>423||!d)){m=Pc(t,u,0,q,le,pe,G,ee,E,F-E,m),ee=ce=G=0,E=F;for(var oe=0;oe<286;++oe)le[oe]=0;for(var oe=0;oe<30;++oe)pe[oe]=0}var J=2,ue=0,Ae=g,ye=B-K&32767;if(re>2&&z==W(F-ye))for(var A=Math.min(w,re)-1,D=Math.min(32767,F),U=Math.min(258,re);ye<=D&&--Ae&&B!=K;){if(t[F+J]==t[F+J-ye]){for(var V=0;V<U&&t[F+V]==t[F+V-ye];++V);if(V>J){if(J=V,ue=ye,V>A)break;for(var Q=Math.min(ye,V-2),ie=0,oe=0;oe<Q;++oe){var he=F-ye+oe&32767,de=k[he],fe=he-de&32767;fe>ie&&(ie=fe,K=he)}}}B=K,K=k[B],ye+=B-K&32767}if(ue){q[ee++]=268435456|bl[J]<<18|kc[ue];var Le=bl[J]&31,Pe=kc[ue]&31;G+=Rl[Le]+Ml[Pe],++le[257+Le],++pe[Pe],L=F+J,++ce}else q[ee++]=t[F],++le[t[F]]}}for(F=Math.max(F,L);F<c;++F)q[ee++]=t[F],++le[t[F]];m=Pc(t,u,d,q,le,pe,G,ee,E,F-E,m),d||(s.r=m&7|u[m/8|0]<<3,m-=7,s.h=I,s.p=k,s.i=F,s.w=L)}else{for(var F=s.w||0;F<c+d;F+=65535){var Ce=F+65535;Ce>=c&&(u[m/8|0]=d,Ce=c),m=Qu(u,m+1,t.subarray(F,Ce))}s.i=c}return Dd(o,0,n+Ku(m)+a)},th=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,c=0;c!=s;){for(var o=Math.min(c+2655,s);c<o;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},zd=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),c=new fn(s.length+t.length);c.set(s),c.set(t,s.length),t=c,a.w=s.length}return Ud(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},rh=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Hd=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=th();a.p(e.dictionary),rh(t,2,a.d())}};function yl(t,e){e||(e={});var r=th();r.p(t);var n=zd(t,e,e.dictionary?6:2,4);return Hd(n,e),rh(n,n.length-4,r.d()),n}var Gd=typeof TextDecoder<"u"&&new TextDecoder,$d=0;try{Gd.decode(eh,{stream:!0}),$d=1}catch{}function Wd(t){if(Array.isArray(t))return t}function Vd(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(m){d=!0,a=m}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(d)throw a}}return o}}function Ec(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Yd(t,e){if(t){if(typeof t=="string")return Ec(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ec(t,e):void 0}}function Jd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ic(t,e){return Wd(t)||Vd(t,e)||Yd(t,e)||Jd()}function Tc(t,e="utf8"){return new TextDecoder(e).decode(t)}const Xd=new TextEncoder;function Zd(t){return Xd.encode(t)}const Kd=1024*8,Qd=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Vo={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Bl{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Kd,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,s=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof Bl)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Vo[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===Qd&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const u=new Vo[r](o.buffer);return this.offset+=n,u.reverse(),u}const c=new Vo[r](s);return this.offset+=n,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return Tc(this.readBytes(e))}decodeText(e=1,r="utf8"){return Tc(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Zd(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xs(t){let e=t.length;for(;--e>=0;)t[e]=0}const e0=3,t0=258,nh=29,r0=256,n0=r0+1+nh,ih=30,i0=512,s0=new Array((n0+2)*2);xs(s0);const a0=new Array(ih*2);xs(a0);const o0=new Array(i0);xs(o0);const l0=new Array(t0-e0+1);xs(l0);const c0=new Array(nh);xs(c0);const u0=new Array(ih);xs(u0);const h0=(t,e,r,n)=>{let a=t&65535|0,s=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do a=a+e[n++]|0,s=s+a|0;while(--c);a%=65521,s%=65521}return a|s<<16|0};var wl=h0;const f0=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},d0=new Uint32Array(f0()),p0=(t,e,r,n)=>{const a=d0,s=n+r;t^=-1;for(let c=n;c<s;c++)t=t>>>8^a[(t^e[c])&255];return t^-1};var _n=p0,Nl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sh={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const g0=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var m0=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)g0(r,n)&&(t[n]=r[n])}}return t},b0=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,s=t.length;n<s;n++){let c=t[n];r.set(c,a),a+=c.length}return r},ah={assign:m0,flattenChunks:b0};let oh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oh=!1}const ra=new Uint8Array(256);for(let t=0;t<256;t++)ra[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ra[254]=ra[254]=1;var x0=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,s,c=t.length,o=0;for(a=0;a<c;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,a=0;s<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const v0=(t,e)=>{if(e<65534&&t.subarray&&oh)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var y0=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let c=t[n++];if(c<128){s[a++]=c;continue}let o=ra[c];if(o>4){s[a++]=65533,n+=o-1;continue}for(c&=o===2?31:o===3?15:7;o>1&&n<r;)c=c<<6|t[n++]&63,o--;if(o>1){s[a++]=65533;continue}c<65536?s[a++]=c:(c-=65536,s[a++]=55296|c>>10&1023,s[a++]=56320|c&1023)}return v0(s,a)},w0=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ra[t[r]]>e?r:e},Al={string2buf:x0,buf2string:y0,utf8border:w0};function N0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var A0=N0;const Ua=16209,_0=16191;var S0=function(e,r){let n,a,s,c,o,u,d,m,x,w,g,C,k,I,S,H,W,q,le,pe,ce,G,F,ee;const L=e.state;n=e.next_in,F=e.input,a=n+(e.avail_in-5),s=e.next_out,ee=e.output,c=s-(r-e.avail_out),o=s+(e.avail_out-257),u=L.dmax,d=L.wsize,m=L.whave,x=L.wnext,w=L.window,g=L.hold,C=L.bits,k=L.lencode,I=L.distcode,S=(1<<L.lenbits)-1,H=(1<<L.distbits)-1;e:do{C<15&&(g+=F[n++]<<C,C+=8,g+=F[n++]<<C,C+=8),W=k[g&S];t:for(;;){if(q=W>>>24,g>>>=q,C-=q,q=W>>>16&255,q===0)ee[s++]=W&65535;else if(q&16){le=W&65535,q&=15,q&&(C<q&&(g+=F[n++]<<C,C+=8),le+=g&(1<<q)-1,g>>>=q,C-=q),C<15&&(g+=F[n++]<<C,C+=8,g+=F[n++]<<C,C+=8),W=I[g&H];r:for(;;){if(q=W>>>24,g>>>=q,C-=q,q=W>>>16&255,q&16){if(pe=W&65535,q&=15,C<q&&(g+=F[n++]<<C,C+=8,C<q&&(g+=F[n++]<<C,C+=8)),pe+=g&(1<<q)-1,pe>u){e.msg="invalid distance too far back",L.mode=Ua;break e}if(g>>>=q,C-=q,q=s-c,pe>q){if(q=pe-q,q>m&&L.sane){e.msg="invalid distance too far back",L.mode=Ua;break e}if(ce=0,G=w,x===0){if(ce+=d-q,q<le){le-=q;do ee[s++]=w[ce++];while(--q);ce=s-pe,G=ee}}else if(x<q){if(ce+=d+x-q,q-=x,q<le){le-=q;do ee[s++]=w[ce++];while(--q);if(ce=0,x<le){q=x,le-=q;do ee[s++]=w[ce++];while(--q);ce=s-pe,G=ee}}}else if(ce+=x-q,q<le){le-=q;do ee[s++]=w[ce++];while(--q);ce=s-pe,G=ee}for(;le>2;)ee[s++]=G[ce++],ee[s++]=G[ce++],ee[s++]=G[ce++],le-=3;le&&(ee[s++]=G[ce++],le>1&&(ee[s++]=G[ce++]))}else{ce=s-pe;do ee[s++]=ee[ce++],ee[s++]=ee[ce++],ee[s++]=ee[ce++],le-=3;while(le>2);le&&(ee[s++]=ee[ce++],le>1&&(ee[s++]=ee[ce++]))}}else if((q&64)===0){W=I[(W&65535)+(g&(1<<q)-1)];continue r}else{e.msg="invalid distance code",L.mode=Ua;break e}break}}else if((q&64)===0){W=k[(W&65535)+(g&(1<<q)-1)];continue t}else if(q&32){L.mode=_0;break e}else{e.msg="invalid literal/length code",L.mode=Ua;break e}break}}while(n<a&&s<o);le=C>>3,n-=le,C-=le<<3,g&=(1<<C)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<o?257+(o-s):257-(s-o),L.hold=g,L.bits=C};const os=15,Fc=852,Oc=592,Rc=0,Yo=1,Mc=2,L0=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),j0=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),k0=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),C0=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),P0=(t,e,r,n,a,s,c,o)=>{const u=o.bits;let d=0,m=0,x=0,w=0,g=0,C=0,k=0,I=0,S=0,H=0,W,q,le,pe,ce,G=null,F;const ee=new Uint16Array(os+1),L=new Uint16Array(os+1);let E=null,z,B,K;for(d=0;d<=os;d++)ee[d]=0;for(m=0;m<n;m++)ee[e[r+m]]++;for(g=u,w=os;w>=1&&ee[w]===0;w--);if(g>w&&(g=w),w===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,o.bits=1,0;for(x=1;x<w&&ee[x]===0;x++);for(g<x&&(g=x),I=1,d=1;d<=os;d++)if(I<<=1,I-=ee[d],I<0)return-1;if(I>0&&(t===Rc||w!==1))return-1;for(L[1]=0,d=1;d<os;d++)L[d+1]=L[d]+ee[d];for(m=0;m<n;m++)e[r+m]!==0&&(c[L[e[r+m]]++]=m);if(t===Rc?(G=E=c,F=20):t===Yo?(G=L0,E=j0,F=257):(G=k0,E=C0,F=0),H=0,m=0,d=x,ce=s,C=g,k=0,le=-1,S=1<<g,pe=S-1,t===Yo&&S>Fc||t===Mc&&S>Oc)return 1;for(;;){z=d-k,c[m]+1<F?(B=0,K=c[m]):c[m]>=F?(B=E[c[m]-F],K=G[c[m]-F]):(B=96,K=0),W=1<<d-k,q=1<<C,x=q;do q-=W,a[ce+(H>>k)+q]=z<<24|B<<16|K|0;while(q!==0);for(W=1<<d-1;H&W;)W>>=1;if(W!==0?(H&=W-1,H+=W):H=0,m++,--ee[d]===0){if(d===w)break;d=e[r+c[m]]}if(d>g&&(H&pe)!==le){for(k===0&&(k=g),ce+=x,C=d-k,I=1<<C;C+k<w&&(I-=ee[C+k],!(I<=0));)C++,I<<=1;if(S+=1<<C,t===Yo&&S>Fc||t===Mc&&S>Oc)return 1;le=H&pe,a[le]=g<<24|C<<16|ce-s|0}}return H!==0&&(a[ce+H]=d-k<<24|64<<16|0),o.bits=g,0};var Zs=P0;const E0=0,lh=1,ch=2,{Z_FINISH:Bc,Z_BLOCK:I0,Z_TREES:za,Z_OK:Gi,Z_STREAM_END:T0,Z_NEED_DICT:F0,Z_STREAM_ERROR:Qr,Z_DATA_ERROR:uh,Z_MEM_ERROR:hh,Z_BUF_ERROR:O0,Z_DEFLATED:Dc}=sh,ho=16180,qc=16181,Uc=16182,zc=16183,Hc=16184,Gc=16185,$c=16186,Wc=16187,Vc=16188,Yc=16189,ao=16190,Xn=16191,Jo=16192,Jc=16193,Xo=16194,Xc=16195,Zc=16196,Kc=16197,Qc=16198,Ha=16199,Ga=16200,eu=16201,tu=16202,ru=16203,nu=16204,iu=16205,Zo=16206,su=16207,au=16208,Dt=16209,fh=16210,dh=16211,R0=852,M0=592,B0=15,D0=B0,ou=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function q0(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wi=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ho||e.mode>dh?1:0},ph=t=>{if(Wi(t))return Qr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ho,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(R0),e.distcode=e.distdyn=new Int32Array(M0),e.sane=1,e.back=-1,Gi},gh=t=>{if(Wi(t))return Qr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ph(t)},mh=(t,e)=>{let r;if(Wi(t))return Qr;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qr:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,gh(t))},bh=(t,e)=>{if(!t)return Qr;const r=new q0;t.state=r,r.strm=t,r.window=null,r.mode=ho;const n=mh(t,e);return n!==Gi&&(t.state=null),n},U0=t=>bh(t,D0);let lu=!0,Ko,Qo;const z0=t=>{if(lu){Ko=new Int32Array(512),Qo=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Zs(lh,t.lens,0,288,Ko,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Zs(ch,t.lens,0,32,Qo,0,t.work,{bits:5}),lu=!1}t.lencode=Ko,t.lenbits=9,t.distcode=Qo,t.distbits=5},xh=(t,e,r,n)=>{let a;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},H0=(t,e)=>{let r,n,a,s,c,o,u,d,m,x,w,g,C,k,I=0,S,H,W,q,le,pe,ce,G;const F=new Uint8Array(4);let ee,L;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wi(t)||!t.output||!t.input&&t.avail_in!==0)return Qr;r=t.state,r.mode===Xn&&(r.mode=Jo),c=t.next_out,a=t.output,u=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,d=r.hold,m=r.bits,x=o,w=u,G=Gi;e:for(;;)switch(r.mode){case ho:if(r.wrap===0){r.mode=Jo;break}for(;m<16;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=d&255,F[1]=d>>>8&255,r.check=_n(r.check,F,2,0),d=0,m=0,r.mode=qc;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=Dt;break}if((d&15)!==Dc){t.msg="unknown compression method",r.mode=Dt;break}if(d>>>=4,m-=4,ce=(d&15)+8,r.wbits===0&&(r.wbits=ce),ce>15||ce>r.wbits){t.msg="invalid window size",r.mode=Dt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?Yc:Xn,d=0,m=0;break;case qc:for(;m<16;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(r.flags=d,(r.flags&255)!==Dc){t.msg="unknown compression method",r.mode=Dt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Dt;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=_n(r.check,F,2,0)),d=0,m=0,r.mode=Uc;case Uc:for(;m<32;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,r.check=_n(r.check,F,4,0)),d=0,m=0,r.mode=zc;case zc:for(;m<16;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=_n(r.check,F,2,0)),d=0,m=0,r.mode=Hc;case Hc:if(r.flags&1024){for(;m<16;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=_n(r.check,F,2,0)),d=0,m=0}else r.head&&(r.head.extra=null);r.mode=Gc;case Gc:if(r.flags&1024&&(g=r.length,g>o&&(g=o),g&&(r.head&&(ce=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+g),ce)),r.flags&512&&r.wrap&4&&(r.check=_n(r.check,n,g,s)),o-=g,s+=g,r.length-=g),r.length))break e;r.length=0,r.mode=$c;case $c:if(r.flags&2048){if(o===0)break e;g=0;do ce=n[s+g++],r.head&&ce&&r.length<65536&&(r.head.name+=String.fromCharCode(ce));while(ce&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=_n(r.check,n,g,s)),o-=g,s+=g,ce)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Wc;case Wc:if(r.flags&4096){if(o===0)break e;g=0;do ce=n[s+g++],r.head&&ce&&r.length<65536&&(r.head.comment+=String.fromCharCode(ce));while(ce&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=_n(r.check,n,g,s)),o-=g,s+=g,ce)break e}else r.head&&(r.head.comment=null);r.mode=Vc;case Vc:if(r.flags&512){for(;m<16;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Dt;break}d=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Xn;break;case Yc:for(;m<32;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}t.adler=r.check=ou(d),d=0,m=0,r.mode=ao;case ao:if(r.havedict===0)return t.next_out=c,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=d,r.bits=m,F0;t.adler=r.check=1,r.mode=Xn;case Xn:if(e===I0||e===za)break e;case Jo:if(r.last){d>>>=m&7,m-=m&7,r.mode=Zo;break}for(;m<3;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}switch(r.last=d&1,d>>>=1,m-=1,d&3){case 0:r.mode=Jc;break;case 1:if(z0(r),r.mode=Ha,e===za){d>>>=2,m-=2;break e}break;case 2:r.mode=Zc;break;case 3:t.msg="invalid block type",r.mode=Dt}d>>>=2,m-=2;break;case Jc:for(d>>>=m&7,m-=m&7;m<32;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Dt;break}if(r.length=d&65535,d=0,m=0,r.mode=Xo,e===za)break e;case Xo:r.mode=Xc;case Xc:if(g=r.length,g){if(g>o&&(g=o),g>u&&(g=u),g===0)break e;a.set(n.subarray(s,s+g),c),o-=g,s+=g,u-=g,c+=g,r.length-=g;break}r.mode=Xn;break;case Zc:for(;m<14;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(r.nlen=(d&31)+257,d>>>=5,m-=5,r.ndist=(d&31)+1,d>>>=5,m-=5,r.ncode=(d&15)+4,d>>>=4,m-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Dt;break}r.have=0,r.mode=Kc;case Kc:for(;r.have<r.ncode;){for(;m<3;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}r.lens[E[r.have++]]=d&7,d>>>=3,m-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ee={bits:r.lenbits},G=Zs(E0,r.lens,0,19,r.lencode,0,r.work,ee),r.lenbits=ee.bits,G){t.msg="invalid code lengths set",r.mode=Dt;break}r.have=0,r.mode=Qc;case Qc:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[d&(1<<r.lenbits)-1],S=I>>>24,H=I>>>16&255,W=I&65535,!(S<=m);){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(W<16)d>>>=S,m-=S,r.lens[r.have++]=W;else{if(W===16){for(L=S+2;m<L;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(d>>>=S,m-=S,r.have===0){t.msg="invalid bit length repeat",r.mode=Dt;break}ce=r.lens[r.have-1],g=3+(d&3),d>>>=2,m-=2}else if(W===17){for(L=S+3;m<L;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}d>>>=S,m-=S,ce=0,g=3+(d&7),d>>>=3,m-=3}else{for(L=S+7;m<L;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}d>>>=S,m-=S,ce=0,g=11+(d&127),d>>>=7,m-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Dt;break}for(;g--;)r.lens[r.have++]=ce}}if(r.mode===Dt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Dt;break}if(r.lenbits=9,ee={bits:r.lenbits},G=Zs(lh,r.lens,0,r.nlen,r.lencode,0,r.work,ee),r.lenbits=ee.bits,G){t.msg="invalid literal/lengths set",r.mode=Dt;break}if(r.distbits=6,r.distcode=r.distdyn,ee={bits:r.distbits},G=Zs(ch,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ee),r.distbits=ee.bits,G){t.msg="invalid distances set",r.mode=Dt;break}if(r.mode=Ha,e===za)break e;case Ha:r.mode=Ga;case Ga:if(o>=6&&u>=258){t.next_out=c,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=d,r.bits=m,S0(t,w),c=t.next_out,a=t.output,u=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,d=r.hold,m=r.bits,r.mode===Xn&&(r.back=-1);break}for(r.back=0;I=r.lencode[d&(1<<r.lenbits)-1],S=I>>>24,H=I>>>16&255,W=I&65535,!(S<=m);){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(H&&(H&240)===0){for(q=S,le=H,pe=W;I=r.lencode[pe+((d&(1<<q+le)-1)>>q)],S=I>>>24,H=I>>>16&255,W=I&65535,!(q+S<=m);){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}d>>>=q,m-=q,r.back+=q}if(d>>>=S,m-=S,r.back+=S,r.length=W,H===0){r.mode=iu;break}if(H&32){r.back=-1,r.mode=Xn;break}if(H&64){t.msg="invalid literal/length code",r.mode=Dt;break}r.extra=H&15,r.mode=eu;case eu:if(r.extra){for(L=r.extra;m<L;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tu;case tu:for(;I=r.distcode[d&(1<<r.distbits)-1],S=I>>>24,H=I>>>16&255,W=I&65535,!(S<=m);){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if((H&240)===0){for(q=S,le=H,pe=W;I=r.distcode[pe+((d&(1<<q+le)-1)>>q)],S=I>>>24,H=I>>>16&255,W=I&65535,!(q+S<=m);){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}d>>>=q,m-=q,r.back+=q}if(d>>>=S,m-=S,r.back+=S,H&64){t.msg="invalid distance code",r.mode=Dt;break}r.offset=W,r.extra=H&15,r.mode=ru;case ru:if(r.extra){for(L=r.extra;m<L;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Dt;break}r.mode=nu;case nu:if(u===0)break e;if(g=w-u,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Dt;break}g>r.wnext?(g-=r.wnext,C=r.wsize-g):C=r.wnext-g,g>r.length&&(g=r.length),k=r.window}else k=a,C=c-r.offset,g=r.length;g>u&&(g=u),u-=g,r.length-=g;do a[c++]=k[C++];while(--g);r.length===0&&(r.mode=Ga);break;case iu:if(u===0)break e;a[c++]=r.length,u--,r.mode=Ga;break;case Zo:if(r.wrap){for(;m<32;){if(o===0)break e;o--,d|=n[s++]<<m,m+=8}if(w-=u,t.total_out+=w,r.total+=w,r.wrap&4&&w&&(t.adler=r.check=r.flags?_n(r.check,a,w,c-w):wl(r.check,a,w,c-w)),w=u,r.wrap&4&&(r.flags?d:ou(d))!==r.check){t.msg="incorrect data check",r.mode=Dt;break}d=0,m=0}r.mode=su;case su:if(r.wrap&&r.flags){for(;m<32;){if(o===0)break e;o--,d+=n[s++]<<m,m+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Dt;break}d=0,m=0}r.mode=au;case au:G=T0;break e;case Dt:G=uh;break e;case fh:return hh;case dh:default:return Qr}return t.next_out=c,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=d,r.bits=m,(r.wsize||w!==t.avail_out&&r.mode<Dt&&(r.mode<Zo||e!==Bc))&&xh(t,t.output,t.next_out,w-t.avail_out),x-=t.avail_in,w-=t.avail_out,t.total_in+=x,t.total_out+=w,r.total+=w,r.wrap&4&&w&&(t.adler=r.check=r.flags?_n(r.check,a,w,t.next_out-w):wl(r.check,a,w,t.next_out-w)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Xn?128:0)+(r.mode===Ha||r.mode===Xo?256:0),(x===0&&w===0||e===Bc)&&G===Gi&&(G=O0),G},G0=t=>{if(Wi(t))return Qr;let e=t.state;return e.window&&(e.window=null),t.state=null,Gi},$0=(t,e)=>{if(Wi(t))return Qr;const r=t.state;return(r.wrap&2)===0?Qr:(r.head=e,e.done=!1,Gi)},W0=(t,e)=>{const r=e.length;let n,a,s;return Wi(t)||(n=t.state,n.wrap!==0&&n.mode!==ao)?Qr:n.mode===ao&&(a=1,a=wl(a,e,r,0),a!==n.check)?uh:(s=xh(t,e,r,r),s?(n.mode=fh,hh):(n.havedict=1,Gi))};var V0=gh,Y0=mh,J0=ph,X0=U0,Z0=bh,K0=H0,Q0=G0,e1=$0,t1=W0,r1="pako inflate (from Nodeca project)",Zn={inflateReset:V0,inflateReset2:Y0,inflateResetKeep:J0,inflateInit:X0,inflateInit2:Z0,inflate:K0,inflateEnd:Q0,inflateGetHeader:e1,inflateSetDictionary:t1,inflateInfo:r1};function n1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var i1=n1;const vh=Object.prototype.toString,{Z_NO_FLUSH:s1,Z_FINISH:a1,Z_OK:na,Z_STREAM_END:el,Z_NEED_DICT:tl,Z_STREAM_ERROR:o1,Z_DATA_ERROR:cu,Z_MEM_ERROR:l1}=sh;function ia(t){this.options=ah.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A0,this.strm.avail_out=0;let r=Zn.inflateInit2(this.strm,e.windowBits);if(r!==na)throw new Error(Nl[r]);if(this.header=new i1,Zn.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Al.string2buf(e.dictionary):vh.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Zn.inflateSetDictionary(this.strm,e.dictionary),r!==na)))throw new Error(Nl[r])}ia.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,c,o;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?a1:s1,vh.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Zn.inflate(r,c),s===tl&&a&&(s=Zn.inflateSetDictionary(r,a),s===na?s=Zn.inflate(r,c):s===cu&&(s=tl));r.avail_in>0&&s===el&&r.state.wrap>0&&t[r.next_in]!==0;)Zn.inflateReset(r),s=Zn.inflate(r,c);switch(s){case o1:case cu:case tl:case l1:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===el))if(this.options.to==="string"){let u=Al.utf8border(r.output,r.next_out),d=r.next_out-u,m=Al.buf2string(r.output,u);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(u,u+d),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===na&&o===0)){if(s===el)return s=Zn.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ia.prototype.onData=function(t){this.chunks.push(t)};ia.prototype.onEnd=function(t){t===na&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ah.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function c1(t,e){const r=new ia(e);if(r.push(t),r.err)throw r.msg||Nl[r.err];return r.result}var u1=ia,h1=c1,f1={Inflate:u1,inflate:h1};const{Inflate:d1,inflate:p1}=f1;var uu=d1,g1=p1;const yh=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;yh[t]=e}const hu=4294967295;function m1(t,e,r){let n=t;for(let a=0;a<r;a++)n=yh[(n^e[a])&255]^n>>>8;return n}function b1(t,e){return(m1(hu,t,e)^hu)>>>0}function fu(t,e,r){const n=t.readUint32(),a=b1(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function wh(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Nh(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function Ah(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function _h(t,e,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-a]+r[s]>>1)&255}}function Sh(t,e,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+x1(e[s-a],r[s],r[s-a])&255}}function x1(t,e,r){const n=t+e-r,a=Math.abs(n-t),s=Math.abs(n-e),c=Math.abs(n-r);return a<=s&&a<=c?t:s<=c?e:r}function v1(t,e,r,n,a,s){switch(t){case 0:wh(e,r,a);break;case 1:Nh(e,r,a,s);break;case 2:Ah(e,r,n,a);break;case 3:_h(e,r,n,a,s);break;case 4:Sh(e,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const y1=new Uint16Array([255]),w1=new Uint8Array(y1.buffer),N1=w1[0]===255;function A1(t){const{data:e,width:r,height:n,channels:a,depth:s}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*a,u=new Uint8Array(n*r*o);let d=0;for(let m=0;m<7;m++){const x=c[m],w=Math.ceil((r-x.x)/x.xStep),g=Math.ceil((n-x.y)/x.yStep);if(w<=0||g<=0)continue;const C=w*o,k=new Uint8Array(C);for(let I=0;I<g;I++){const S=e[d++],H=e.subarray(d,d+C);d+=C;const W=new Uint8Array(C);v1(S,H,W,k,C,o),k.set(W);for(let q=0;q<w;q++){const le=x.x+q*x.xStep,pe=x.y+I*x.yStep;if(!(le>=r||pe>=n))for(let ce=0;ce<o;ce++)u[(pe*r+le)*o+ce]=W[q*o+ce]}}}if(s===16){const m=new Uint16Array(u.buffer);if(N1)for(let x=0;x<m.length;x++)m[x]=_1(m[x]);return m}else return u}function _1(t){return(t&255)<<8|t>>8&255}const S1=new Uint16Array([255]),L1=new Uint8Array(S1.buffer),j1=L1[0]===255,k1=new Uint8Array(0);function du(t){const{data:e,width:r,height:n,channels:a,depth:s}=t,c=Math.ceil(s/8)*a,o=Math.ceil(s/8*a*r),u=new Uint8Array(n*o);let d=k1,m=0,x,w;for(let g=0;g<n;g++){switch(x=e.subarray(m+1,m+1+o),w=u.subarray(g*o,(g+1)*o),e[m]){case 0:wh(x,w,o);break;case 1:Nh(x,w,o,c);break;case 2:Ah(x,w,d,o);break;case 3:_h(x,w,d,o,c);break;case 4:Sh(x,w,d,o,c);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=o+1}if(s===16){const g=new Uint16Array(u.buffer);if(j1)for(let C=0;C<g.length;C++)g[C]=C1(g[C]);return g}else return u}function C1(t){return(t&255)<<8|t>>8&255}const Xa=Uint8Array.of(137,80,78,71,13,10,26,10);function pu(t){if(!P1(t.readBytes(Xa.length)))throw new Error("wrong PNG signature")}function P1(t){if(t.length<Xa.length)return!1;for(let e=0;e<Xa.length;e++)if(t[e]!==Xa[e])return!1;return!0}const E1="tEXt",I1=0,Lh=new TextDecoder("latin1");function T1(t){if(O1(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const F1=/^[\u0000-\u00FF]*$/;function O1(t){if(!F1.test(t))throw new Error("invalid latin1 text")}function R1(t,e,r){const n=jh(e);t[n]=M1(e,r-n.length-1)}function jh(t){for(t.mark();t.readByte()!==I1;);const e=t.offset;t.reset();const r=Lh.decode(t.readBytes(e-t.offset-1));return t.skip(1),T1(r),r}function M1(t,e){return Lh.decode(t.readBytes(e))}const Dr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},rl={UNKNOWN:-1,DEFLATE:0},gu={UNKNOWN:-1,ADAPTIVE:0},nl={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$a={NONE:0,BACKGROUND:1,PREVIOUS:2},il={SOURCE:0,OVER:1};class B1 extends Bl{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new uu,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=rl.UNKNOWN,this._filterMethod=gu.UNKNOWN,this._interlaceMethod=nl.UNKNOWN,this._colorType=Dr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(pu(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(pu(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case E1:R1(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?fu(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?fu(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=D1(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Dr.GREYSCALE:n=1;break;case Dr.TRUECOLOUR:n=3;break;case Dr.INDEXED_COLOUR:n=1;break;case Dr.GREYSCALE_ALPHA:n=2;break;case Dr.TRUECOLOUR_ALPHA:n=4;break;case Dr.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==rl.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Dr.GREYSCALE:case Dr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Dr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Dr.UNKNOWN:case Dr.GREYSCALE_ALPHA:case Dr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=jh(this),n=this.readUint8();if(n!==rl.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:g1(a)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=du({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case $a.NONE:break;case $a.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const c=(a*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[c+o]=0}break;case $a.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,a=(s,c)=>{const o=((s+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,u=(s*r.width+c)*this._png.channels;return{index:o,frameIndex:u}};switch(r.blendOp){case il.SOURCE:for(let s=0;s<r.height;s++)for(let c=0;c<r.width;c++){const{index:o,frameIndex:u}=a(s,c);for(let d=0;d<this._png.channels;d++)e.data[o+d]=r.data[u+d]}break;case il.OVER:for(let s=0;s<r.height;s++)for(let c=0;c<r.width;c++){const{index:o,frameIndex:u}=a(s,c);for(let d=0;d<this._png.channels;d++){const m=r.data[u+this._png.channels-1]/n,x=d%(this._png.channels-1)===0?1:r.data[u+d],w=Math.floor(m*x+(1-m)*e.data[o+d]);e.data[o+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==gu.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===nl.NO_INTERLACE)this._png.data=du({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===nl.ADAM7)this._png.data=A1({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$a.NONE,blendOp:il.SOURCE,data:e}),this._inflator=new uu,this._writingDataChunks=!1}}function D1(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var mu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(mu||(mu={}));function q1(t,e){return new B1(t,e).decode()}var Qe=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function sl(){Qe.console&&typeof Qe.console.log=="function"&&Qe.console.log.apply(Qe.console,arguments)}var Et={log:sl,warn:function(t){Qe.console&&(typeof Qe.console.warn=="function"?Qe.console.warn.apply(Qe.console,arguments):sl.call(null,arguments))},error:function(t){Qe.console&&(typeof Qe.console.error=="function"?Qe.console.error.apply(Qe.console,arguments):sl(t))}};function al(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){qi(n.response,e,r)},n.onerror=function(){Et.error("could not download file")},n.send()}function bu(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wa(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qi=Qe.saveAs||((typeof window>"u"?"undefined":kt(window))!=="object"||window!==Qe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Qe.URL||Qe.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?bu(a.href)?al(t,e,r):Wa(a,a.target="_blank"):Wa(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Wa(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(bu(t))al(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Wa(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:kt(s)!=="object"&&(Et.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return al(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(Qe.HTMLElement)||Qe.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&(typeof FileReader>"u"?"undefined":kt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var m=o.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},o.readAsDataURL(t)}else{var u=Qe.URL||Qe.webkitURL,d=u.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});function kh(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,c=a.exec(t);c&&(e=s(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+o+u+d}}var Za=Qe.atob.bind(Qe),xu=Qe.btoa.bind(Qe);function ol(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=vr(r,n,a,s,e[0],7,-680876936),s=vr(s,r,n,a,e[1],12,-389564586),a=vr(a,s,r,n,e[2],17,606105819),n=vr(n,a,s,r,e[3],22,-1044525330),r=vr(r,n,a,s,e[4],7,-176418897),s=vr(s,r,n,a,e[5],12,1200080426),a=vr(a,s,r,n,e[6],17,-1473231341),n=vr(n,a,s,r,e[7],22,-45705983),r=vr(r,n,a,s,e[8],7,1770035416),s=vr(s,r,n,a,e[9],12,-1958414417),a=vr(a,s,r,n,e[10],17,-42063),n=vr(n,a,s,r,e[11],22,-1990404162),r=vr(r,n,a,s,e[12],7,1804603682),s=vr(s,r,n,a,e[13],12,-40341101),a=vr(a,s,r,n,e[14],17,-1502002290),r=yr(r,n=vr(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=yr(s,r,n,a,e[6],9,-1069501632),a=yr(a,s,r,n,e[11],14,643717713),n=yr(n,a,s,r,e[0],20,-373897302),r=yr(r,n,a,s,e[5],5,-701558691),s=yr(s,r,n,a,e[10],9,38016083),a=yr(a,s,r,n,e[15],14,-660478335),n=yr(n,a,s,r,e[4],20,-405537848),r=yr(r,n,a,s,e[9],5,568446438),s=yr(s,r,n,a,e[14],9,-1019803690),a=yr(a,s,r,n,e[3],14,-187363961),n=yr(n,a,s,r,e[8],20,1163531501),r=yr(r,n,a,s,e[13],5,-1444681467),s=yr(s,r,n,a,e[2],9,-51403784),a=yr(a,s,r,n,e[7],14,1735328473),r=wr(r,n=yr(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=wr(s,r,n,a,e[8],11,-2022574463),a=wr(a,s,r,n,e[11],16,1839030562),n=wr(n,a,s,r,e[14],23,-35309556),r=wr(r,n,a,s,e[1],4,-1530992060),s=wr(s,r,n,a,e[4],11,1272893353),a=wr(a,s,r,n,e[7],16,-155497632),n=wr(n,a,s,r,e[10],23,-1094730640),r=wr(r,n,a,s,e[13],4,681279174),s=wr(s,r,n,a,e[0],11,-358537222),a=wr(a,s,r,n,e[3],16,-722521979),n=wr(n,a,s,r,e[6],23,76029189),r=wr(r,n,a,s,e[9],4,-640364487),s=wr(s,r,n,a,e[12],11,-421815835),a=wr(a,s,r,n,e[15],16,530742520),r=Nr(r,n=wr(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=Nr(s,r,n,a,e[7],10,1126891415),a=Nr(a,s,r,n,e[14],15,-1416354905),n=Nr(n,a,s,r,e[5],21,-57434055),r=Nr(r,n,a,s,e[12],6,1700485571),s=Nr(s,r,n,a,e[3],10,-1894986606),a=Nr(a,s,r,n,e[10],15,-1051523),n=Nr(n,a,s,r,e[1],21,-2054922799),r=Nr(r,n,a,s,e[8],6,1873313359),s=Nr(s,r,n,a,e[15],10,-30611744),a=Nr(a,s,r,n,e[6],15,-1560198380),n=Nr(n,a,s,r,e[13],21,1309151649),r=Nr(r,n,a,s,e[4],6,-145523070),s=Nr(s,r,n,a,e[11],10,-1120210379),a=Nr(a,s,r,n,e[2],15,718787259),n=Nr(n,a,s,r,e[9],21,-343485551),t[0]=bi(r,t[0]),t[1]=bi(n,t[1]),t[2]=bi(a,t[2]),t[3]=bi(s,t[3])}function fo(t,e,r,n,a,s){return e=bi(bi(e,t),bi(n,s)),bi(e<<a|e>>>32-a,r)}function vr(t,e,r,n,a,s,c){return fo(e&r|~e&n,t,e,a,s,c)}function yr(t,e,r,n,a,s,c){return fo(e&n|r&~n,t,e,a,s,c)}function wr(t,e,r,n,a,s,c){return fo(e^r^n,t,e,a,s,c)}function Nr(t,e,r,n,a,s,c){return fo(r^(e|~n),t,e,a,s,c)}function Ch(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ol(n,U1(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ol(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,ol(n,a),n}function U1(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var vu="0123456789abcdef".split("");function z1(t){for(var e="",r=0;r<4;r++)e+=vu[t>>8*r+4&15]+vu[t>>8*r&15];return e}function H1(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _l(t){return Ch(t).map(H1).join("")}var G1=(function(t){for(var e=0;e<t.length;e++)t[e]=z1(t[e]);return t.join("")})(Ch("hello"))!="5d41402abc4b2a76b9719d911017c592";function bi(t,e){if(G1){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function Sl(t,e){var r,n,a,s;if(t!==r){for(var c=(a=t,s=1+(256/t.length|0),new Array(s+1).join(a)),o=[],u=0;u<256;u++)o[u]=u;var d=0;for(u=0;u<256;u++){var m=o[u];d=(d+m+c.charCodeAt(u))%256,o[u]=o[d],o[d]=m}r=t,n=o}else o=n;var x=e.length,w=0,g=0,C="";for(u=0;u<x;u++)g=(g+(m=o[w=(w+1)%256]))%256,o[w]=o[g],o[g]=m,c=o[(o[w]+o[g])%256],C+=String.fromCharCode(e.charCodeAt(u)^c);return C}var yu={print:4,modify:8,copy:16,"annot-forms":32};function us(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if(yu.perm!==void 0)throw new Error("Invalid permission: "+o);a+=yu[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^a)),this.encryptionKey=_l(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Sl(this.encryptionKey,this.padding)}function hs(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function wu(t){if(kt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var c=e[r][s];try{c[0].apply(t,n)}catch(o){Qe.console&&Et.error("jsPDF PubSub Error",o.message,o)}c[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function oo(t){if(!(this instanceof oo))return new oo(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Ph(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ui(t,e,r,n,a){if(!(this instanceof Ui))return new Ui(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Ph.call(this,n,a)}function fs(t,e,r,n,a){if(!(this instanceof fs))return new fs(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Ph.call(this,n,a)}function qe(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],c=[],o=1,u=16,d="S",m=null;kt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(m=t.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),d=t.defaultPathOperation||"S"),c=t.filters||(s===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,w={},g={internal:{},__private__:{}};g.__private__.PubSub=wu;var C="1.3",k=g.__private__.getPdfVersion=function(){return C};g.__private__.setPdfVersion=function(f){C=f};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return I};var S=g.__private__.getPageFormat=function(f){return I[f]};a=a||"a4";var H="compat",W="advanced",q=H;function le(){this.saveGraphicsState(),T(new Ze(at,0,0,-at,0,Ci()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),d="n",q=W}function pe(){this.restoreGraphicsState(),d="S",q=H}var ce=g.__private__.combineFontStyleAndFontWeight=function(f,v){if(f=="bold"&&v=="normal"||f=="bold"&&v==400||f=="normal"&&v=="italic"||f=="bold"&&v=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return v&&(f=v==400||v==="normal"?f==="italic"?"italic":"normal":v!=700&&v!=="bold"||f!=="normal"?(v==700?"bold":v)+""+f:"bold"),f};g.advancedAPI=function(f){var v=q===H;return v&&le.call(this),typeof f!="function"||(f(this),v&&pe.call(this)),this},g.compatAPI=function(f){var v=q===W;return v&&pe.call(this),typeof f!="function"||(f(this),v&&le.call(this)),this},g.isAdvancedAPI=function(){return q===W};var G,F=function(f){if(q!==W)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=g.roundToPrecision=g.__private__.roundToPrecision=function(f,v){var M=e||v;if(isNaN(f)||isNaN(M))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(M).replace(/0+$/,"")};G=g.hpf=g.__private__.hpf=typeof u=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(f,u)}:u==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(f,16)};var L=g.f2=g.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return ee(f,2)},E=g.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return ee(f,3)},z=g.scale=g.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return q===H?f*at:q===W?f:void 0},B=function(f){return z((function(v){return q===H?Ci()-v:q===W?v:void 0})(f))};g.__private__.setPrecision=g.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var K,re="00000000000000000000000000000000",oe=g.__private__.getFileId=function(){return re},J=g.__private__.setFileId=function(f){return re=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(nr=new us(m.userPermissions,m.userPassword,m.ownerPassword,re)),re};g.setFileId=function(f){return J(f),this},g.getFileId=function(){return oe()};var ue=g.__private__.convertDateToPDFDate=function(f){var v=f.getTimezoneOffset(),M=v<0?"+":"-",$=Math.floor(Math.abs(v/60)),te=Math.abs(v%60),xe=[M,U($),"'",U(te),"'"].join("");return["D:",f.getFullYear(),U(f.getMonth()+1),U(f.getDate()),U(f.getHours()),U(f.getMinutes()),U(f.getSeconds()),xe].join("")},Ae=g.__private__.convertPDFDateToDate=function(f){var v=parseInt(f.substr(2,4),10),M=parseInt(f.substr(6,2),10)-1,$=parseInt(f.substr(8,2),10),te=parseInt(f.substr(10,2),10),xe=parseInt(f.substr(12,2),10),we=parseInt(f.substr(14,2),10);return new Date(v,M,$,te,xe,we,0)},ye=g.__private__.setCreationDate=function(f){var v;if(f===void 0&&(f=new Date),f instanceof Date)v=ue(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");v=f}return K=v},A=g.__private__.getCreationDate=function(f){var v=K;return f==="jsDate"&&(v=Ae(K)),v};g.setCreationDate=function(f){return ye(f),this},g.getCreationDate=function(f){return A(f)};var D,U=g.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},V=g.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},Q=0,ie=[],he=[],de=0,fe=[],Le=[],Pe=!1,Ce=he;g.__private__.setCustomOutputDestination=function(f){Pe=!0,Ce=f};var ze=function(f){Pe||(Ce=f)};g.__private__.resetCustomOutputDestination=function(){Pe=!1,Ce=he};var T=g.__private__.out=function(f){return f=f.toString(),de+=f.length+1,Ce.push(f),Ce},ke=g.__private__.write=function(f){return T(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},ut=g.__private__.getArrayBuffer=function(f){for(var v=f.length,M=new ArrayBuffer(v),$=new Uint8Array(M);v--;)$[v]=f.charCodeAt(v);return M},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return We};var _e=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(f){return _e=q===W?f/at:f,this};var Ve,Ie=g.__private__.getFontSize=g.getFontSize=function(){return q===H?_e:_e*at},$e=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(f){return $e=f,this},g.__private__.getR2L=g.getR2L=function(){return $e};var He,At=g.__private__.setZoomMode=function(f){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))Ve=f;else if(isNaN(f)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');Ve=f}else Ve=parseInt(f,10)};g.__private__.getZoomMode=function(){return Ve};var pt,nt=g.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');He=f};g.__private__.getPageMode=function(){return He};var mt=g.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');pt=f};g.__private__.getLayoutMode=function(){return pt},g.__private__.setDisplayMode=g.setDisplayMode=function(f,v,M){return At(f),mt(v),nt(M),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(f){if(Object.keys(gt).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[f]},g.__private__.getDocumentProperties=function(){return gt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(f){for(var v in gt)gt.hasOwnProperty(v)&&f[v]&&(gt[v]=f[v]);return this},g.__private__.setDocumentProperty=function(f,v){if(Object.keys(gt).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[f]=v};var Me,at,Ue,$t,yt,ht={},ft={},Mt=[],Ge={},It={},Ke={},it={},Bt=null,dt=0,Xe=[],_t=new wu(g),wi=t.hotfixes||[],br={},En={},gn=[],Ze=function f(v,M,$,te,xe,we){if(!(this instanceof f))return new f(v,M,$,te,xe,we);isNaN(v)&&(v=1),isNaN(M)&&(M=0),isNaN($)&&($=0),isNaN(te)&&(te=1),isNaN(xe)&&(xe=0),isNaN(we)&&(we=0),this._matrix=[v,M,$,te,xe,we]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(f)},Ze.prototype.multiply=function(f){var v=f.sx*this.sx+f.shy*this.shx,M=f.sx*this.shy+f.shy*this.sy,$=f.shx*this.sx+f.sy*this.shx,te=f.shx*this.shy+f.sy*this.sy,xe=f.tx*this.sx+f.ty*this.shx+this.tx,we=f.tx*this.shy+f.ty*this.sy+this.ty;return new Ze(v,M,$,te,xe,we)},Ze.prototype.decompose=function(){var f=this.sx,v=this.shy,M=this.shx,$=this.sy,te=this.tx,xe=this.ty,we=Math.sqrt(f*f+v*v),Fe=(f/=we)*M+(v/=we)*$;M-=f*Fe,$-=v*Fe;var Be=Math.sqrt(M*M+$*$);return Fe/=Be,f*($/=Be)<v*(M/=Be)&&(f=-f,v=-v,Fe=-Fe,we=-we),{scale:new Ze(we,0,0,Be,0,0),translate:new Ze(1,0,0,1,te,xe),rotate:new Ze(f,v,-v,f,0,0),skew:new Ze(1,0,Fe,1,0,0)}},Ze.prototype.toString=function(f){return this.join(" ")},Ze.prototype.inversed=function(){var f=this.sx,v=this.shy,M=this.shx,$=this.sy,te=this.tx,xe=this.ty,we=1/(f*$-v*M),Fe=$*we,Be=-v*we,et=-M*we,ot=f*we;return new Ze(Fe,Be,et,ot,-Fe*te-et*xe,-Be*te-ot*xe)},Ze.prototype.applyToPoint=function(f){var v=f.x*this.sx+f.y*this.shx+this.tx,M=f.x*this.shy+f.y*this.sy+this.ty;return new Bn(v,M)},Ze.prototype.applyToRectangle=function(f){var v=this.applyToPoint(f),M=this.applyToPoint(new Bn(f.x+f.w,f.y+f.h));return new js(v.x,v.y,M.x-v.x,M.y-v.y)},Ze.prototype.clone=function(){var f=this.sx,v=this.shy,M=this.shx,$=this.sy,te=this.tx,xe=this.ty;return new Ze(f,v,M,$,te,xe)},g.Matrix=Ze;var In=g.matrixMult=function(f,v){return v.multiply(f)},Tn=new Ze(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Tn;var Gr=function(f,v){if(!It[f]){var M=(v instanceof Ui?"Sh":"P")+(Object.keys(Ge).length+1).toString(10);v.id=M,It[f]=M,Ge[M]=v,_t.publish("addPattern",v)}};g.ShadingPattern=Ui,g.TilingPattern=fs,g.addShadingPattern=function(f,v){return F("addShadingPattern()"),Gr(f,v),this},g.beginTilingPattern=function(f){F("beginTilingPattern()"),ks(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},g.endTilingPattern=function(f,v){F("endTilingPattern()"),v.stream=Le[D].join(`
`),Gr(f,v),_t.publish("endTilingPattern",v),gn.pop().restore()};var $r,Ut=g.__private__.newObject=function(){var f=cr();return hr(f,!0),f},cr=g.__private__.newObjectDeferred=function(){return Q++,ie[Q]=function(){return de},Q},hr=function(f,v){return v=typeof v=="boolean"&&v,ie[f]=de,v&&T(f+" 0 obj"),f},Ni=g.__private__.newAdditionalObject=function(){var f={objId:cr(),content:""};return fe.push(f),f},Qn=cr(),en=cr(),mn=g.__private__.decodeColorString=function(f){var v=f.split(" ");if(v.length!==2||v[1]!=="g"&&v[1]!=="G")v.length!==5||v[4]!=="k"&&v[4]!=="K"||(v=[(1-v[0])*(1-v[3]),(1-v[1])*(1-v[3]),(1-v[2])*(1-v[3]),"r"]);else{var M=parseFloat(v[0]);v=[M,M,M,"r"]}for(var $="#",te=0;te<3;te++)$+=("0"+Math.floor(255*parseFloat(v[te])).toString(16)).slice(-2);return $},tn=g.__private__.encodeColorString=function(f){var v;typeof f=="string"&&(f={ch1:f});var M=f.ch1,$=f.ch2,te=f.ch3,xe=f.ch4,we=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof M=="string"&&M.charAt(0)!=="#"){var Fe=new kh(M);if(Fe.ok)M=Fe.toHex();else if(!/^\d*\.?\d*$/.test(M))throw new Error('Invalid color "'+M+'" passed to jsPDF.encodeColorString.')}if(typeof M=="string"&&/^#[0-9A-Fa-f]{3}$/.test(M)&&(M="#"+M[1]+M[1]+M[2]+M[2]+M[3]+M[3]),typeof M=="string"&&/^#[0-9A-Fa-f]{6}$/.test(M)){var Be=parseInt(M.substr(1),16);M=Be>>16&255,$=Be>>8&255,te=255&Be}if($===void 0||xe===void 0&&M===$&&$===te)v=typeof M=="string"?M+" "+we[0]:f.precision===2?L(M/255)+" "+we[0]:E(M/255)+" "+we[0];else if(xe===void 0||kt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return["1.","1.","1.",we[1]].join(" ");v=typeof M=="string"?[M,$,te,we[1]].join(" "):f.precision===2?[L(M/255),L($/255),L(te/255),we[1]].join(" "):[E(M/255),E($/255),E(te/255),we[1]].join(" ")}else v=typeof M=="string"?[M,$,te,xe,we[2]].join(" "):f.precision===2?[L(M),L($),L(te),L(xe),we[2]].join(" "):[E(M),E($),E(te),E(xe),we[2]].join(" ");return v},rn=g.__private__.getFilters=function(){return c},Wr=g.__private__.putStream=function(f){var v=(f=f||{}).data||"",M=f.filters||rn(),$=f.alreadyAppliedFilters||[],te=f.addLength1||!1,xe=v.length,we=f.objectId,Fe=function(ir){return ir};if(m!==null&&we===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Fe=nr.encryptor(we,0));var Be={};M===!0&&(M=["FlateEncode"]);var et=f.additionalKeyValues||[],ot=(Be=qe.API.processDataByFilters!==void 0?qe.API.processDataByFilters(v,M):{data:v,reverseChain:[]}).reverseChain+(Array.isArray($)?$.join(" "):$.toString());if(Be.data.length!==0&&(et.push({key:"Length",value:Be.data.length}),te===!0&&et.push({key:"Length1",value:xe})),ot.length!=0)if(ot.split("/").length-1==1)et.push({key:"Filter",value:ot});else{et.push({key:"Filter",value:"["+ot+"]"});for(var wt=0;wt<et.length;wt+=1)if(et[wt].key==="DecodeParms"){for(var qt=[],er=0;er<Be.reverseChain.split("/").length-1;er+=1)qt.push("null");qt.push(et[wt].value),et[wt].value="["+qt.join(" ")+"]"}}T("<<");for(var Tt=0;Tt<et.length;Tt++)T("/"+et[Tt].key+" "+et[Tt].value);T(">>"),Be.data.length!==0&&(T("stream"),T(Fe(Be.data)),T("endstream"))},Ai=g.__private__.putPage=function(f){var v=f.number,M=f.data,$=f.objId,te=f.contentsObjId;hr($,!0),T("<</Type /Page"),T("/Parent "+f.rootDictionaryObjId+" 0 R"),T("/Resources "+f.resourceDictionaryObjId+" 0 R"),T("/MediaBox ["+parseFloat(G(f.mediaBox.bottomLeftX))+" "+parseFloat(G(f.mediaBox.bottomLeftY))+" "+G(f.mediaBox.topRightX)+" "+G(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&T("/CropBox ["+G(f.cropBox.bottomLeftX)+" "+G(f.cropBox.bottomLeftY)+" "+G(f.cropBox.topRightX)+" "+G(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&T("/BleedBox ["+G(f.bleedBox.bottomLeftX)+" "+G(f.bleedBox.bottomLeftY)+" "+G(f.bleedBox.topRightX)+" "+G(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&T("/TrimBox ["+G(f.trimBox.bottomLeftX)+" "+G(f.trimBox.bottomLeftY)+" "+G(f.trimBox.topRightX)+" "+G(f.trimBox.topRightY)+"]"),f.artBox!==null&&T("/ArtBox ["+G(f.artBox.bottomLeftX)+" "+G(f.artBox.bottomLeftY)+" "+G(f.artBox.topRightX)+" "+G(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&T("/UserUnit "+f.userUnit),_t.publish("putPage",{objId:$,pageContext:Xe[v],pageNumber:v,page:M}),T("/Contents "+te+" 0 R"),T(">>"),T("endobj");var xe=M.join(`
`);return q===W&&(xe+=`
Q`),hr(te,!0),Wr({data:xe,filters:rn(),objectId:te}),T("endobj"),$},bn=g.__private__.putPages=function(){var f,v,M=[];for(f=1;f<=dt;f++)Xe[f].objId=cr(),Xe[f].contentsObjId=cr();for(f=1;f<=dt;f++)M.push(Ai({number:f,data:Le[f],objId:Xe[f].objId,contentsObjId:Xe[f].contentsObjId,mediaBox:Xe[f].mediaBox,cropBox:Xe[f].cropBox,bleedBox:Xe[f].bleedBox,trimBox:Xe[f].trimBox,artBox:Xe[f].artBox,userUnit:Xe[f].userUnit,rootDictionaryObjId:Qn,resourceDictionaryObjId:en}));hr(Qn,!0),T("<</Type /Pages");var $="/Kids [";for(v=0;v<dt;v++)$+=M[v]+" 0 R ";T($+"]"),T("/Count "+dt),T(">>"),T("endobj"),_t.publish("postPutPages")},_i=function(f){_t.publish("putFont",{font:f,out:T,newObject:Ut,putStream:Wr}),f.isAlreadyPutted!==!0&&(f.objectNumber=Ut(),T("<<"),T("/Type /Font"),T("/BaseFont /"+hs(f.postScriptName)),T("/Subtype /Type1"),typeof f.encoding=="string"&&T("/Encoding /"+f.encoding),T("/FirstChar 32"),T("/LastChar 255"),T(">>"),T("endobj"))},Yi=function(f){f.objectNumber=Ut();var v=[];v.push({key:"Type",value:"/XObject"}),v.push({key:"Subtype",value:"/Form"}),v.push({key:"BBox",value:"["+[G(f.x),G(f.y),G(f.x+f.width),G(f.y+f.height)].join(" ")+"]"}),v.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var M=f.pages[1].join(`
`);Wr({data:M,additionalKeyValues:v,objectId:f.objectNumber}),T("endobj")},Ji=function(f,v){v||(v=21);var M=Ut(),$=(function(we,Fe){var Be,et=[],ot=1/(Fe-1);for(Be=0;Be<1;Be+=ot)et.push(Be);if(et.push(1),we[0].offset!=0){var wt={offset:0,color:we[0].color};we.unshift(wt)}if(we[we.length-1].offset!=1){var qt={offset:1,color:we[we.length-1].color};we.push(qt)}for(var er="",Tt=0,ir=0;ir<et.length;ir++){for(Be=et[ir];Be>we[Tt+1].offset;)Tt++;var tr=we[Tt].offset,fr=(Be-tr)/(we[Tt+1].offset-tr),Un=we[Tt].color,sn=we[Tt+1].color;er+=V(Math.round((1-fr)*Un[0]+fr*sn[0]).toString(16))+V(Math.round((1-fr)*Un[1]+fr*sn[1]).toString(16))+V(Math.round((1-fr)*Un[2]+fr*sn[2]).toString(16))}return er.trim()})(f.colors,v),te=[];te.push({key:"FunctionType",value:"0"}),te.push({key:"Domain",value:"[0.0 1.0]"}),te.push({key:"Size",value:"["+v+"]"}),te.push({key:"BitsPerSample",value:"8"}),te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wr({data:$,additionalKeyValues:te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:M}),T("endobj"),f.objectNumber=Ut(),T("<< /ShadingType "+f.type),T("/ColorSpace /DeviceRGB");var xe="/Coords ["+G(parseFloat(f.coords[0]))+" "+G(parseFloat(f.coords[1]))+" ";f.type===2?xe+=G(parseFloat(f.coords[2]))+" "+G(parseFloat(f.coords[3])):xe+=G(parseFloat(f.coords[2]))+" "+G(parseFloat(f.coords[3]))+" "+G(parseFloat(f.coords[4]))+" "+G(parseFloat(f.coords[5])),T(xe+="]"),f.matrix&&T("/Matrix ["+f.matrix.toString()+"]"),T("/Function "+M+" 0 R"),T("/Extend [true true]"),T(">>"),T("endobj")},Xi=function(f,v){var M=cr(),$=Ut();v.push({resourcesOid:M,objectOid:$}),f.objectNumber=$;var te=[];te.push({key:"Type",value:"/Pattern"}),te.push({key:"PatternType",value:"1"}),te.push({key:"PaintType",value:"1"}),te.push({key:"TilingType",value:"1"}),te.push({key:"BBox",value:"["+f.boundingBox.map(G).join(" ")+"]"}),te.push({key:"XStep",value:G(f.xStep)}),te.push({key:"YStep",value:G(f.yStep)}),te.push({key:"Resources",value:M+" 0 R"}),f.matrix&&te.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),Wr({data:f.stream,additionalKeyValues:te,objectId:f.objectNumber}),T("endobj")},po=function(f){for(var v in f.objectNumber=Ut(),T("<<"),f)switch(v){case"opacity":T("/ca "+L(f[v]));break;case"stroke-opacity":T("/CA "+L(f[v]))}T(">>"),T("endobj")},vs=function(f){hr(f.resourcesOid,!0),T("<<"),T("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var v in T("/Font <<"),ht)ht.hasOwnProperty(v)&&(x===!1||x===!0&&w.hasOwnProperty(v))&&T("/"+v+" "+ht[v].objectNumber+" 0 R");T(">>")})(),(function(){if(Object.keys(Ge).length>0){for(var v in T("/Shading <<"),Ge)Ge.hasOwnProperty(v)&&Ge[v]instanceof Ui&&Ge[v].objectNumber>=0&&T("/"+v+" "+Ge[v].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),T(">>")}})(),(function(v){if(Object.keys(Ge).length>0){for(var M in T("/Pattern <<"),Ge)Ge.hasOwnProperty(M)&&Ge[M]instanceof g.TilingPattern&&Ge[M].objectNumber>=0&&Ge[M].objectNumber<v&&T("/"+M+" "+Ge[M].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),T(">>")}})(f.objectOid),(function(){if(Object.keys(Ke).length>0){var v;for(v in T("/ExtGState <<"),Ke)Ke.hasOwnProperty(v)&&Ke[v].objectNumber>=0&&T("/"+v+" "+Ke[v].objectNumber+" 0 R");_t.publish("putGStateDict"),T(">>")}})(),(function(){for(var v in T("/XObject <<"),br)br.hasOwnProperty(v)&&br[v].objectNumber>=0&&T("/"+v+" "+br[v].objectNumber+" 0 R");_t.publish("putXobjectDict"),T(">>")})(),T(">>"),T("endobj")},sa=function(f){ft[f.fontName]=ft[f.fontName]||{},ft[f.fontName][f.fontStyle]=f.id},aa=function(f,v,M,$,te){var xe={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:f,fontName:v,fontStyle:M,encoding:$,isStandardFont:te||!1,metadata:{}};return _t.publish("addFont",{font:xe,instance:this}),ht[xe.id]=xe,sa(xe),xe.id},Vr=g.__private__.pdfEscape=g.pdfEscape=function(f,v){return(function(M,$){var te,xe,we,Fe,Be,et,ot,wt,qt;if(we=($=$||{}).sourceEncoding||"Unicode",Be=$.outputEncoding,($.autoencode||Be)&&ht[Me].metadata&&ht[Me].metadata[we]&&ht[Me].metadata[we].encoding&&(Fe=ht[Me].metadata[we].encoding,!Be&&ht[Me].encoding&&(Be=ht[Me].encoding),!Be&&Fe.codePages&&(Be=Fe.codePages[0]),typeof Be=="string"&&(Be=Fe[Be]),Be)){for(ot=!1,et=[],te=0,xe=M.length;te<xe;te++)(wt=Be[M.charCodeAt(te)])?et.push(String.fromCharCode(wt)):et.push(M[te]),et[te].charCodeAt(0)>>8&&(ot=!0);M=et.join("")}for(te=M.length;ot===void 0&&te!==0;)M.charCodeAt(te-1)>>8&&(ot=!0),te--;if(!ot)return M;for(et=$.noBOM?[]:[254,255],te=0,xe=M.length;te<xe;te++){if((qt=(wt=M.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");et.push(qt),et.push(wt-(qt<<8))}return String.fromCharCode.apply(void 0,et)})(f,v).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ys=g.__private__.beginPage=function(f){Le[++dt]=[],Xe[dt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},la(dt),ze(Le[D])},oa=function(f,v){var M,$,te;switch(r=v||r,typeof f=="string"&&(M=S(f.toLowerCase()),Array.isArray(M)&&($=M[0],te=M[1])),Array.isArray(f)&&($=f[0]*at,te=f[1]*at),isNaN($)&&($=a[0],te=a[1]),($>14400||te>14400)&&(Et.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$=Math.min(14400,$),te=Math.min(14400,te)),a=[$,te],r.substr(0,1)){case"l":te>$&&(a=[te,$]);break;case"p":$>te&&(a=[te,$])}ys(a),tt(As),T(es),Ss!==0&&T(Ss+" J"),Ls!==0&&T(Ls+" j"),_t.publish("addPage",{pageNumber:dt})},ws=function(f){f>0&&f<=dt&&(Le.splice(f,1),Xe.splice(f,1),dt--,D>dt&&(D=dt),this.setPage(D))},la=function(f){f>0&&f<=dt&&(D=f)},ca=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Le.length-1},ua=function(f,v,M){var $,te=void 0;return M=M||{},f=f!==void 0?f:ht[Me].fontName,v=v!==void 0?v:ht[Me].fontStyle,$=f.toLowerCase(),ft[$]!==void 0&&ft[$][v]!==void 0?te=ft[$][v]:ft[f]!==void 0&&ft[f][v]!==void 0?te=ft[f][v]:M.disableWarning===!1&&Et.warn("Unable to look up font label for font '"+f+"', '"+v+"'. Refer to getFontList() for available fonts."),te||M.noFallback||(te=ft.times[v])==null&&(te=ft.times.normal),te},xn=g.__private__.putInfo=function(){var f=Ut(),v=function($){return $};for(var M in m!==null&&(v=nr.encryptor(f,0)),T("<<"),T("/Producer ("+Vr(v("jsPDF "+qe.version))+")"),gt)gt.hasOwnProperty(M)&&gt[M]&&T("/"+M.substr(0,1).toUpperCase()+M.substr(1)+" ("+Vr(v(gt[M]))+")");T("/CreationDate ("+Vr(v(K))+")"),T(">>"),T("endobj")},Zi=g.__private__.putCatalog=function(f){var v=(f=f||{}).rootDictionaryObjId||Qn;switch(Ut(),T("<<"),T("/Type /Catalog"),T("/Pages "+v+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":T("/OpenAction [3 0 R /FitH null]");break;case"fullheight":T("/OpenAction [3 0 R /FitV null]");break;case"fullpage":T("/OpenAction [3 0 R /Fit]");break;case"original":T("/OpenAction [3 0 R /XYZ null null 1]");break;default:var M=""+Ve;M.substr(M.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&T("/OpenAction [3 0 R /XYZ null null "+L(Ve)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":T("/PageLayout /OneColumn");break;case"single":T("/PageLayout /SinglePage");break;case"two":case"twoleft":T("/PageLayout /TwoColumnLeft");break;case"tworight":T("/PageLayout /TwoColumnRight")}He&&T("/PageMode /"+He),_t.publish("putCatalog"),T(">>"),T("endobj")},go=g.__private__.putTrailer=function(){T("trailer"),T("<<"),T("/Size "+(Q+1)),T("/Root "+Q+" 0 R"),T("/Info "+(Q-1)+" 0 R"),m!==null&&T("/Encrypt "+nr.oid+" 0 R"),T("/ID [ <"+re+"> <"+re+"> ]"),T(">>")},Qt=g.__private__.putHeader=function(){T("%PDF-"+C),T("%")},ha=g.__private__.putXRef=function(){var f="0000000000";T("xref"),T("0 "+(Q+1)),T("0000000000 65535 f ");for(var v=1;v<=Q;v++)typeof ie[v]=="function"?T((f+ie[v]()).slice(-10)+" 00000 n "):ie[v]!==void 0?T((f+ie[v]).slice(-10)+" 00000 n "):T("0000000000 00000 n ")},vn=g.__private__.buildDocument=function(){var f;Q=0,de=0,he=[],ie=[],fe=[],Qn=cr(),en=cr(),ze(he),_t.publish("buildDocument"),Qt(),bn(),(function(){_t.publish("putAdditionalObjects");for(var M=0;M<fe.length;M++){var $=fe[M];hr($.objId,!0),T($.content),T("endobj")}_t.publish("postPutAdditionalObjects")})(),f=[],(function(){for(var M in ht)ht.hasOwnProperty(M)&&(x===!1||x===!0&&w.hasOwnProperty(M))&&_i(ht[M])})(),(function(){var M;for(M in Ke)Ke.hasOwnProperty(M)&&po(Ke[M])})(),(function(){for(var M in br)br.hasOwnProperty(M)&&Yi(br[M])})(),(function(M){var $;for($ in Ge)Ge.hasOwnProperty($)&&(Ge[$]instanceof Ui?Ji(Ge[$]):Ge[$]instanceof fs&&Xi(Ge[$],M))})(f),_t.publish("putResources"),f.forEach(vs),vs({resourcesOid:en,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources"),m!==null&&(nr.oid=Ut(),T("<<"),T("/Filter /Standard"),T("/V "+nr.v),T("/R "+nr.r),T("/U <"+nr.toHexString(nr.U)+">"),T("/O <"+nr.toHexString(nr.O)+">"),T("/P "+nr.P),T(">>"),T("endobj")),xn(),Zi();var v=de;return ha(),go(),T("startxref"),T(""+v),T("%%EOF"),ze(Le[D]),he.join(`
`)},Ki=g.__private__.getBlob=function(f){return new Blob([ut(f)],{type:"application/pdf"})},fa=g.output=g.__private__.output=($r=function(f,v){switch(typeof(v=v||{})=="string"?v={filename:v}:v.filename=v.filename||"generated.pdf",f){case void 0:return vn();case"save":g.save(v.filename);break;case"arraybuffer":return ut(vn());case"blob":return Ki(vn());case"bloburi":case"bloburl":if(Qe.URL!==void 0&&typeof Qe.URL.createObjectURL=="function")return Qe.URL&&Qe.URL.createObjectURL(Ki(vn()))||void 0;Et.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var M="",$=vn();try{M=xu($)}catch{M=xu(unescape(encodeURIComponent($)))}return"data:application/pdf;filename="+v.filename+";base64,"+M;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';v.pdfObjectUrl&&(te=v.pdfObjectUrl,xe="");var we='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+te+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(v)+");<\/script></body></html>",Fe=Qe.open();return Fe!==null&&Fe.document.write(we),Fe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(v.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+v.filename+'" width="500px" height="400px" /></body></html>',et=Qe.open();if(et!==null){et.document.write(Be);var ot=this;et.document.documentElement.querySelector("#pdfViewer").onload=function(){et.document.title=v.filename,et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ot.output("bloburl"))}}return et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",v)+'"></iframe></body></html>',qt=Qe.open();if(qt!==null&&(qt.document.write(wt),qt.document.title=v.filename),qt||typeof safari>"u")return qt;break;case"datauri":case"dataurl":return Qe.document.location.href=this.output("datauristring",v);default:return null}},$r.foo=function(){try{return $r.apply(this,arguments)}catch(M){var f=M.stack||"";~f.indexOf(" at ")&&(f=f.split(" at ")[1]);var v="Error in function "+f.split(`
`)[0].split("<")[0]+": "+M.message;if(!Qe.console)throw new Error(v);Qe.console.error(v,M),Qe.alert&&alert(v)}},$r.foo.bar=$r,$r.foo),Yr=function(f){return Array.isArray(wi)===!0&&wi.indexOf(f)>-1};switch(n){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=Yr("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);at=n}var nr=null;ye(),J();var Fn=g.__private__.getPageInfo=g.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[f].objId,pageNumber:f,pageContext:Xe[f]}},da=g.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var v in Xe)if(Xe[v].objId===f)break;return Fn(v)},mo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Xe[D].objId,pageNumber:D,pageContext:Xe[D]}};g.addPage=function(){return oa.apply(this,arguments),this},g.setPage=function(){return la.apply(this,arguments),ze.call(this,Le[D]),this},g.insertPage=function(f){return this.addPage(),this.movePage(D,f),this},g.movePage=function(f,v){var M,$;if(f>v){M=Le[f],$=Xe[f];for(var te=f;te>v;te--)Le[te]=Le[te-1],Xe[te]=Xe[te-1];Le[v]=M,Xe[v]=$,this.setPage(v)}else if(f<v){M=Le[f],$=Xe[f];for(var xe=f;xe<v;xe++)Le[xe]=Le[xe+1],Xe[xe]=Xe[xe+1];Le[v]=M,Xe[v]=$,this.setPage(v)}return this},g.deletePage=function(){return ws.apply(this,arguments),this},g.__private__.text=g.text=function(f,v,M,$,te){var xe,we,Fe,Be,et,ot,wt,qt,er,Tt=($=$||{}).scope||this;if(typeof f=="number"&&typeof v=="number"&&(typeof M=="string"||Array.isArray(M))){var ir=M;M=v,v=f,f=ir}if(arguments[3]instanceof Ze==0?(Fe=arguments[4],Be=arguments[5],kt(wt=arguments[3])==="object"&&wt!==null||(typeof Fe=="string"&&(Be=Fe,Fe=null),typeof wt=="string"&&(Be=wt,wt=null),typeof wt=="number"&&(Fe=wt,wt=null),$={flags:wt,angle:Fe,align:Be})):(F("The transform parameter of text() with a Matrix value"),er=te),isNaN(v)||isNaN(M)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return Tt;var tr,fr="",Un=typeof $.lineHeightFactor=="number"?$.lineHeightFactor:Li,sn=Tt.internal.scaleFactor;function zn(St){return St=St.split("	").join(Array($.TabLen||9).join(" ")),Vr(St,wt)}function Ps(St){for(var Ct,Vt=St.concat(),sr=[],$n=Vt.length;$n--;)typeof(Ct=Vt.shift())=="string"?sr.push(Ct):Array.isArray(St)&&(Ct.length===1||Ct[1]===void 0&&Ct[2]===void 0)?sr.push(Ct[0]):sr.push([Ct[0],Ct[1],Ct[2]]);return sr}function rs(St,Ct){var Vt;if(typeof St=="string")Vt=Ct(St)[0];else if(Array.isArray(St)){for(var sr,$n,qs=St.concat(),ss=[],_a=qs.length;_a--;)typeof(sr=qs.shift())=="string"?ss.push(Ct(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&($n=Ct(sr[0],sr[1],sr[2]),ss.push([$n[0],$n[1],$n[2]]));Vt=ss}return Vt}var ei=!1,Pi=!0;if(typeof f=="string")ei=!0;else if(Array.isArray(f)){var Ei=f.concat();we=[];for(var ti,dr=Ei.length;dr--;)(typeof(ti=Ei.shift())!="string"||Array.isArray(ti)&&typeof ti[0]!="string")&&(Pi=!1);ei=Pi}if(ei===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Ii=_e/Tt.internal.scaleFactor,Ti=Ii*(Un-1);switch($.baseline){case"bottom":M-=Ti;break;case"top":M+=Ii-Ti;break;case"hanging":M+=Ii-2*Ti;break;case"middle":M+=Ii/2-Ti}if((ot=$.maxWidth||0)>0&&(typeof f=="string"?f=Tt.splitTextToSize(f,ot):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(St,Ct){return St.concat(Tt.splitTextToSize(Ct,ot))},[]))),xe={text:f,x:v,y:M,options:$,mutex:{pdfEscape:Vr,activeFontKey:Me,fonts:ht,activeFontSize:_e}},_t.publish("preProcessText",xe),f=xe.text,Fe=($=xe.options).angle,er instanceof Ze==0&&Fe&&typeof Fe=="number"){Fe*=Math.PI/180,$.rotationDirection===0&&(Fe=-Fe),q===W&&(Fe=-Fe);var Es=Math.cos(Fe),Is=Math.sin(Fe);er=new Ze(Es,Is,-Is,Es,0,0)}else Fe&&Fe instanceof Ze&&(er=Fe);q!==W||er||(er=Tn),(et=$.charSpace||Mn)!==void 0&&(fr+=G(z(et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qt=$.horizontalScale)!==void 0&&(fr+=G(100*qt)+` Tz
`),$.lang;var _r=-1,Hn=$.renderingMode!==void 0?$.renderingMode:$.stroke,ns=Tt.internal.getCurrentPageInfo().pageContext;switch(Hn){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var Na=ns.usedRenderingMode!==void 0?ns.usedRenderingMode:-1;_r!==-1?fr+=_r+` Tr
`:Na!==-1&&(fr+=`0 Tr
`),_r!==-1&&(ns.usedRenderingMode=_r),Be=$.align||"left";var Jr,Fi=_e*Un,Ts=Tt.internal.pageSize.getWidth(),Fs=ht[Me];et=$.charSpace||Mn,ot=$.maxWidth||0,wt=Object.assign({autoencode:!0,noBOM:!0},$.flags);var ri=[],Oi=function(St){return Tt.getStringUnitWidth(St,{font:Fs,charSpace:et,fontSize:_e,doKerning:!1})*_e/sn};if(Object.prototype.toString.call(f)==="[object Array]"){var Er;we=Ps(f),Be!=="left"&&(Jr=we.map(Oi));var Ir,ni=0;if(Be==="right"){v-=Jr[0],f=[],dr=we.length;for(var Gn=0;Gn<dr;Gn++)Gn===0?(Ir=On(v),Er=Rn(M)):(Ir=z(ni-Jr[Gn]),Er=-Fi),f.push([we[Gn],Ir,Er]),ni=Jr[Gn]}else if(Be==="center"){v-=Jr[0]/2,f=[],dr=we.length;for(var ii=0;ii<dr;ii++)ii===0?(Ir=On(v),Er=Rn(M)):(Ir=z((ni-Jr[ii])/2),Er=-Fi),f.push([we[ii],Ir,Er]),ni=Jr[ii]}else if(Be==="left"){f=[],dr=we.length;for(var Os=0;Os<dr;Os++)f.push(we[Os])}else if(Be==="justify"&&Fs.encoding==="Identity-H"){f=[],dr=we.length,ot=ot!==0?ot:Ts;for(var is=0,Wt=0;Wt<dr;Wt++)if(Er=Wt===0?Rn(M):-Fi,Ir=Wt===0?On(v):is,Wt<dr-1){var Aa=z((ot-Jr[Wt])/(we[Wt].split(" ").length-1)),wn=we[Wt].split(" ");f.push([wn[0]+" ",Ir,Er]),is=0;for(var Nn=1;Nn<wn.length;Nn++){var Rs=(Oi(wn[Nn-1]+" "+wn[Nn])-Oi(wn[Nn]))*sn+Aa;Nn==wn.length-1?f.push([wn[Nn],Rs,0]):f.push([wn[Nn]+" ",Rs,0]),is-=Rs}}else f.push([we[Wt],Ir,Er]);f.push(["",is,0])}else{if(Be!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],dr=we.length,ot=ot!==0?ot:Ts,Wt=0;Wt<dr;Wt++){Er=Wt===0?Rn(M):-Fi,Ir=Wt===0?On(v):0;var Ms=we[Wt].split(" ").length-1,Bs=Ms>0?(ot-Jr[Wt])/Ms:0;Wt<dr-1?ri.push(G(z(Bs))):ri.push(0),f.push([we[Wt],Ir,Er])}}}(typeof $.R2L=="boolean"?$.R2L:$e)===!0&&(f=rs(f,function(St,Ct,Vt){return[St.split("").reverse().join(""),Ct,Vt]})),xe={text:f,x:v,y:M,options:$,mutex:{pdfEscape:Vr,activeFontKey:Me,fonts:ht,activeFontSize:_e}},_t.publish("postProcessText",xe),f=xe.text,tr=xe.mutex.isHex||!1;var Ds=ht[Me].encoding;Ds!=="WinAnsiEncoding"&&Ds!=="StandardEncoding"||(f=rs(f,function(St,Ct,Vt){return[zn(St),Ct,Vt]})),we=Ps(f),f=[];for(var si,ai,oi,Ri=Array.isArray(we[0])?1:0,li="",Mi=function(St,Ct,Vt){var sr="";return Vt instanceof Ze?(Vt=typeof $.angle=="number"?In(Vt,new Ze(1,0,0,1,St,Ct)):In(new Ze(1,0,0,1,St,Ct),Vt),q===W&&(Vt=In(new Ze(1,0,0,-1,0,0),Vt)),sr=Vt.join(" ")+` Tm
`):sr=G(St)+" "+G(Ct)+` Td
`,sr},Xr=0;Xr<we.length;Xr++){switch(li="",Ri){case 1:oi=(tr?"<":"(")+we[Xr][0]+(tr?">":")"),si=parseFloat(we[Xr][1]),ai=parseFloat(we[Xr][2]);break;case 0:oi=(tr?"<":"(")+we[Xr]+(tr?">":")"),si=On(v),ai=Rn(M)}ri!==void 0&&ri[Xr]!==void 0&&(li=ri[Xr]+` Tw
`),Xr===0?f.push(li+Mi(si,ai,er)+oi):Ri===0?f.push(li+oi):Ri===1&&f.push(li+Mi(si,ai,er)+oi)}f=Ri===0?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var An=`BT
/`;return An+=Me+" "+_e+` Tf
`,An+=G(_e*Un)+` TL
`,An+=ji+`
`,An+=fr,An+=f,T(An+="ET"),w[Me]=!0,Tt};var bo=g.__private__.clip=g.clip=function(f){return T(f==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return bo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return T("n"),this};var yn=g.__private__.isValidStyle=function(f){var v=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(v=!0),v};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(f){return yn(f)&&(d=f),this};var pa=g.__private__.getStyle=g.getStyle=function(f){var v=d;switch(f){case"D":case"S":v="S";break;case"F":v="f";break;case"FD":case"DF":v="B";break;case"f":case"f*":case"B":case"B*":v=f}return v},ga=g.close=function(){return T("h"),this};g.stroke=function(){return T("S"),this},g.fill=function(f){return Qi("f",f),this},g.fillEvenOdd=function(f){return Qi("f*",f),this},g.fillStroke=function(f){return Qi("B",f),this},g.fillStrokeEvenOdd=function(f){return Qi("B*",f),this};var Qi=function(f,v){kt(v)==="object"?vo(v,f):T(f)},Si=function(f){f===null||q===W&&f===void 0||(f=pa(f),T(f))};function xo(f,v,M,$,te){var xe=new fs(v||this.boundingBox,M||this.xStep,$||this.yStep,this.gState,te||this.matrix);xe.stream=this.stream;var we=f+"$$"+this.cloneIndex+++"$$";return Gr(we,xe),xe}var vo=function(f,v){var M=It[f.key],$=Ge[M];if($ instanceof Ui)T("q"),T(yo(v)),$.gState&&g.setGState($.gState),T(f.matrix.toString()+" cm"),T("/"+M+" sh"),T("Q");else if($ instanceof fs){var te=new Ze(1,0,0,-1,0,Ci());f.matrix&&(te=te.multiply(f.matrix||Tn),M=xo.call($,f.key,f.boundingBox,f.xStep,f.yStep,te).id),T("q"),T("/Pattern cs"),T("/"+M+" scn"),$.gState&&g.setGState($.gState),T(v),T("Q")}},yo=function(f){switch(f){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ns=g.moveTo=function(f,v){return T(G(z(f))+" "+G(B(v))+" m"),this},ma=g.lineTo=function(f,v){return T(G(z(f))+" "+G(B(v))+" l"),this},nn=g.curveTo=function(f,v,M,$,te,xe){return T([G(z(f)),G(B(v)),G(z(M)),G(B($)),G(z(te)),G(B(xe)),"c"].join(" ")),this};g.__private__.line=g.line=function(f,v,M,$,te){if(isNaN(f)||isNaN(v)||isNaN(M)||isNaN($)||!yn(te))throw new Error("Invalid arguments passed to jsPDF.line");return q===H?this.lines([[M-f,$-v]],f,v,[1,1],te||"S"):this.lines([[M-f,$-v]],f,v,[1,1]).stroke()},g.__private__.lines=g.lines=function(f,v,M,$,te,xe){var we,Fe,Be,et,ot,wt,qt,er,Tt,ir,tr,fr;if(typeof f=="number"&&(fr=M,M=v,v=f,f=fr),$=$||[1,1],xe=xe||!1,isNaN(v)||isNaN(M)||!Array.isArray(f)||!Array.isArray($)||!yn(te)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ns(v,M),we=$[0],Fe=$[1],et=f.length,ir=v,tr=M,Be=0;Be<et;Be++)(ot=f[Be]).length===2?(ir=ot[0]*we+ir,tr=ot[1]*Fe+tr,ma(ir,tr)):(wt=ot[0]*we+ir,qt=ot[1]*Fe+tr,er=ot[2]*we+ir,Tt=ot[3]*Fe+tr,ir=ot[4]*we+ir,tr=ot[5]*Fe+tr,nn(wt,qt,er,Tt,ir,tr));return xe&&ga(),Si(te),this},g.path=function(f){for(var v=0;v<f.length;v++){var M=f[v],$=M.c;switch(M.op){case"m":Ns($[0],$[1]);break;case"l":ma($[0],$[1]);break;case"c":nn.apply(this,$);break;case"h":ga()}}return this},g.__private__.rect=g.rect=function(f,v,M,$,te){if(isNaN(f)||isNaN(v)||isNaN(M)||isNaN($)||!yn(te))throw new Error("Invalid arguments passed to jsPDF.rect");return q===H&&($=-$),T([G(z(f)),G(B(v)),G(z(M)),G(z($)),"re"].join(" ")),Si(te),this},g.__private__.triangle=g.triangle=function(f,v,M,$,te,xe,we){if(isNaN(f)||isNaN(v)||isNaN(M)||isNaN($)||isNaN(te)||isNaN(xe)||!yn(we))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[M-f,$-v],[te-M,xe-$],[f-te,v-xe]],f,v,[1,1],we,!0),this},g.__private__.roundedRect=g.roundedRect=function(f,v,M,$,te,xe,we){if(isNaN(f)||isNaN(v)||isNaN(M)||isNaN($)||isNaN(te)||isNaN(xe)||!yn(we))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fe=4/3*(Math.SQRT2-1);return te=Math.min(te,.5*M),xe=Math.min(xe,.5*$),this.lines([[M-2*te,0],[te*Fe,0,te,xe-xe*Fe,te,xe],[0,$-2*xe],[0,xe*Fe,-te*Fe,xe,-te,xe],[2*te-M,0],[-te*Fe,0,-te,-xe*Fe,-te,-xe],[0,2*xe-$],[0,-xe*Fe,te*Fe,-xe,te,-xe]],f+te,v,[1,1],we,!0),this},g.__private__.ellipse=g.ellipse=function(f,v,M,$,te){if(isNaN(f)||isNaN(v)||isNaN(M)||isNaN($)||!yn(te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*M,we=4/3*(Math.SQRT2-1)*$;return Ns(f+M,v),nn(f+M,v-we,f+xe,v-$,f,v-$),nn(f-xe,v-$,f-M,v-we,f-M,v),nn(f-M,v+we,f-xe,v+$,f,v+$),nn(f+xe,v+$,f+M,v+we,f+M,v),Si(te),this},g.__private__.circle=g.circle=function(f,v,M,$){if(isNaN(f)||isNaN(v)||isNaN(M)||!yn($))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,v,M,M,$)},g.setFont=function(f,v,M){return M&&(v=ce(v,M)),Me=ua(f,v,{disableWarning:!1}),this};var wo=g.__private__.getFont=g.getFont=function(){return ht[ua.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var f,v,M={};for(f in ft)if(ft.hasOwnProperty(f))for(v in M[f]=[],ft[f])ft[f].hasOwnProperty(v)&&M[f].push(v);return M},g.addFont=function(f,v,M,$,te){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?te=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(M=ce(M,$)),aa.call(this,f,v,M,te=te||"Identity-H")};var Li,As=t.lineWidth||.200025,No=g.__private__.getLineWidth=g.getLineWidth=function(){return As},tt=g.__private__.setLineWidth=g.setLineWidth=function(f){return As=f,T(G(z(f))+" w"),this};g.__private__.setLineDash=qe.API.setLineDash=qe.API.setLineDashPattern=function(f,v){if(f=f||[],v=v||0,isNaN(v)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(M){return G(z(M))}).join(" "),v=G(z(v)),T("["+f+"] "+v+" d"),this};var Ao=g.__private__.getLineHeight=g.getLineHeight=function(){return _e*Li};g.__private__.getLineHeight=g.getLineHeight=function(){return _e*Li};var _o=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(Li=f),this},So=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Li};_o(t.lineHeight);var On=g.__private__.getHorizontalCoordinate=function(f){return z(f)},Rn=g.__private__.getVerticalCoordinate=function(f){return q===W?f:Xe[D].mediaBox.topRightY-Xe[D].mediaBox.bottomLeftY-z(f)},Lo=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(f){return G(On(f))},jo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(f){return G(Rn(f))},es=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return mn(es)},g.__private__.setStrokeColor=g.setDrawColor=function(f,v,M,$){return es=tn({ch1:f,ch2:v,ch3:M,ch4:$,pdfColorType:"draw",precision:2}),T(es),this};var _s=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return mn(_s)},g.__private__.setFillColor=g.setFillColor=function(f,v,M,$){return _s=tn({ch1:f,ch2:v,ch3:M,ch4:$,pdfColorType:"fill",precision:2}),T(_s),this};var ji=t.textColor||"0 g",ko=g.__private__.getTextColor=g.getTextColor=function(){return mn(ji)};g.__private__.setTextColor=g.setTextColor=function(f,v,M,$){return ji=tn({ch1:f,ch2:v,ch3:M,ch4:$,pdfColorType:"text",precision:3}),this};var Mn=t.charSpace,Co=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Mn||0)};g.__private__.setCharSpace=g.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mn=f,this};var Ss=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(f){var v=g.CapJoinStyles[f];if(v===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=v,T(v+" J"),this};var Ls=0;g.__private__.setLineJoin=g.setLineJoin=function(f){var v=g.CapJoinStyles[f];if(v===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ls=v,T(v+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return T(G(z(f))+" M"),this},g.GState=oo,g.setGState=function(f){(f=typeof f=="string"?Ke[it[f]]:ba(null,f)).equals(Bt)||(T("/"+f.id+" gs"),Bt=f)};var ba=function(f,v){if(!f||!it[f]){var M=!1;for(var $ in Ke)if(Ke.hasOwnProperty($)&&Ke[$].equals(v)){M=!0;break}if(M)v=Ke[$];else{var te="GS"+(Object.keys(Ke).length+1).toString(10);Ke[te]=v,v.id=te}return f&&(it[f]=v.id),_t.publish("addGState",v),v}};g.addGState=function(f,v){return ba(f,v),this},g.saveGraphicsState=function(){return T("q"),Mt.push({key:Me,size:_e,color:ji}),this},g.restoreGraphicsState=function(){T("Q");var f=Mt.pop();return Me=f.key,_e=f.size,ji=f.color,Bt=null,this},g.setCurrentTransformationMatrix=function(f){return T(f.toString()+" cm"),this},g.comment=function(f){return T("#"+f),this};var Bn=function(f,v){var M=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return M},set:function(xe){isNaN(xe)||(M=parseFloat(xe))}});var $=v||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $},set:function(xe){isNaN(xe)||($=parseFloat(xe))}});var te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return te},set:function(xe){te=xe.toString()}}),this},js=function(f,v,M,$){Bn.call(this,f,v),this.type="rect";var te=M||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return te},set:function(we){isNaN(we)||(te=parseFloat(we))}});var xe=$||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(we){isNaN(we)||(xe=parseFloat(we))}}),this},ts=function(){this.page=dt,this.currentPage=D,this.pages=Le.slice(0),this.pagesContext=Xe.slice(0),this.x=Ue,this.y=$t,this.matrix=yt,this.width=Cs(D),this.height=va(D),this.outputDestination=Ce,this.id="",this.objectNumber=-1};ts.prototype.restore=function(){dt=this.page,D=this.currentPage,Xe=this.pagesContext,Le=this.pages,Ue=this.x,$t=this.y,yt=this.matrix,xa(D,this.width),Dn(D,this.height),Ce=this.outputDestination};var ks=function(f,v,M,$,te){gn.push(new ts),dt=D=0,Le=[],Ue=f,$t=v,yt=te,ys([M,$])};for(var ki in g.beginFormObject=function(f,v,M,$,te){return ks(f,v,M,$,te),this},g.endFormObject=function(f){return(function(v){if(En[v])gn.pop().restore();else{var M=new ts,$="Xo"+(Object.keys(br).length+1).toString(10);M.id=$,En[v]=$,br[$]=M,_t.publish("addFormObject",M),gn.pop().restore()}})(f),this},g.doFormObject=function(f,v){var M=br[En[f]];return T("q"),T(v.toString()+" cm"),T("/"+M.id+" Do"),T("Q"),this},g.getFormObject=function(f){var v=br[En[f]];return{x:v.x,y:v.y,width:v.width,height:v.height,matrix:v.matrix}},g.save=function(f,v){return f=f||"generated.pdf",(v=v||{}).returnPromise=v.returnPromise||!1,v.returnPromise===!1?(qi(Ki(vn()),f),typeof qi.unload=="function"&&Qe.setTimeout&&setTimeout(qi.unload,911),this):new Promise(function(M,$){try{var te=qi(Ki(vn()),f);typeof qi.unload=="function"&&Qe.setTimeout&&setTimeout(qi.unload,911),M(te)}catch(xe){$(xe.message)}})},qe.API)qe.API.hasOwnProperty(ki)&&(ki==="events"&&qe.API.events.length?(function(f,v){var M,$,te;for(te=v.length-1;te!==-1;te--)M=v[te][0],$=v[te][1],f.subscribe.apply(f,[M].concat(typeof $=="function"?[$]:$))})(_t,qe.API.events):g[ki]=qe.API[ki]);function Cs(f){return Xe[f].mediaBox.topRightX-Xe[f].mediaBox.bottomLeftX}function xa(f,v){Xe[f].mediaBox.topRightX=v+Xe[f].mediaBox.bottomLeftX}function va(f){return Xe[f].mediaBox.topRightY-Xe[f].mediaBox.bottomLeftY}function Dn(f,v){Xe[f].mediaBox.topRightY=v+Xe[f].mediaBox.bottomLeftY}var qn=g.getPageWidth=function(f){return Cs(f=f||D)/at},ya=g.setPageWidth=function(f,v){xa(f,v*at)},Ci=g.getPageHeight=function(f){return va(f=f||D)/at},wa=g.setPageHeight=function(f,v){Dn(f,v*at)};return g.internal={pdfEscape:Vr,getStyle:pa,getFont:wo,getFontSize:Ie,getCharSpace:Co,getTextColor:ko,getLineHeight:Ao,getLineHeightFactor:So,getLineWidth:No,write:ke,getHorizontalCoordinate:On,getVerticalCoordinate:Rn,getCoordinateString:Lo,getVerticalCoordinateString:jo,collections:{},newObject:Ut,newAdditionalObject:Ni,newObjectDeferred:cr,newObjectDeferredBegin:hr,getFilters:rn,putStream:Wr,events:_t,scaleFactor:at,pageSize:{getWidth:function(){return qn(D)},setWidth:function(f){ya(D,f)},getHeight:function(){return Ci(D)},setHeight:function(f){wa(D,f)}},encryptionOptions:m,encryption:nr,getEncryptor:function(f){return m!==null?nr.encryptor(f,0):function(v){return v}},output:fa,getNumberOfPages:ca,get pages(){return Le},out:T,f2:L,f3:E,getPageInfo:Fn,getPageInfoByObjId:da,getCurrentPageInfo:mo,getPDFVersion:k,Point:Bn,Rectangle:js,Matrix:Ze,hasHotfix:Yr},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return qn(D)},set:function(f){ya(D,f)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ci(D)},set:function(f){wa(D,f)},enumerable:!0,configurable:!0}),function(f){for(var v=0,M=We.length;v<M;v++){var $=aa.call(this,f[v][0],f[v][1],f[v][2],We[v][3],!0);x===!1&&(w[$]=!0);var te=f[v][0].split("-");sa({id:$,fontName:te[0],fontStyle:te[1]||""})}_t.publish("addFonts",{fonts:ht,dictionary:ft})}.call(g,We),Me="F1",oa(a,r),_t.publish("initialized"),g}us.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},us.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},us.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},us.prototype.processOwnerPassword=function(t,e){return Sl(_l(e).substr(0,5),t)},us.prototype.encryptor=function(t,e){var r=_l(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Sl(r,n)}},oo.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||kt(t)!==kt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},qe.API={events:[]},qe.version="4.1.0";var Gt=qe.API,Dl=1,Vi=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ls=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lo=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},rt=function(t){return t.toFixed(2)},mi=function(t){return t.toFixed(5)};Gt.__acroform__={};var Pr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Nu=function(t){return t*Dl},Sn=function(t){var e=new Ih,r=Te.internal.getHeight(t)||0,n=Te.internal.getWidth(t)||0;return e.BBox=[0,0,Number(rt(n)),Number(rt(r))],e},$1=Gt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},W1=Gt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},V1=Gt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Xt=Gt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return V1(t,e-1)},Zt=Gt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $1(t,e-1)},Kt=Gt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return W1(t,e-1)},Y1=Gt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],c=t[2],o=t[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(s+o)||0,u.upperRight_X=r(a+c)||0,u.upperRight_Y=n(s)||0,[Number(rt(u.lowerLeft_X)),Number(rt(u.lowerLeft_Y)),Number(rt(u.upperRight_X)),Number(rt(u.upperRight_Y))]},J1=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Ll(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+rt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Sn(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ll=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var s=r,c=Te.internal.getHeight(t)||0;c=c<0?-c:c;var o=Te.internal.getWidth(t)||0;o=o<0?-o:o;var u=function(L,E,z){if(L+1<a.length){var B=E+" "+a[L+1][0];return Va(B,t,z).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var d,m,x=Va("3",t,s).height,w=t.multiline?c-s:(c-x)/2,g=w+=2,C=0,k=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Va(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",H=0,W=0;W<a.length;W++)if(a.hasOwnProperty(W)){var q=!1;if(a[W].length!==1&&I!==a[W].length-1){if((x+2)*(H+2)+2>c)continue e;S+=a[W][I],q=!0,k=W,W--}else{S=(S+=a[W][I]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var le=parseInt(W),pe=u(le,S,s),ce=W>=a.length-1;if(pe&&!ce){S+=" ",I=0;continue}if(pe||ce){if(ce)k=le;else if(t.multiline&&(x+2)*(H+2)+2>c)continue e}else{if(!t.multiline||(x+2)*(H+2)+2>c)continue e;k=le}}for(var G="",F=C;F<=k;F++){var ee=a[F];if(t.multiline){if(F===k){G+=ee[I]+" ",I=(I+1)%ee.length;continue}if(F===C){G+=ee[ee.length-1]+" ";continue}}G+=ee[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,m=Va(G,t,s).width,t.textAlign){case"right":d=o-m-2;break;case"center":d=(o-m)/2;break;default:d=2}e+=rt(d)+" "+rt(g)+` Td
`,e+="("+Vi(G)+`) Tj
`,e+=-rt(d)+` 0 Td
`,g=-(s+2),m=0,C=q?k:k+1,H++,S=""}break}return n.text=e,n.fontSize=s,n},Va=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},X1={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Z1=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},K1=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(dn.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(X1)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dl=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Th,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&Z1(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var o=n[c],u=[],d=o.Rect;if(o.Rect&&(o.Rect=Y1(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Te.createDefaultAppearanceStream(o),kt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var m=J1(o);u.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(o.appearanceStreamContent){var x="";for(var w in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(w)){var g=o.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var C=g[c];typeof C=="function"&&(C=C.call(a,o)),x+="/"+c+" "+C+" ",a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C)}}else typeof(C=g)=="function"&&(C=C.call(a,o)),x+="/"+c+" "+C,a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C);x+=">>"}u.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:o.objId}),a.internal.out("endobj")}s&&(function(k,I){for(var S in k)if(k.hasOwnProperty(S)){var H=S,W=k[S];I.internal.newObjectDeferredBegin(W.objId,!0),kt(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete k[H]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Eh=Gt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(c){return c};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),kt(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?a+="/"+lo(t[s].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Vi(n(t[s].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ll=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Vi(n(t))+")"},Cn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cn.prototype.toString=function(){return this.objId+" 0 R"},Cn.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Cn.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Eh(a,this.objId,this.scope)}):a instanceof Cn?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var Ih=function(){Cn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Pr(Ih,Cn);var Th=function(){Cn.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Vi(r(t))+")"}},set:function(r){t=r}})};Pr(Th,Cn);var dn=function t(){Cn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xt(e,3)},set:function(S){S?this.F=Zt(e,3):this.F=Kt(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof co)return;s="FieldObject"+t.FieldNum++}var S=function(H){return H};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Vi(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Dl:d},set:function(S){d=S}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(S){m=S}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof co||this instanceof zi))return ll(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=S}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ur==0?ll(w,this.objId,this.scope):w},set:function(S){S=S.toString(),w=this instanceof ur==0?S.substr(0,1)==="("?ls(S.substr(1,S.length-2)):ls(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur==1?ls(w.substr(1,w.length-1)):w},set:function(S){S=S.toString(),w=this instanceof ur==1?"/"+lo(S):S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ur==0?ll(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof ur==0?S.substr(0,1)==="("?ls(S.substr(1,S.length-2)):ls(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur==1?ls(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof ur==1?"/"+lo(S):S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(S){S=!!S,k=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(S){C=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,1)},set:function(S){S?this.Ff=Zt(this.Ff,1):this.Ff=Kt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,2)},set:function(S){S?this.Ff=Zt(this.Ff,2):this.Ff=Kt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,3)},set:function(S){S?this.Ff=Zt(this.Ff,3):this.Ff=Kt(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');I=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(I){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Pr(dn,Cn);var ds=function(){dn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Eh(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(s,c,o){o||(o=1);for(var u,d=[];u=c.exec(s);)d.push(u[o]);return d})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,18)},set:function(r){r?this.Ff=Zt(this.Ff,18):this.Ff=Kt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zt(this.Ff,19):this.Ff=Kt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,20)},set:function(r){r?(this.Ff=Zt(this.Ff,20),e.sort()):this.Ff=Kt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,22)},set:function(r){r?this.Ff=Zt(this.Ff,22):this.Ff=Kt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,23)},set:function(r){r?this.Ff=Zt(this.Ff,23):this.Ff=Kt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,27)},set:function(r){r?this.Ff=Zt(this.Ff,27):this.Ff=Kt(this.Ff,27)}}),this.hasAppearanceStream=!1};Pr(ds,dn);var ps=function(){ds.call(this),this.fontName="helvetica",this.combo=!1};Pr(ps,ds);var gs=function(){ps.call(this),this.combo=!0};Pr(gs,ps);var Ka=function(){gs.call(this),this.edit=!0};Pr(Ka,gs);var ur=function(){dn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,15)},set:function(r){r?this.Ff=Zt(this.Ff,15):this.Ff=Kt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,16)},set:function(r){r?this.Ff=Zt(this.Ff,16):this.Ff=Kt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,17)},set:function(r){r?this.Ff=Zt(this.Ff,17):this.Ff=Kt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,26)},set:function(r){r?this.Ff=Zt(this.Ff,26):this.Ff=Kt(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Vi(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){kt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+lo(r)}})};Pr(ur,dn);var Qa=function(){ur.call(this),this.pushButton=!0};Pr(Qa,ur);var ms=function(){ur.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Pr(ms,ur);var co=function(){var t,e;dn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),n)c.push("/"+s+" ("+Vi(a(n[s]))+")");return c.push(">>"),c.join(`
`)},set:function(a){kt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Te.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pr(co,dn),ms.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ms.prototype.createOption=function(t){var e=new co;return e.Parent=this,e.optionName=t,this.Kids.push(e),Q1.call(this.scope,e),e};var eo=function(){ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Te.CheckBox.createAppearanceStream()};Pr(eo,ur);var zi=function(){dn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,13)},set:function(e){e?this.Ff=Zt(this.Ff,13):this.Ff=Kt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,21)},set:function(e){e?this.Ff=Zt(this.Ff,21):this.Ff=Kt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,23)},set:function(e){e?this.Ff=Zt(this.Ff,23):this.Ff=Kt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,24)},set:function(e){e?this.Ff=Zt(this.Ff,24):this.Ff=Kt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,25)},set:function(e){e?this.Ff=Zt(this.Ff,25):this.Ff=Kt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,26)},set:function(e){e?this.Ff=Zt(this.Ff,26):this.Ff=Kt(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pr(zi,dn);var to=function(){zi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,14)},set:function(t){t?this.Ff=Zt(this.Ff,14):this.Ff=Kt(this.Ff,14)}}),this.password=!0};Pr(to,zi);var Te={CheckBox:{createAppearanceStream:function(){return{N:{On:Te.CheckBox.YesNormal},D:{On:Te.CheckBox.YesPushDown,Off:Te.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Sn(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=Ll(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+rt(Te.internal.getWidth(t))+" "+rt(Te.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+rt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Sn(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=Te.internal.getHeight(t),c=Te.internal.getWidth(t),o=Ll(t,t.caption);return a.push("1 g"),a.push("0 0 "+rt(c)+" "+rt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+rt(c-1)+" "+rt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+rt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Sn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rt(Te.internal.getWidth(t))+" "+rt(Te.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Te.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Te.RadioButton.Circle.YesNormal,e.D[t]=Te.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Sn(t);e.scope=t.scope;var r=[],n=Te.internal.getWidth(t)<=Te.internal.getHeight(t)?Te.internal.getWidth(t)/4:Te.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Te.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+mi(Te.internal.getWidth(t)/2)+" "+mi(Te.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Sn(t);e.scope=t.scope;var r=[],n=Te.internal.getWidth(t)<=Te.internal.getHeight(t)?Te.internal.getWidth(t)/4:Te.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Te.internal.Bezier_C).toFixed(5)),c=Number((n*Te.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mi(Te.internal.getWidth(t)/2)+" "+mi(Te.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+mi(Te.internal.getWidth(t)/2)+" "+mi(Te.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Sn(t);e.scope=t.scope;var r=[],n=Te.internal.getWidth(t)<=Te.internal.getHeight(t)?Te.internal.getWidth(t)/4:Te.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Te.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mi(Te.internal.getWidth(t)/2)+" "+mi(Te.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Te.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Te.RadioButton.Cross.YesNormal,e.D[t]=Te.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Sn(t);e.scope=t.scope;var r=[],n=Te.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+rt(Te.internal.getWidth(t)-2)+" "+rt(Te.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(rt(n.x1.x)+" "+rt(n.x1.y)+" m"),r.push(rt(n.x2.x)+" "+rt(n.x2.y)+" l"),r.push(rt(n.x4.x)+" "+rt(n.x4.y)+" m"),r.push(rt(n.x3.x)+" "+rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Sn(t);e.scope=t.scope;var r=Te.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(Te.internal.getWidth(t))+" "+rt(Te.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+rt(Te.internal.getWidth(t)-2)+" "+rt(Te.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(rt(r.x1.x)+" "+rt(r.x1.y)+" m"),n.push(rt(r.x2.x)+" "+rt(r.x2.y)+" l"),n.push(rt(r.x4.x)+" "+rt(r.x4.y)+" m"),n.push(rt(r.x3.x)+" "+rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Sn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rt(Te.internal.getWidth(t))+" "+rt(Te.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Te.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Te.internal.getWidth(t),r=Te.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Te.internal.getWidth=function(t){var e=0;return kt(t)==="object"&&(e=Nu(t.Rect[2])),e},Te.internal.getHeight=function(t){var e=0;return kt(t)==="object"&&(e=Nu(t.Rect[3])),e};var Q1=Gt.addField=function(t){if(K1(this,t),!(t instanceof dn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gt.AcroFormChoiceField=ds,Gt.AcroFormListBox=ps,Gt.AcroFormComboBox=gs,Gt.AcroFormEditBox=Ka,Gt.AcroFormButton=ur,Gt.AcroFormPushButton=Qa,Gt.AcroFormRadioButton=ms,Gt.AcroFormCheckBox=eo,Gt.AcroFormTextField=zi,Gt.AcroFormPasswordField=to,Gt.AcroFormAppearance=Te,Gt.AcroForm={ChoiceField:ds,ListBox:ps,ComboBox:gs,EditBox:Ka,Button:ur,PushButton:Qa,RadioButton:ms,CheckBox:eo,TextField:zi,PasswordField:to,Appearance:Te},qe.AcroForm={ChoiceField:ds,ListBox:ps,ComboBox:gs,EditBox:Ka,Button:ur,PushButton:Qa,RadioButton:ms,CheckBox:eo,TextField:zi,PasswordField:to,Appearance:Te};qe.AcroForm;function Fh(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(L,E){var z,B,K,re,oe,J=r;if((E=E||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(pe(L))for(oe in n)for(K=n[oe],z=0;z<K.length;z+=1){for(re=!0,B=0;B<K[z].length;B+=1)if(K[z][B]!==void 0&&K[z][B]!==L[B]){re=!1;break}if(re===!0){J=oe;break}}else for(oe in n)for(K=n[oe],z=0;z<K.length;z+=1){for(re=!0,B=0;B<K[z].length;B+=1)if(K[z][B]!==void 0&&K[z][B]!==L.charCodeAt(B)){re=!1;break}if(re===!0){J=oe;break}}return J===r&&E!==r&&(J=E),J},s=function L(E){for(var z=this.internal.write,B=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:E.width}),re.push({key:"Height",value:E.height}),E.colorSpace===S.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===S.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var oe="",J=0,ue=E.transparency.length;J<ue;J++)oe+=E.transparency[J]+" "+E.transparency[J]+" ";re.push({key:"Mask",value:"["+oe+"]"})}E.sMask!==void 0&&re.push({key:"SMask",value:E.objectId+1+" 0 R"});var Ae=E.filter!==void 0?["/"+E.filter]:void 0;if(B({data:E.data,additionalKeyValues:re,alreadyAppliedFilters:Ae,objectId:E.objectId}),z("endobj"),"sMask"in E&&E.sMask!==void 0){var ye,A=(ye=E.sMaskBitsPerComponent)!==null&&ye!==void 0?ye:E.bitsPerComponent,D={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:E.sMask};"filter"in E&&(D.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(E.width),D.filter=E.filter),L.call(this,D)}if(E.colorSpace===S.INDEXED){var U=this.internal.newObject();B({data:G(new Uint8Array(E.palette)),objectId:U}),z("endobj")}},c=function(){var L=this.internal.collections[e+"images"];for(var E in L)s.call(this,L[E])},o=function(){var L,E=this.internal.collections[e+"images"],z=this.internal.write;for(var B in E)z("/I"+(L=E[B]).index,L.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var L=this.internal.collections[e+"images"];return u.call(this),L},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(L){return typeof t["process"+L.toUpperCase()]=="function"},w=function(L){return kt(L)==="object"&&L.nodeType===1},g=function(L,E){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var z=""+L.getAttribute("src");if(z.indexOf("data:image/")===0)return Za(unescape(z).split("base64,").pop());var B=t.loadFile(z,!0);if(B!==void 0)return B}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var K;switch(E){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return Za(L.toDataURL(K,1).split("base64,").pop())}},C=function(L){var E=this.internal.collections[e+"images"];if(E){for(var z in E)if(L===E[z].alias)return E[z]}},k=function(L,E,z){return L||E||(L=-96,E=-96),L<0&&(L=-1*z.width*72/L/this.internal.scaleFactor),E<0&&(E=-1*z.height*72/E/this.internal.scaleFactor),L===0&&(L=E*z.width/z.height),E===0&&(E=L*z.height/z.width),[L,E]},I=function(L,E,z,B,K,re){var oe=k.call(this,z,B,K),J=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,Ae=d.call(this);if(z=oe[0],B=oe[1],Ae[K.index]=K,re){re*=Math.PI/180;var ye=Math.cos(re),A=Math.sin(re),D=function(V){return V.toFixed(4)},U=[D(ye),D(A),D(-1*A),D(ye),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,J(L),ue(E+B),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([J(z),"0","0",J(B),"0","0","cm"].join(" "))):this.internal.write([J(z),"0","0",J(B),J(L),ue(E+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var H=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=t.__addimage__.sHashCode=function(L){var E,z,B=0;if(typeof L=="string")for(z=L.length,E=0;E<z;E++)B=(B<<5)-B+L.charCodeAt(E),B|=0;else if(pe(L))for(z=L.byteLength/2,E=0;E<z;E++)B=(B<<5)-B+L[E],B|=0;return B},q=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var E=!0;return L.length===0&&(E=!1),L.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(E=!1),E},le=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var E=L.indexOf(",");return E<0?null:L.substring(0,E).trim().endsWith("base64")?L.substring(E+1):null};t.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var pe=t.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},ce=t.__addimage__.binaryStringToUint8Array=function(L){for(var E=L.length,z=new Uint8Array(E),B=0;B<E;B++)z[B]=L.charCodeAt(B);return z},G=t.__addimage__.arrayBufferToBinaryString=function(L){for(var E="",z=pe(L)?L:new Uint8Array(L),B=0;B<z.length;B+=8192)E+=String.fromCharCode.apply(null,z.subarray(B,B+8192));return E};t.addImage=function(){var L,E,z,B,K,re,oe,J,ue;if(typeof arguments[1]=="number"?(E=r,z=arguments[1],B=arguments[2],K=arguments[3],re=arguments[4],oe=arguments[5],J=arguments[6],ue=arguments[7]):(E=arguments[1],z=arguments[2],B=arguments[3],K=arguments[4],re=arguments[5],oe=arguments[6],J=arguments[7],ue=arguments[8]),kt(L=arguments[0])==="object"&&!w(L)&&"imageData"in L){var Ae=L;L=Ae.imageData,E=Ae.format||E||r,z=Ae.x||z||0,B=Ae.y||B||0,K=Ae.w||Ae.width||K,re=Ae.h||Ae.height||re,oe=Ae.alias||oe,J=Ae.compression||J,ue=Ae.rotation||Ae.angle||ue}var ye=this.internal.getFilters();if(J===void 0&&ye.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(z)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var A=F.call(this,L,E,oe,J);return I.call(this,z,B,K,re,A,ue),this};var F=function(L,E,z,B){var K,re,oe;if(typeof L=="string"&&a(L)===r){L=unescape(L);var J=ee(L,!1);(J!==""||(J=t.loadFile(L,!0))!==void 0)&&(L=J)}if(w(L)&&(L=g(L,E)),E=a(L,E),!x(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((oe=z)==null||oe.length===0)&&(z=(function(ue){return typeof ue=="string"||pe(ue)?W(ue):pe(ue.data)?W(ue.data):null})(L)),(K=C.call(this,z))||(L instanceof Uint8Array||E==="RGBA"||(re=L,L=ce(L)),K=this["process"+E.toUpperCase()](L,m.call(this),z,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:H.NONE})(B),re)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},ee=t.__addimage__.convertBase64ToBinaryString=function(L,E){E=typeof E!="boolean"||E;var z,B="";if(typeof L=="string"){var K;z=(K=le(L))!==null&&K!==void 0?K:L;try{B=Za(z)}catch(re){if(E)throw q(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};t.getImageProperties=function(L){var E,z,B="";if(w(L)&&(L=g(L)),typeof L=="string"&&a(L)===r&&((B=ee(L,!1))===""&&(B=t.loadFile(L)||""),L=B),z=a(L),!x(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(L instanceof Uint8Array||(L=ce(L)),!(E=this["process"+z.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=z,E}})(qe.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};qe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,c=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,m=!1,x=0;x<d.length&&!m;x++)switch((n=d[x]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){n=d[w];var g=this.internal.pdfEscape,C=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(k.objId),H=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(S(H))+") >>",k.content=s;var W=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+W,n.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(k.objId,"0 R",I.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+o(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var q=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(C(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var le=this.annotations._nameMap[n.options.name];n.options.pageNumber=le.page,n.options.top=le.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(C(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var pe=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+pe+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,c){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:d(n),w:u(r+a),h:d(n+s)},options:c,type:"link"})},t.textWithLink=function(r,n,a,s){var c,o,u=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var m=this.splitTextToSize(r,o).length;c=Math.ceil(d*m)}else o=u,c=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,a-d,o,c,s),u},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(qe.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},o=t.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&a.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var m=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&s(k)&&e[k.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(k){var I=0,S=r,H="",W=0;for(I=0;I<k.length;I+=1)S[k.charCodeAt(I)]!==void 0?(W++,typeof(S=S[k.charCodeAt(I)])=="number"&&(H+=String.fromCharCode(S),S=r,W=0),I===k.length-1&&(S=r,H+=k.charAt(I-(W-1)),I-=W-1,W=0)):(S=r,H+=k.charAt(I-W),I-=W,W=0);return H};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(k,I,S){return c(k)?s(k)===!1?-1:!d(k)||!c(I)&&!c(S)||!c(S)&&o(I)||o(k)&&!c(I)||o(k)&&u(I)||o(k)&&o(I)?0:m(k)&&c(I)&&!o(I)&&c(S)&&d(S)?3:o(k)||!c(S)?1:2:-1},g=function(k){var I=0,S=0,H=0,W="",q="",le="",pe=(k=k||"").split("\\s+"),ce=[];for(I=0;I<pe.length;I+=1){for(ce.push(""),S=0;S<pe[I].length;S+=1)W=pe[I][S],q=pe[I][S-1],le=pe[I][S+1],c(W)?(H=w(W,q,le),ce[I]+=H!==-1?String.fromCharCode(e[W.charCodeAt(0)][H]):W):ce[I]+=W;ce[I]=x(ce[I])}return ce.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var k,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(I)){var H=0;for(S=[],H=0;H<I.length;H+=1)Array.isArray(I[H])?S.push([g(I[H][0]),I[H][1],I[H][2]]):S.push([g(I[H])]);k=S}else k=g(I);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",C])})(qe.API),qe.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(o){c=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(qe.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(k){C=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,d){n.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),x=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,g=0,C=0,k=0,I=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=d.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(W,q){return W.concat(I.splitTextToSize(q,S))},[])):u=Array.isArray(u)?u:[u];for(var H=0;H<u.length;H++)g<(k=this.getStringUnitWidth(u[H],{font:x})*m)&&(g=k);return g!==0&&(C=u.length),{w:g/=w,h:Math.max((C*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=x.top,g&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};t.table=function(u,d,m,x,w){if(n.call(this),!m)throw new Error("No data for PDF table.");var g,C,k,I,S=[],H=[],W=[],q={},le={},pe=[],ce=[],G=(w=w||{}).autoSize||!1,F=w.printHeaders!==!1,ee=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,L=w.margins||Object.assign({width:this.getPageWidth()},e),E=typeof w.padding=="number"?w.padding:3,z=w.headerBackgroundColor||"#c8c8c8",B=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=B,this.setFontSize(ee),x==null)H=S=Object.keys(m[0]),W=S.map(function(){return"left"});else if(Array.isArray(x)&&kt(x[0])==="object")for(S=x.map(function(Ae){return Ae.name}),H=x.map(function(Ae){return Ae.prompt||Ae.name||""}),W=x.map(function(Ae){return Ae.align||"left"}),g=0;g<x.length;g+=1)le[x[g].name]=.7499990551181103*x[g].width;else Array.isArray(x)&&typeof x[0]=="string"&&(H=S=x,W=S.map(function(){return"left"}));if(G||Array.isArray(x)&&typeof x[0]=="string")for(g=0;g<S.length;g+=1){for(q[I=S[g]]=m.map(function(Ae){return Ae[I]}),this.setFont(void 0,"bold"),pe.push(this.getTextDimensions(H[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=q[I],this.setFont(void 0,"normal"),k=0;k<C.length;k+=1)pe.push(this.getTextDimensions(C[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[I]=Math.max.apply(null,pe)+E+E,pe=[]}if(F){var K={};for(g=0;g<S.length;g+=1)K[S[g]]={},K[S[g]].text=H[g],K[S[g]].align=W[g];var re=o.call(this,K,le);ce=S.map(function(Ae){return new s(u,d,le[Ae],re,K[Ae].text,void 0,K[Ae].align)}),this.setTableHeaderRow(ce),this.printHeaderRow(1,!1)}var oe=x.reduce(function(Ae,ye){return Ae[ye.name]=ye.align,Ae},{});for(g=0;g<m.length;g+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:g,data:m[g]},this);var J=o.call(this,m[g],le);for(k=0;k<S.length;k+=1){var ue=m[g][S[k]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:g,col:k,data:ue},this),c.call(this,new s(u,d,le[S[k]],J,ue,g+2,oe[S[k]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var o=function(u,d){var m=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(g){var C=u[g];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,d[g]-m-m)},this).map(function(g){return this.getLineHeightFactor()*g.length*x/w+m+m},this).reduce(function(g,C){return Math.max(g,C)},0)};t.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){m=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=u;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(C)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),r=!1}})(qe.API);var Oh={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rh=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jl=Fh(Rh),Mh=[100,200,300,400,500,600,700,800,900],e2=Fh(Mh);function cl(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return Oh[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),a=(function(s){return typeof jl[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Au(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var t2={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_u={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Su(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Lu(t){return t.trimLeft()}function r2(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function n2(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var cs,Ya,ju,ku,Cu,ul=["times"];function Pu(t,e,r,n,a){var s=4,c=Iu;switch(a){case qe.API.image_compression.FAST:s=1,c=Eu;break;case qe.API.image_compression.MEDIUM:s=6,c=Tu;break;case qe.API.image_compression.SLOW:s=9,c=Fu}t=(function(u,d,m,x){for(var w,g=u.length/d,C=new Uint8Array(u.length+g),k=[i2,Eu,Iu,Tu,Fu],I=0;I<g;I+=1){var S=I*d,H=u.subarray(S,S+d);if(x)C.set(x(H,m,w),S+I);else{for(var W=k.length,q=[],le=0;le<W;le+=1)q[le]=k[le](H,m,w);var pe=a2(q.concat());C.set(q[pe],S+I)}w=H}return C})(t,e,Math.ceil(r*n/8),c);var o=yl(t,{level:s});return qe.API.__addimage__.arrayBufferToBinaryString(o)}function i2(t){var e=Array.apply([],t);return e.unshift(0),e}function Eu(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=t[a-e]||0;n[a+1]=t[a]-s+256&255}return n}function Iu(t,e,r){var n=t.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var c=r&&r[s]||0;a[s+1]=t[s]-c+256&255}return a}function Tu(t,e,r){var n=t.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var c=t[s-e]||0,o=r&&r[s]||0;a[s+1]=t[s]+256-(c+o>>>1)&255}return a}function Fu(t,e,r){var n=t.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var c=s2(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);a[s+1]=t[s]-c+256&255}return a}function s2(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=a&&n<=s?t:a<=s?e:r}function a2(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function hl(t,e,r){var n=e*r,a=Math.floor(n/8),s=16-(n-8*a+r),c=(1<<r)-1;return Bh(t,a)>>s&c}function Ou(t,e,r,n){var a=r*n,s=Math.floor(a/8),c=16-(a-8*s+n),o=(1<<n)-1,u=(e&o)<<c;(function(d,m,x){if(m+1<d.byteLength)d.setUint16(m,x,!1);else{var w=x>>8&255;d.setUint8(m,w)}})(t,s,Bh(t,s)&~(o<<c)&65535|u)}function Bh(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function o2(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,c=1<<1+(7&a);t[e++],t[e++];var o=null,u=null;s&&(o=e,u=c,e+=3*c);var d=!0,m=[],x=0,w=null,g=0,C=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];x=t[e++]|t[e++]<<8,w=t[e++],1&k||(w=null),g=k>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var I=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,H=t[e++]|t[e++]<<8,W=t[e++]|t[e++]<<8,q=t[e++],le=q>>6&1,pe=1<<1+(7&q),ce=o,G=u,F=!1;q>>7&&(F=!0,ce=e,G=pe,e+=3*pe);var ee=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}m.push({x:I,y:S,width:H,height:W,has_local_palette:F,palette_offset:ce,palette_size:G,data_offset:ee,data_length:e-ee,transparent_index:w,interlaced:!!le,delay:x,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return C},this.frameInfo=function(E){if(E<0||E>=m.length)throw new Error("Frame index out of range.");return m[E]},this.decodeAndBlitFrameBGRA=function(E,z){var B=this.frameInfo(E),K=B.width*B.height,re=new Uint8Array(K);Ru(t,B.data_offset,re,K);var oe=B.palette_offset,J=B.transparent_index;J===null&&(J=256);var ue=B.width,Ae=r-ue,ye=ue,A=4*(B.y*r+B.x),D=4*((B.y+B.height)*r+B.x),U=A,V=4*Ae;B.interlaced===!0&&(V+=4*r*7);for(var Q=8,ie=0,he=re.length;ie<he;++ie){var de=re[ie];if(ye===0&&(ye=ue,(U+=V)>=D&&(V=4*Ae+4*r*(Q-1),U=A+(ue+Ae)*(Q<<1),Q>>=1)),de===J)U+=4;else{var fe=t[oe+3*de],Le=t[oe+3*de+1],Pe=t[oe+3*de+2];z[U++]=Pe,z[U++]=Le,z[U++]=fe,z[U++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(E,z){var B=this.frameInfo(E),K=B.width*B.height,re=new Uint8Array(K);Ru(t,B.data_offset,re,K);var oe=B.palette_offset,J=B.transparent_index;J===null&&(J=256);var ue=B.width,Ae=r-ue,ye=ue,A=4*(B.y*r+B.x),D=4*((B.y+B.height)*r+B.x),U=A,V=4*Ae;B.interlaced===!0&&(V+=4*r*7);for(var Q=8,ie=0,he=re.length;ie<he;++ie){var de=re[ie];if(ye===0&&(ye=ue,(U+=V)>=D&&(V=4*Ae+4*r*(Q-1),U=A+(ue+Ae)*(Q<<1),Q>>=1)),de===J)U+=4;else{var fe=t[oe+3*de],Le=t[oe+3*de+1],Pe=t[oe+3*de+2];z[U++]=fe,z[U++]=Le,z[U++]=Pe,z[U++]=255}--ye}}}function Ru(t,e,r,n){for(var a=t[e++],s=1<<a,c=s+1,o=c+1,u=a+1,d=(1<<u)-1,m=0,x=0,w=0,g=t[e++],C=new Int32Array(4096),k=null;;){for(;m<16&&g!==0;)x|=t[e++]<<m,m+=8,g===1?g=t[e++]:--g;if(m<u)break;var I=x&d;if(x>>=u,m-=u,I!==s){if(I===c)break;for(var S=I<o?I:k,H=0,W=S;W>s;)W=C[W]>>8,++H;var q=W;if(w+H+(S!==I?1:0)>n)return void Et.log("Warning, gif stream longer than expected.");r[w++]=q;var le=w+=H;for(S!==I&&(r[w++]=q),W=S;H--;)W=C[W],r[--le]=255&W,W>>=8;k!==null&&o<4096&&(C[o++]=k<<8|q,o>=d+1&&u<12&&(++u,d=d<<1|1)),k=I}else o=c+1,d=(1<<(u=a+1))-1,k=null}return w!==n&&Et.log("Warning, gif stream shorter than expected."),r}function fl(t){var e,r,n,a,s,c=Math.floor,o=new Array(64),u=new Array(64),d=new Array(64),m=new Array(64),x=new Array(65535),w=new Array(65535),g=new Array(64),C=new Array(64),k=[],I=0,S=7,H=new Array(64),W=new Array(64),q=new Array(64),le=new Array(256),pe=new Array(2048),ce=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(A,D){for(var U=0,V=0,Q=new Array,ie=1;ie<=16;ie++){for(var he=1;he<=A[ie];he++)Q[D[V]]=[],Q[D[V]][0]=U,Q[D[V]][1]=ie,V++,U++;U*=2}return Q}function oe(A){for(var D=A[0],U=A[1]-1;U>=0;)D&1<<U&&(I|=1<<S),U--,--S<0&&(I==255?(J(255),J(0)):J(I),S=7,I=0)}function J(A){k.push(A)}function ue(A){J(A>>8&255),J(255&A)}function Ae(A,D,U,V,Q){for(var ie,he=Q[0],de=Q[240],fe=(function(_e,Ve){var Ie,$e,He,At,pt,nt,mt,gt,Me,at,Ue=0;for(Me=0;Me<8;++Me){Ie=_e[Ue],$e=_e[Ue+1],He=_e[Ue+2],At=_e[Ue+3],pt=_e[Ue+4],nt=_e[Ue+5],mt=_e[Ue+6];var $t=Ie+(gt=_e[Ue+7]),yt=Ie-gt,ht=$e+mt,ft=$e-mt,Mt=He+nt,Ge=He-nt,It=At+pt,Ke=At-pt,it=$t+It,Bt=$t-It,dt=ht+Mt,Xe=ht-Mt;_e[Ue]=it+dt,_e[Ue+4]=it-dt;var _t=.707106781*(Xe+Bt);_e[Ue+2]=Bt+_t,_e[Ue+6]=Bt-_t;var wi=.382683433*((it=Ke+Ge)-(Xe=ft+yt)),br=.5411961*it+wi,En=1.306562965*Xe+wi,gn=.707106781*(dt=Ge+ft),Ze=yt+gn,In=yt-gn;_e[Ue+5]=In+br,_e[Ue+3]=In-br,_e[Ue+1]=Ze+En,_e[Ue+7]=Ze-En,Ue+=8}for(Ue=0,Me=0;Me<8;++Me){Ie=_e[Ue],$e=_e[Ue+8],He=_e[Ue+16],At=_e[Ue+24],pt=_e[Ue+32],nt=_e[Ue+40],mt=_e[Ue+48];var Tn=Ie+(gt=_e[Ue+56]),Gr=Ie-gt,$r=$e+mt,Ut=$e-mt,cr=He+nt,hr=He-nt,Ni=At+pt,Qn=At-pt,en=Tn+Ni,mn=Tn-Ni,tn=$r+cr,rn=$r-cr;_e[Ue]=en+tn,_e[Ue+32]=en-tn;var Wr=.707106781*(rn+mn);_e[Ue+16]=mn+Wr,_e[Ue+48]=mn-Wr;var Ai=.382683433*((en=Qn+hr)-(rn=Ut+Gr)),bn=.5411961*en+Ai,_i=1.306562965*rn+Ai,Yi=.707106781*(tn=hr+Ut),Ji=Gr+Yi,Xi=Gr-Yi;_e[Ue+40]=Xi+bn,_e[Ue+24]=Xi-bn,_e[Ue+8]=Ji+_i,_e[Ue+56]=Ji-_i,Ue++}for(Me=0;Me<64;++Me)at=_e[Me]*Ve[Me],g[Me]=at>0?at+.5|0:at-.5|0;return g})(A,D),Le=0;Le<64;++Le)C[ce[Le]]=fe[Le];var Pe=C[0]-U;U=C[0],Pe==0?oe(V[0]):(oe(V[w[ie=32767+Pe]]),oe(x[ie]));for(var Ce=63;Ce>0&&C[Ce]==0;)Ce--;if(Ce==0)return oe(he),U;for(var ze,T=1;T<=Ce;){for(var ke=T;C[T]==0&&T<=Ce;)++T;var ut=T-ke;if(ut>=16){ze=ut>>4;for(var We=1;We<=ze;++We)oe(de);ut&=15}ie=32767+C[T],oe(Q[(ut<<4)+w[ie]]),oe(x[ie]),T++}return Ce!=63&&oe(he),U}function ye(A){A=Math.min(Math.max(A,1),100),s!=A&&((function(D){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var Q=c((U[V]*D+50)/100);Q=Math.min(Math.max(Q,1),255),o[ce[V]]=Q}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var de=c((ie[he]*D+50)/100);de=Math.min(Math.max(de,1),255),u[ce[he]]=de}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Pe=0;Pe<8;Pe++)for(var Ce=0;Ce<8;Ce++)d[Le]=1/(o[ce[Le]]*fe[Pe]*fe[Ce]*8),m[Le]=1/(u[ce[Le]]*fe[Pe]*fe[Ce]*8),Le++})(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,D){D&&ye(D),k=new Array,I=0,S=7,ue(65496),ue(65504),ue(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ue(1),ue(1),J(0),J(0),(function(){ue(65499),ue(132),J(0);for(var $e=0;$e<64;$e++)J(o[$e]);J(1);for(var He=0;He<64;He++)J(u[He])})(),(function($e,He){ue(65472),ue(17),J(8),ue(He),ue($e),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(A.width,A.height),(function(){ue(65476),ue(418),J(0);for(var $e=0;$e<16;$e++)J(G[$e+1]);for(var He=0;He<=11;He++)J(F[He]);J(16);for(var At=0;At<16;At++)J(ee[At+1]);for(var pt=0;pt<=161;pt++)J(L[pt]);J(1);for(var nt=0;nt<16;nt++)J(E[nt+1]);for(var mt=0;mt<=11;mt++)J(z[mt]);J(17);for(var gt=0;gt<16;gt++)J(B[gt+1]);for(var Me=0;Me<=161;Me++)J(K[Me])})(),ue(65498),ue(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var U=0,V=0,Q=0;I=0,S=7,this.encode.displayName="_encode_";for(var ie,he,de,fe,Le,Pe,Ce,ze,T,ke=A.data,ut=A.width,We=A.height,_e=4*ut,Ve=0;Ve<We;){for(ie=0;ie<_e;){for(Le=_e*Ve+ie,Ce=-1,ze=0,T=0;T<64;T++)Pe=Le+(ze=T>>3)*_e+(Ce=4*(7&T)),Ve+ze>=We&&(Pe-=_e*(Ve+1+ze-We)),ie+Ce>=_e&&(Pe-=ie+Ce-_e+4),he=ke[Pe++],de=ke[Pe++],fe=ke[Pe++],H[T]=(pe[he]+pe[de+256|0]+pe[fe+512|0]>>16)-128,W[T]=(pe[he+768|0]+pe[de+1024|0]+pe[fe+1280|0]>>16)-128,q[T]=(pe[he+1280|0]+pe[de+1536|0]+pe[fe+1792|0]>>16)-128;U=Ae(H,d,U,e,n),V=Ae(W,m,V,r,a),Q=Ae(q,m,Q,r,a),ie+=32}Ve+=8}if(S>=0){var Ie=[];Ie[1]=S+1,Ie[0]=(1<<S+1)-1,oe(Ie)}return ue(65497),new Uint8Array(k)},t=t||50,(function(){for(var A=String.fromCharCode,D=0;D<256;D++)le[D]=A(D)})(),e=re(G,F),r=re(E,z),n=re(ee,L),a=re(B,K),(function(){for(var A=1,D=2,U=1;U<=15;U++){for(var V=A;V<D;V++)w[32767+V]=U,x[32767+V]=[],x[32767+V][1]=U,x[32767+V][0]=V;for(var Q=-(D-1);Q<=-A;Q++)w[32767+Q]=U,x[32767+Q]=[],x[32767+Q][1]=U,x[32767+Q][0]=D-1+Q;A<<=1,D<<=1}})(),(function(){for(var A=0;A<256;A++)pe[A]=19595*A,pe[A+256|0]=38470*A,pe[A+512|0]=7471*A+32768,pe[A+768|0]=-11059*A,pe[A+1024|0]=-21709*A,pe[A+1280|0]=32768*A+8421375,pe[A+1536|0]=-27439*A,pe[A+1792|0]=-5329*A})(),ye(t)}function cn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Mu(t){function e(F){if(!F)throw Error("assert :P")}function r(F,ee,L){for(var E=0;4>E;E++)if(F[ee+E]!=L.charCodeAt(E))return!0;return!1}function n(F,ee,L,E,z){for(var B=0;B<z;B++)F[ee+B]=L[E+B]}function a(F,ee,L,E){for(var z=0;z<E;z++)F[ee+z]=L}function s(F){return new Int32Array(F)}function c(F,ee){for(var L=[],E=0;E<F;E++)L.push(new ee);return L}function o(F,ee){var L=[];return(function E(z,B,K){for(var re=K[B],oe=0;oe<re&&(z.push(K.length>B+1?[]:new ee),!(K.length<B+1));oe++)E(z[oe],B+1,K)})(L,0,F),L}var u=function(){var F=this;function ee(i,l){for(var p=1<<l-1>>>0;i&p;)p>>>=1;return p?(i&p-1)+p:i}function L(i,l,p,b,y){e(!(b%p));do i[l+(b-=p)]=y;while(0<b)}function E(i,l,p,b,y){if(e(2328>=y),512>=y)var N=s(512);else if((N=s(y))==null)return 0;return(function(_,j,P,O,Y,ae){var R,Z,ne=j,ge=1<<P,se=s(16),be=s(16);for(e(Y!=0),e(O!=null),e(_!=null),e(0<P),Z=0;Z<Y;++Z){if(15<O[Z])return 0;++se[O[Z]]}if(se[0]==Y)return 0;for(be[1]=0,R=1;15>R;++R){if(se[R]>1<<R)return 0;be[R+1]=be[R]+se[R]}for(Z=0;Z<Y;++Z)R=O[Z],0<O[Z]&&(ae[be[R]++]=Z);if(be[15]==1)return(O=new z).g=0,O.value=ae[0],L(_,ne,1,ge,O),ge;var ve,Se=-1,Ne=ge-1,De=0,Ee=1,lt=1,Oe=1<<P;for(Z=0,R=1,Y=2;R<=P;++R,Y<<=1){if(Ee+=lt<<=1,0>(lt-=se[R]))return 0;for(;0<se[R];--se[R])(O=new z).g=R,O.value=ae[Z++],L(_,ne+De,Y,Oe,O),De=ee(De,R)}for(R=P+1,Y=2;15>=R;++R,Y<<=1){if(Ee+=lt<<=1,0>(lt-=se[R]))return 0;for(;0<se[R];--se[R]){if(O=new z,(De&Ne)!=Se){for(ne+=Oe,ve=1<<(Se=R)-P;15>Se&&!(0>=(ve-=se[Se]));)++Se,ve<<=1;ge+=Oe=1<<(ve=Se-P),_[j+(Se=De&Ne)].g=ve+P,_[j+Se].value=ne-j-Se}O.g=R-P,O.value=ae[Z++],L(_,ne+(De>>P),Y,Oe,O),De=ee(De,R)}}return Ee!=2*be[15]-1?0:ge})(i,l,p,b,y,N)}function z(){this.value=this.g=0}function B(){this.value=this.g=0}function K(){this.G=c(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Oi,B)}function re(i,l,p,b){e(i!=null),e(l!=null),e(2147483648>b),i.Ca=254,i.I=0,i.b=-8,i.Ka=0,i.oa=l,i.pa=p,i.Jd=l,i.Yc=p+b,i.Zc=4<=b?p+b-4+1:p,he(i)}function oe(i,l){for(var p=0;0<l--;)p|=fe(i,128)<<l;return p}function J(i,l){var p=oe(i,l);return de(i)?-p:p}function ue(i,l,p,b){var y,N=0;for(e(i!=null),e(l!=null),e(4294967288>b),i.Sb=b,i.Ra=0,i.u=0,i.h=0,4<b&&(b=4),y=0;y<b;++y)N+=l[p+y]<<8*y;i.Ra=N,i.bb=b,i.oa=l,i.pa=p}function Ae(i){for(;8<=i.u&&i.bb<i.Sb;)i.Ra>>>=8,i.Ra+=i.oa[i.pa+i.bb]<<ni-8>>>0,++i.bb,i.u-=8;V(i)&&(i.h=1,i.u=0)}function ye(i,l){if(e(0<=l),!i.h&&l<=Ir){var p=U(i)&Er[l];return i.u+=l,Ae(i),p}return i.h=1,i.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(i){return i.Ra>>>(i.u&ni-1)>>>0}function V(i){return e(i.bb<=i.Sb),i.h||i.bb==i.Sb&&i.u>ni}function Q(i,l){i.u=l,i.h=V(i)}function ie(i){i.u>=Gn&&(e(i.u>=Gn),Ae(i))}function he(i){e(i!=null&&i.oa!=null),i.pa<i.Zc?(i.I=(i.oa[i.pa++]|i.I<<8)>>>0,i.b+=8):(e(i!=null&&i.oa!=null),i.pa<i.Yc?(i.b+=8,i.I=i.oa[i.pa++]|i.I<<8):i.Ka?i.b=0:(i.I<<=8,i.b+=8,i.Ka=1))}function de(i){return oe(i,1)}function fe(i,l){var p=i.Ca;0>i.b&&he(i);var b=i.b,y=p*l>>>8,N=(i.I>>>b>y)+0;for(N?(p-=y,i.I-=y+1<<b>>>0):p=y+1,b=p,y=0;256<=b;)y+=8,b>>=8;return b=7^y+ii[b],i.b-=b,i.Ca=(p<<b)-1,N}function Le(i,l,p){i[l+0]=p>>24&255,i[l+1]=p>>16&255,i[l+2]=p>>8&255,i[l+3]=255&p}function Pe(i,l){return i[l+0]|i[l+1]<<8}function Ce(i,l){return Pe(i,l)|i[l+2]<<16}function ze(i,l){return Pe(i,l)|Pe(i,l+2)<<16}function T(i,l){var p=1<<l;return e(i!=null),e(0<l),i.X=s(p),i.X==null?0:(i.Mb=32-l,i.Xa=l,1)}function ke(i,l){e(i!=null),e(l!=null),e(i.Xa==l.Xa),n(l.X,0,i.X,0,1<<l.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function We(i,l,p,b){e(p!=null),e(b!=null);var y=p[0],N=b[0];return y==0&&(y=(i*N+l/2)/l),N==0&&(N=(l*y+i/2)/i),0>=y||0>=N?0:(p[0]=y,b[0]=N,1)}function _e(i,l){return i+(1<<l)-1>>>l}function Ve(i,l){return((4278255360&i)+(4278255360&l)>>>0&4278255360)+((16711935&i)+(16711935&l)>>>0&16711935)>>>0}function Ie(i,l){F[l]=function(p,b,y,N,_,j,P){var O;for(O=0;O<_;++O){var Y=F[i](j[P+O-1],y,N+O);j[P+O]=Ve(p[b+O],Y)}}}function $e(){this.ud=this.hd=this.jd=0}function He(i,l){return((4278124286&(i^l))>>>1)+(i&l)>>>0}function At(i){return 0<=i&&256>i?i:0>i?0:255<i?255:void 0}function pt(i,l){return At(i+(i-l+.5>>1))}function nt(i,l,p){return Math.abs(l-p)-Math.abs(i-p)}function mt(i,l,p,b,y,N,_){for(b=N[_-1],p=0;p<y;++p)N[_+p]=b=Ve(i[l+p],b)}function gt(i,l,p,b,y){var N;for(N=0;N<p;++N){var _=i[l+N],j=_>>8&255,P=16711935&(P=(P=16711935&_)+((j<<16)+j));b[y+N]=(4278255360&_)+P>>>0}}function Me(i,l){l.jd=255&i,l.hd=i>>8&255,l.ud=i>>16&255}function at(i,l,p,b,y,N){var _;for(_=0;_<b;++_){var j=l[p+_],P=j>>>8,O=j,Y=255&(Y=(Y=j>>>16)+((i.jd<<24>>24)*(P<<24>>24)>>>5));O=255&(O=(O+=(i.hd<<24>>24)*(P<<24>>24)>>>5)+((i.ud<<24>>24)*(Y<<24>>24)>>>5)),y[N+_]=(4278255360&j)+(Y<<16)+O}}function Ue(i,l,p,b,y){F[l]=function(N,_,j,P,O,Y,ae,R,Z){for(P=ae;P<R;++P)for(ae=0;ae<Z;++ae)O[Y++]=y(j[b(N[_++])])},F[i]=function(N,_,j,P,O,Y,ae){var R=8>>N.b,Z=N.Ea,ne=N.K[0],ge=N.w;if(8>R)for(N=(1<<N.b)-1,ge=(1<<R)-1;_<j;++_){var se,be=0;for(se=0;se<Z;++se)se&N||(be=b(P[O++])),Y[ae++]=y(ne[be&ge]),be>>=R}else F["VP8LMapColor"+p](P,O,ne,ge,Y,ae,_,j,Z)}}function $t(i,l,p,b,y){for(p=l+p;l<p;){var N=i[l++];b[y++]=N>>16&255,b[y++]=N>>8&255,b[y++]=255&N}}function yt(i,l,p,b,y){for(p=l+p;l<p;){var N=i[l++];b[y++]=N>>16&255,b[y++]=N>>8&255,b[y++]=255&N,b[y++]=N>>24&255}}function ht(i,l,p,b,y){for(p=l+p;l<p;){var N=(_=i[l++])>>16&240|_>>12&15,_=240&_|_>>28&15;b[y++]=N,b[y++]=_}}function ft(i,l,p,b,y){for(p=l+p;l<p;){var N=(_=i[l++])>>16&248|_>>13&7,_=_>>5&224|_>>3&31;b[y++]=N,b[y++]=_}}function Mt(i,l,p,b,y){for(p=l+p;l<p;){var N=i[l++];b[y++]=255&N,b[y++]=N>>8&255,b[y++]=N>>16&255}}function Ge(i,l,p,b,y,N){if(N==0)for(p=l+p;l<p;)Le(b,((N=i[l++])[0]>>24|N[1]>>8&65280|N[2]<<8&16711680|N[3]<<24)>>>0),y+=32;else n(b,y,i,l,p)}function It(i,l){F[l][0]=F[i+"0"],F[l][1]=F[i+"1"],F[l][2]=F[i+"2"],F[l][3]=F[i+"3"],F[l][4]=F[i+"4"],F[l][5]=F[i+"5"],F[l][6]=F[i+"6"],F[l][7]=F[i+"7"],F[l][8]=F[i+"8"],F[l][9]=F[i+"9"],F[l][10]=F[i+"10"],F[l][11]=F[i+"11"],F[l][12]=F[i+"12"],F[l][13]=F[i+"13"],F[l][14]=F[i+"0"],F[l][15]=F[i+"0"]}function Ke(i){return i==Io||i==To||i==Pa||i==Fo}function it(){this.eb=[],this.size=this.A=this.fb=0}function Bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new Bt,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wi(i){return alert("todo:WebPSamplerProcessPlane"),i.T}function br(i,l){var p=i.T,b=l.ba.f.RGBA,y=b.eb,N=b.fb+i.ka*b.A,_=Kr[l.ba.S],j=i.y,P=i.O,O=i.f,Y=i.N,ae=i.ea,R=i.W,Z=l.cc,ne=l.dc,ge=l.Mc,se=l.Nc,be=i.ka,ve=i.ka+i.T,Se=i.U,Ne=Se+1>>1;for(be==0?_(j,P,null,null,O,Y,ae,R,O,Y,ae,R,y,N,null,null,Se):(_(l.ec,l.fc,j,P,Z,ne,ge,se,O,Y,ae,R,y,N-b.A,y,N,Se),++p);be+2<ve;be+=2)Z=O,ne=Y,ge=ae,se=R,Y+=i.Rc,R+=i.Rc,N+=2*b.A,_(j,(P+=2*i.fa)-i.fa,j,P,Z,ne,ge,se,O,Y,ae,R,y,N-b.A,y,N,Se);return P+=i.fa,i.j+ve<i.o?(n(l.ec,l.fc,j,P,Se),n(l.cc,l.dc,O,Y,Ne),n(l.Mc,l.Nc,ae,R,Ne),p--):1&ve||_(j,P,null,null,O,Y,ae,R,O,Y,ae,R,y,N+b.A,null,null,Se),p}function En(i,l,p){var b=i.F,y=[i.J];if(b!=null){var N=i.U,_=l.ba.S,j=_==Ca||_==Pa;l=l.ba.f.RGBA;var P=[0],O=i.ka;P[0]=i.T,i.Kb&&(O==0?--P[0]:(--O,y[0]-=i.width),i.j+i.ka+i.T==i.o&&(P[0]=i.o-i.j-O));var Y=l.eb;O=l.fb+O*l.A,i=Vl(b,y[0],i.width,N,P,Y,O+(j?0:3),l.A),e(p==P),i&&Ke(_)&&Us(Y,O,j,N,P,l.A)}return 0}function gn(i){var l=i.ma,p=l.ba.S,b=11>p,y=p==ja||p==ka||p==Ca||p==Eo||p==12||Ke(p);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!Ts(l.Oa,i,y?11:12))return 0;if(y&&Ke(p)&&Ps(),i.da)alert("todo:use_scaling");else{if(b){if(l.Ib=wi,i.Kb){if(p=i.U+1>>1,l.memory=s(i.U+2*p),l.memory==null)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+i.U,l.Mc=l.cc,l.Nc=l.dc+p,l.Ib=br,Ps()}}else alert("todo:EmitYUV");y&&(l.Jb=En,b&&sn())}if(b&&!cc){for(i=0;256>i;++i)ff[i]=89858*(i-128)+Ia>>Ea,gf[i]=-22014*(i-128)+Ia,pf[i]=-45773*(i-128),df[i]=113618*(i-128)+Ia>>Ea;for(i=Hs;i<Mo;++i)l=76283*(i-16)+Ia>>Ea,mf[i-Hs]=xn(l,255),bf[i-Hs]=xn(l+8>>4,15);cc=1}return 1}function Ze(i){var l=i.ma,p=i.U,b=i.T;return e(!(1&i.ka)),0>=p||0>=b?0:(p=l.Ib(i,l),l.Jb!=null&&l.Jb(i,l,p),l.Dc+=p,1)}function In(i){i.ma.memory=null}function Tn(i,l,p,b){return ye(i,8)!=47?0:(l[0]=ye(i,14)+1,p[0]=ye(i,14)+1,b[0]=ye(i,1),ye(i,3)!=0?0:!i.h)}function Gr(i,l){if(4>i)return i+1;var p=i-2>>1;return(2+(1&i)<<p)+ye(l,p)+1}function $r(i,l){return 120<l?l-120:1<=(p=((p=Zh[l-1])>>4)*i+(8-(15&p)))?p:1;var p}function Ut(i,l,p){var b=U(p),y=i[l+=255&b].g-8;return 0<y&&(Q(p,p.u+8),b=U(p),l+=i[l].value,l+=b&(1<<y)-1),Q(p,p.u+i[l].g),i[l].value}function cr(i,l,p){return p.g+=i.g,p.value+=i.value<<l>>>0,e(8>=p.g),i.g}function hr(i,l,p){var b=i.xc;return e((l=b==0?0:i.vc[i.md*(p>>b)+(l>>b)])<i.Wb),i.Ya[l]}function Ni(i,l,p,b){var y=i.ab,N=i.c*l,_=i.C;l=_+l;var j=p,P=b;for(b=i.Ta,p=i.Ua;0<y--;){var O=i.gc[y],Y=_,ae=l,R=j,Z=P,ne=(P=b,j=p,O.Ea);switch(e(Y<ae),e(ae<=O.nc),O.hc){case 2:Wt(R,Z,(ae-Y)*ne,P,j);break;case 0:var ge=Y,se=ae,be=P,ve=j,Se=(Oe=O).Ea;ge==0&&(Os(R,Z,null,null,1,be,ve),mt(R,Z+1,0,0,Se-1,be,ve+1),Z+=Se,ve+=Se,++ge);for(var Ne=1<<Oe.b,De=Ne-1,Ee=_e(Se,Oe.b),lt=Oe.K,Oe=Oe.w+(ge>>Oe.b)*Ee;ge<se;){var bt=lt,ar=Oe,ct=1;for(is(R,Z,be,ve-Se,1,be,ve);ct<Se;){var Re=(ct&~De)+Ne;Re>Se&&(Re=Se),(0,Ms[bt[ar++]>>8&15])(R,Z+ +ct,be,ve+ct-Se,Re-ct,be,ve+ct),ct=Re}Z+=Se,ve+=Se,++ge&De||(Oe+=Ee)}ae!=O.nc&&n(P,j-ne,P,j+(ae-Y-1)*ne,ne);break;case 1:for(ne=R,se=Z,Se=(R=O.Ea)-(ve=R&~(be=(Z=1<<O.b)-1)),ge=_e(R,O.b),Ne=O.K,O=O.w+(Y>>O.b)*ge;Y<ae;){for(De=Ne,Ee=O,lt=new $e,Oe=se+ve,bt=se+R;se<Oe;)Me(De[Ee++],lt),Bs(lt,ne,se,Z,P,j),se+=Z,j+=Z;se<bt&&(Me(De[Ee++],lt),Bs(lt,ne,se,Se,P,j),se+=Se,j+=Se),++Y&be||(O+=ge)}break;case 3:if(R==P&&Z==j&&0<O.b){for(se=P,R=ne=j+(ae-Y)*ne-(ve=(ae-Y)*_e(O.Ea,O.b)),Z=P,be=j,ge=[],ve=(Se=ve)-1;0<=ve;--ve)ge[ve]=Z[be+ve];for(ve=Se-1;0<=ve;--ve)se[R+ve]=ge[ve];Aa(O,Y,ae,P,ne,P,j)}else Aa(O,Y,ae,R,Z,P,j)}j=b,P=p}P!=p&&n(b,p,j,P,N)}function Qn(i,l){var p=i.V,b=i.Ba+i.c*i.C,y=l-i.C;if(e(l<=i.l.o),e(16>=y),0<y){var N=i.l,_=i.Ta,j=i.Ua,P=N.width;if(Ni(i,y,p,b),y=j=[j],e((p=i.C)<(b=l)),e(N.v<N.va),b>N.o&&(b=N.o),p<N.j){var O=N.j-p;p=N.j,y[0]+=O*P}if(p>=b?p=0:(y[0]+=4*N.v,N.ka=p-N.j,N.U=N.va-N.v,N.T=b-p,p=1),p){if(j=j[0],11>(p=i.ca).S){var Y=p.f.RGBA,ae=(b=p.S,y=N.U,N=N.T,O=Y.eb,Y.A),R=N;for(Y=Y.fb+i.Ma*Y.A;0<R--;){var Z=_,ne=j,ge=y,se=O,be=Y;switch(b){case La:Ds(Z,ne,ge,se,be);break;case ja:si(Z,ne,ge,se,be);break;case Io:si(Z,ne,ge,se,be),Us(se,be,0,ge,1,0);break;case ec:Ri(Z,ne,ge,se,be);break;case ka:Ge(Z,ne,ge,se,be,1);break;case To:Ge(Z,ne,ge,se,be,1),Us(se,be,0,ge,1,0);break;case Ca:Ge(Z,ne,ge,se,be,0);break;case Pa:Ge(Z,ne,ge,se,be,0),Us(se,be,1,ge,1,0);break;case Eo:ai(Z,ne,ge,se,be);break;case Fo:ai(Z,ne,ge,se,be),Wl(se,be,ge,1,0);break;case tc:oi(Z,ne,ge,se,be);break;default:e(0)}j+=P,Y+=ae}i.Ma+=N}else alert("todo:EmitRescaledRowsYUVA");e(i.Ma<=p.height)}}i.C=l,e(i.C<=i.i)}function en(i){var l;if(0<i.ua)return 0;for(l=0;l<i.Wb;++l){var p=i.Ya[l].G,b=i.Ya[l].H;if(0<p[1][b[1]+0].g||0<p[2][b[2]+0].g||0<p[3][b[3]+0].g)return 0}return 1}function mn(i,l,p,b,y,N){if(i.Z!=0){var _=i.qd,j=i.rd;for(e(ui[i.Z]!=null);l<p;++l)ui[i.Z](_,j,b,y,b,y,N),_=b,j=y,y+=N;i.qd=_,i.rd=j}}function tn(i,l){var p=i.l.ma,b=p.Z==0||p.Z==1?i.l.j:i.C;if(b=i.C<b?b:i.C,e(l<=i.l.o),l>b){var y=i.l.width,N=p.ca,_=p.tb+y*b,j=i.V,P=i.Ba+i.c*b,O=i.gc;e(i.ab==1),e(O[0].hc==3),Nn(O[0],b,l,j,P,N,_),mn(p,b,l,N,_,y)}i.C=i.Ma=l}function rn(i,l,p,b,y,N,_){var j=i.$/b,P=i.$%b,O=i.m,Y=i.s,ae=p+i.$,R=ae;y=p+b*y;var Z=p+b*N,ne=280+Y.ua,ge=i.Pb?j:16777216,se=0<Y.ua?Y.Wa:null,be=Y.wc,ve=ae<Z?hr(Y,P,j):null;e(i.C<N),e(Z<=y);var Se=!1;e:for(;;){for(;Se||ae<Z;){var Ne=0;if(j>=ge){var De=ae-p;e((ge=i).Pb),ge.wd=ge.m,ge.xd=De,0<ge.s.ua&&ke(ge.s.Wa,ge.s.vb),ge=j+Qh}if(P&be||(ve=hr(Y,P,j)),e(ve!=null),ve.Qb&&(l[ae]=ve.qb,Se=!0),!Se)if(ie(O),ve.jc){Ne=O,De=l;var Ee=ae,lt=ve.pd[U(Ne)&Oi-1];e(ve.jc),256>lt.g?(Q(Ne,Ne.u+lt.g),De[Ee]=lt.value,Ne=0):(Q(Ne,Ne.u+lt.g-256),e(256<=lt.value),Ne=lt.value),Ne==0&&(Se=!0)}else Ne=Ut(ve.G[0],ve.H[0],O);if(O.h)break;if(Se||256>Ne){if(!Se)if(ve.nd)l[ae]=(ve.qb|Ne<<8)>>>0;else{if(ie(O),Se=Ut(ve.G[1],ve.H[1],O),ie(O),De=Ut(ve.G[2],ve.H[2],O),Ee=Ut(ve.G[3],ve.H[3],O),O.h)break;l[ae]=(Ee<<24|Se<<16|Ne<<8|De)>>>0}if(Se=!1,++ae,++P>=b&&(P=0,++j,_!=null&&j<=N&&!(j%16)&&_(i,j),se!=null))for(;R<ae;)Ne=l[R++],se.X[(506832829*Ne&4294967295)>>>se.Mb]=Ne}else if(280>Ne){if(Ne=Gr(Ne-256,O),De=Ut(ve.G[4],ve.H[4],O),ie(O),De=$r(b,De=Gr(De,O)),O.h)break;if(ae-p<De||y-ae<Ne)break e;for(Ee=0;Ee<Ne;++Ee)l[ae+Ee]=l[ae+Ee-De];for(ae+=Ne,P+=Ne;P>=b;)P-=b,++j,_!=null&&j<=N&&!(j%16)&&_(i,j);if(e(ae<=y),P&be&&(ve=hr(Y,P,j)),se!=null)for(;R<ae;)Ne=l[R++],se.X[(506832829*Ne&4294967295)>>>se.Mb]=Ne}else{if(!(Ne<ne))break e;for(Se=Ne-280,e(se!=null);R<ae;)Ne=l[R++],se.X[(506832829*Ne&4294967295)>>>se.Mb]=Ne;Ne=ae,e(!(Se>>>(De=se).Xa)),l[Ne]=De.X[Se],Se=!0}Se||e(O.h==V(O))}if(i.Pb&&O.h&&ae<y)e(i.m.h),i.a=5,i.m=i.wd,i.$=i.xd,0<i.s.ua&&ke(i.s.vb,i.s.Wa);else{if(O.h)break e;_?.(i,j>N?N:j),i.a=0,i.$=ae-p}return 1}return i.a=3,0}function Wr(i){e(i!=null),i.vc=null,i.yc=null,i.Ya=null;var l=i.Wa;l!=null&&(l.X=null),i.vb=null,e(i!=null)}function Ai(){var i=new et;return i==null?null:(i.a=0,i.xb=ic,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),Wt=gt,Bs=at,Ds=$t,si=yt,ai=ht,oi=ft,Ri=Mt,F.VP8LMapColor32b=wn,F.VP8LMapColor8b=Rs,i)}function bn(i,l,p,b,y){var N=1,_=[i],j=[l],P=b.m,O=b.s,Y=null,ae=0;e:for(;;){if(p)for(;N&&ye(P,1);){var R=_,Z=j,ne=b,ge=1,se=ne.m,be=ne.gc[ne.ab],ve=ye(se,2);if(ne.Oc&1<<ve)N=0;else{switch(ne.Oc|=1<<ve,be.hc=ve,be.Ea=R[0],be.nc=Z[0],be.K=[null],++ne.ab,e(4>=ne.ab),ve){case 0:case 1:be.b=ye(se,3)+2,ge=bn(_e(be.Ea,be.b),_e(be.nc,be.b),0,ne,be.K),be.K=be.K[0];break;case 3:var Se,Ne=ye(se,8)+1,De=16<Ne?0:4<Ne?1:2<Ne?2:3;if(R[0]=_e(be.Ea,De),be.b=De,Se=ge=bn(Ne,1,0,ne,be.K)){var Ee,lt=Ne,Oe=be,bt=1<<(8>>Oe.b),ar=s(bt);if(ar==null)Se=0;else{var ct=Oe.K[0],Re=Oe.w;for(ar[0]=Oe.K[0][0],Ee=1;Ee<1*lt;++Ee)ar[Ee]=Ve(ct[Re+Ee],ar[Ee-1]);for(;Ee<4*bt;++Ee)ar[Ee]=0;Oe.K[0]=null,Oe.K[0]=ar,Se=1}}ge=Se;break;case 2:break;default:e(0)}N=ge}}if(_=_[0],j=j[0],N&&ye(P,1)&&!(N=1<=(ae=ye(P,4))&&11>=ae)){b.a=3;break e}var je;if(je=N)t:{var Yt,st,vt,Ot=b,pr=_,Sr=j,zt=ae,xr=p,Lr=Ot.m,or=Ot.s,Nt=[null],Lt=1,Ht=0,jt=Kh[zt];r:for(;;){if(xr&&ye(Lr,1)){var gr=ye(Lr,3)+2,on=_e(pr,gr),Jt=_e(Sr,gr),kr=on*Jt;if(!bn(on,Jt,0,Ot,Nt))break r;for(Nt=Nt[0],or.xc=gr,Yt=0;Yt<kr;++Yt){var Pt=Nt[Yt]>>8&65535;Nt[Yt]=Pt,Pt>=Lt&&(Lt=Pt+1)}}if(Lr.h)break r;for(st=0;5>st;++st){var lr=rc[st];!st&&0<zt&&(lr+=1<<zt),Ht<lr&&(Ht=lr)}var Fr=c(Lt*jt,z),jr=Lt,Or=c(jr,K);if(Or==null)var Rr=null;else e(65536>=jr),Rr=Or;var Cr=s(Ht);if(Rr==null||Cr==null||Fr==null){Ot.a=1;break r}var Mr=Fr;for(Yt=vt=0;Yt<Lt;++Yt){var Ft=Rr[Yt],Br=Ft.G,ln=Ft.H,Bi=0,Vn=1,mr=0;for(st=0;5>st;++st){lr=rc[st],Br[st]=Mr,ln[st]=vt,!st&&0<zt&&(lr+=1<<zt);i:{var Fa,Bo=lr,Oa=Ot,Gs=Cr,yf=Mr,wf=vt,Do=0,hi=Oa.m,Nf=ye(hi,1);if(a(Gs,0,0,Bo),Nf){var Af=ye(hi,1)+1,_f=ye(hi,1),fc=ye(hi,_f==0?1:8);Gs[fc]=1,Af==2&&(Gs[fc=ye(hi,8)]=1);var Ra=1}else{var dc=s(19),pc=ye(hi,4)+4;if(19<pc){Oa.a=3;var Ma=0;break i}for(Fa=0;Fa<pc;++Fa)dc[Xh[Fa]]=ye(hi,3);var qo=void 0,$s=void 0,gc=Oa,Sf=dc,Ba=Bo,mc=Gs,Uo=0,fi=gc.m,bc=8,xc=c(128,z);n:for(;E(xc,0,7,Sf,19);){if(ye(fi,1)){var Lf=2+2*ye(fi,3);if((qo=2+ye(fi,Lf))>Ba)break n}else qo=Ba;for($s=0;$s<Ba&&qo--;){ie(fi);var vc=xc[0+(127&U(fi))];Q(fi,fi.u+vc.g);var as=vc.value;if(16>as)mc[$s++]=as,as!=0&&(bc=as);else{var jf=as==16,yc=as-16,kf=Yh[yc],wc=ye(fi,Vh[yc])+kf;if($s+wc>Ba)break n;for(var Cf=jf?bc:0;0<wc--;)mc[$s++]=Cf}}Uo=1;break n}Uo||(gc.a=3),Ra=Uo}(Ra=Ra&&!hi.h)&&(Do=E(yf,wf,8,Gs,Bo)),Ra&&Do!=0?Ma=Do:(Oa.a=3,Ma=0)}if(Ma==0)break r;if(Vn&&Jh[st]==1&&(Vn=Mr[vt].g==0),Bi+=Mr[vt].g,vt+=Ma,3>=st){var Ws,zo=Cr[0];for(Ws=1;Ws<lr;++Ws)Cr[Ws]>zo&&(zo=Cr[Ws]);mr+=zo}}if(Ft.nd=Vn,Ft.Qb=0,Vn&&(Ft.qb=(Br[3][ln[3]+0].value<<24|Br[1][ln[1]+0].value<<16|Br[2][ln[2]+0].value)>>>0,Bi==0&&256>Br[0][ln[0]+0].value&&(Ft.Qb=1,Ft.qb+=Br[0][ln[0]+0].value<<8)),Ft.jc=!Ft.Qb&&6>mr,Ft.jc){var Da,Yn=Ft;for(Da=0;Da<Oi;++Da){var di=Da,pi=Yn.pd[di],qa=Yn.G[0][Yn.H[0]+di];256<=qa.value?(pi.g=qa.g+256,pi.value=qa.value):(pi.g=0,pi.value=0,di>>=cr(qa,8,pi),di>>=cr(Yn.G[1][Yn.H[1]+di],16,pi),di>>=cr(Yn.G[2][Yn.H[2]+di],0,pi),cr(Yn.G[3][Yn.H[3]+di],24,pi))}}}or.vc=Nt,or.Wb=Lt,or.Ya=Rr,or.yc=Fr,je=1;break t}je=0}if(!(N=je)){b.a=3;break e}if(0<ae){if(O.ua=1<<ae,!T(O.Wa,ae)){b.a=1,N=0;break e}}else O.ua=0;var Ho=b,Nc=_,Pf=j,Go=Ho.s,$o=Go.xc;if(Ho.c=Nc,Ho.i=Pf,Go.md=_e(Nc,$o),Go.wc=$o==0?-1:(1<<$o)-1,p){b.xb=of;break e}if((Y=s(_*j))==null){b.a=1,N=0;break e}N=(N=rn(b,Y,0,_,j,j,null))&&!P.h;break e}return N?(y!=null?y[0]=Y:(e(Y==null),e(p)),b.$=0,p||Wr(O)):Wr(O),N}function _i(i,l){var p=i.c*i.i,b=p+l+16*l;return e(i.c<=l),i.V=s(b),i.V==null?(i.Ta=null,i.Ua=0,i.a=1,0):(i.Ta=i.V,i.Ua=i.Ba+p+l,1)}function Yi(i,l){var p=i.C,b=l-p,y=i.V,N=i.Ba+i.c*p;for(e(l<=i.l.o);0<b;){var _=16<b?16:b,j=i.l.ma,P=i.l.width,O=P*_,Y=j.ca,ae=j.tb+P*p,R=i.Ta,Z=i.Ua;Ni(i,_,y,N),Yl(R,Z,Y,ae,O),mn(j,p,p+_,Y,ae,P),b-=_,y+=_*i.c,p+=_}e(p==l),i.C=i.Ma=l}function Ji(){this.ub=this.yd=this.td=this.Rb=0}function Xi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function po(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vs(){this.Yb=(function(){var i=[];return(function l(p,b,y){for(var N=y[b],_=0;_<N&&(p.push(y.length>b+1?[]:0),!(y.length<b+1));_++)l(p[_],b+1,y)})(i,0,[3,11]),i})()}function sa(){this.jb=s(3),this.Wc=o([4,8],vs),this.Xc=o([4,17],vs)}function aa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function ys(){this.Na=this.la=0}function oa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ws(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function la(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new ws),this.aa=0,this.l=new Zi}function ca(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ua(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new Ji,this.Kc=new Xi,this.ed=new aa,this.Qa=new po,this.Ic=this.$c=this.Aa=0,this.D=new la,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,A),this.ia=0,this.pb=c(4,oa),this.Pa=new sa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ca),this.Hd=0,this.rb=Array(new ys),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ws),this.L=this.aa=0,this.gd=o([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xn(i,l){return 0>i?0:i>l?l:i}function Zi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function go(){var i=new ua;return i!=null&&(i.a=0,i.sc="OK",i.cb=0,i.Xb=0,zs||(zs=Ki)),i}function Qt(i,l,p){return i.a==0&&(i.a=l,i.sc=p,i.cb=0),0}function ha(i,l,p){return 3<=p&&i[l+0]==157&&i[l+1]==1&&i[l+2]==42}function vn(i,l){if(i==null)return 0;if(i.a=0,i.sc="OK",l==null)return Qt(i,2,"null VP8Io passed to VP8GetHeaders()");var p=l.data,b=l.w,y=l.ha;if(4>y)return Qt(i,7,"Truncated header.");var N=p[b+0]|p[b+1]<<8|p[b+2]<<16,_=i.Od;if(_.Rb=!(1&N),_.td=N>>1&7,_.yd=N>>4&1,_.ub=N>>5,3<_.td)return Qt(i,3,"Incorrect keyframe parameters.");if(!_.yd)return Qt(i,4,"Frame not displayable.");b+=3,y-=3;var j=i.Kc;if(_.Rb){if(7>y)return Qt(i,7,"cannot parse picture header");if(!ha(p,b,y))return Qt(i,3,"Bad code word");j.c=16383&(p[b+4]<<8|p[b+3]),j.Td=p[b+4]>>6,j.i=16383&(p[b+6]<<8|p[b+5]),j.Ud=p[b+6]>>6,b+=7,y-=7,i.za=j.c+15>>4,i.Ub=j.i+15>>4,l.width=j.c,l.height=j.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,a((N=i.Pa).jb,0,255,N.jb.length),e((N=i.Qa)!=null),N.Cb=0,N.Bb=0,N.Fb=1,a(N.Zb,0,0,N.Zb.length),a(N.Lb,0,0,N.Lb)}if(_.ub>y)return Qt(i,7,"bad partition length");re(N=i.m,p,b,_.ub),b+=_.ub,y-=_.ub,_.Rb&&(j.Ld=de(N),j.Kd=de(N)),j=i.Qa;var P,O=i.Pa;if(e(N!=null),e(j!=null),j.Cb=de(N),j.Cb){if(j.Bb=de(N),de(N)){for(j.Fb=de(N),P=0;4>P;++P)j.Zb[P]=de(N)?J(N,7):0;for(P=0;4>P;++P)j.Lb[P]=de(N)?J(N,6):0}if(j.Bb)for(P=0;3>P;++P)O.jb[P]=de(N)?oe(N,8):255}else j.Bb=0;if(N.Ka)return Qt(i,3,"cannot parse segment header");if((j=i.ed).zd=de(N),j.Tb=oe(N,6),j.wb=oe(N,3),j.Pc=de(N),j.Pc&&de(N)){for(O=0;4>O;++O)de(N)&&(j.vd[O]=J(N,6));for(O=0;4>O;++O)de(N)&&(j.od[O]=J(N,6))}if(i.L=j.Tb==0?0:j.zd?1:2,N.Ka)return Qt(i,3,"cannot parse filter header");var Y=y;if(y=P=b,b=P+Y,j=Y,i.Xb=(1<<oe(i.m,2))-1,Y<3*(O=i.Xb))p=7;else{for(P+=3*O,j-=3*O,Y=0;Y<O;++Y){var ae=p[y+0]|p[y+1]<<8|p[y+2]<<16;ae>j&&(ae=j),re(i.Jc[+Y],p,P,ae),P+=ae,j-=ae,y+=3}re(i.Jc[+O],p,P,j),p=P<b?0:5}if(p!=0)return Qt(i,p,"cannot parse partitions");for(p=oe(P=i.m,7),y=de(P)?J(P,4):0,b=de(P)?J(P,4):0,j=de(P)?J(P,4):0,O=de(P)?J(P,4):0,P=de(P)?J(P,4):0,Y=i.Qa,ae=0;4>ae;++ae){if(Y.Cb){var R=Y.Zb[ae];Y.Fb||(R+=p)}else{if(0<ae){i.pb[ae]=i.pb[0];continue}R=p}var Z=i.pb[ae];Z.Sc[0]=Oo[xn(R+y,127)],Z.Sc[1]=Ro[xn(R+0,127)],Z.Eb[0]=2*Oo[xn(R+b,127)],Z.Eb[1]=101581*Ro[xn(R+j,127)]>>16,8>Z.Eb[1]&&(Z.Eb[1]=8),Z.Qc[0]=Oo[xn(R+O,117)],Z.Qc[1]=Ro[xn(R+P,127)],Z.lc=R+P}if(!_.Rb)return Qt(i,4,"Not a key frame.");for(de(N),_=i.Pa,p=0;4>p;++p){for(y=0;8>y;++y)for(b=0;3>b;++b)for(j=0;11>j;++j)O=fe(N,sf[p][y][b][j])?oe(N,8):rf[p][y][b][j],_.Wc[p][y].Yb[b][j]=O;for(y=0;17>y;++y)_.Xc[p][y]=_.Wc[p][af[y]]}return i.kc=de(N),i.kc&&(i.Bd=oe(N,8)),i.cb=1}function Ki(i,l,p,b,y,N,_){var j=l[y].Yb[p];for(p=0;16>y;++y){if(!fe(i,j[p+0]))return y;for(;!fe(i,j[p+1]);)if(j=l[++y].Yb[0],p=0,y==16)return 16;var P=l[y+1].Yb;if(fe(i,j[p+2])){var O=i,Y=0;if(fe(O,(R=j)[(ae=p)+3]))if(fe(O,R[ae+6])){for(j=0,ae=2*(Y=fe(O,R[ae+8]))+(R=fe(O,R[ae+9+Y])),Y=0,R=ef[ae];R[j];++j)Y+=Y+fe(O,R[j]);Y+=3+(8<<ae)}else fe(O,R[ae+7])?(Y=7+2*fe(O,165),Y+=fe(O,145)):Y=5+fe(O,159);else Y=fe(O,R[ae+4])?3+fe(O,R[ae+5]):2;j=P[2]}else Y=1,j=P[1];P=_+tf[y],0>(O=i).b&&he(O);var ae,R=O.b,Z=(ae=O.Ca>>1)-(O.I>>R)>>31;--O.b,O.Ca+=Z,O.Ca|=1,O.I-=(ae+1&Z)<<R,N[P]=((Y^Z)-Z)*b[(0<y)+0]}return 16}function fa(i){var l=i.rb[i.sb-1];l.la=0,l.Na=0,a(i.zc,0,0,i.zc.length),i.ja=0}function Yr(i,l,p,b,y){y=i[l+p+32*b]+(y>>3),i[l+p+32*b]=-256&y?0>y?0:255:y}function nr(i,l,p,b,y,N){Yr(i,l,0,p,b+y),Yr(i,l,1,p,b+N),Yr(i,l,2,p,b-N),Yr(i,l,3,p,b-y)}function Fn(i){return(20091*i>>16)+i}function da(i,l,p,b){var y,N=0,_=s(16);for(y=0;4>y;++y){var j=i[l+0]+i[l+8],P=i[l+0]-i[l+8],O=(35468*i[l+4]>>16)-Fn(i[l+12]),Y=Fn(i[l+4])+(35468*i[l+12]>>16);_[N+0]=j+Y,_[N+1]=P+O,_[N+2]=P-O,_[N+3]=j-Y,N+=4,l++}for(y=N=0;4>y;++y)j=(i=_[N+0]+4)+_[N+8],P=i-_[N+8],O=(35468*_[N+4]>>16)-Fn(_[N+12]),Yr(p,b,0,0,j+(Y=Fn(_[N+4])+(35468*_[N+12]>>16))),Yr(p,b,1,0,P+O),Yr(p,b,2,0,P-O),Yr(p,b,3,0,j-Y),N++,b+=32}function mo(i,l,p,b){var y=i[l+0]+4,N=35468*i[l+4]>>16,_=Fn(i[l+4]),j=35468*i[l+1]>>16;nr(p,b,0,y+_,i=Fn(i[l+1]),j),nr(p,b,1,y+N,i,j),nr(p,b,2,y-N,i,j),nr(p,b,3,y-_,i,j)}function bo(i,l,p,b,y){da(i,l,p,b),y&&da(i,l+16,p,b+4)}function yn(i,l,p,b){Mi(i,l+0,p,b,1),Mi(i,l+32,p,b+128,1)}function pa(i,l,p,b){var y;for(i=i[l+0]+4,y=0;4>y;++y)for(l=0;4>l;++l)Yr(p,b,l,y,i)}function ga(i,l,p,b){i[l+0]&&St(i,l+0,p,b),i[l+16]&&St(i,l+16,p,b+4),i[l+32]&&St(i,l+32,p,b+128),i[l+48]&&St(i,l+48,p,b+128+4)}function Qi(i,l,p,b){var y,N=s(16);for(y=0;4>y;++y){var _=i[l+0+y]+i[l+12+y],j=i[l+4+y]+i[l+8+y],P=i[l+4+y]-i[l+8+y],O=i[l+0+y]-i[l+12+y];N[0+y]=_+j,N[8+y]=_-j,N[4+y]=O+P,N[12+y]=O-P}for(y=0;4>y;++y)_=(i=N[0+4*y]+3)+N[3+4*y],j=N[1+4*y]+N[2+4*y],P=N[1+4*y]-N[2+4*y],O=i-N[3+4*y],p[b+0]=_+j>>3,p[b+16]=O+P>>3,p[b+32]=_-j>>3,p[b+48]=O-P>>3,b+=64}function Si(i,l,p){var b,y=l-32,N=Tr,_=255-i[y-1];for(b=0;b<p;++b){var j,P=N,O=_+i[l-1];for(j=0;j<p;++j)i[l+j]=P[O+i[y+j]];l+=32}}function xo(i,l){Si(i,l,4)}function vo(i,l){Si(i,l,8)}function yo(i,l){Si(i,l,16)}function Ns(i,l){var p;for(p=0;16>p;++p)n(i,l+32*p,i,l-32,16)}function ma(i,l){var p;for(p=16;0<p;--p)a(i,l,i[l-1],16),l+=32}function nn(i,l,p){var b;for(b=0;16>b;++b)a(l,p+32*b,i,16)}function wo(i,l){var p,b=16;for(p=0;16>p;++p)b+=i[l-1+32*p]+i[l+p-32];nn(b>>5,i,l)}function Li(i,l){var p,b=8;for(p=0;16>p;++p)b+=i[l-1+32*p];nn(b>>4,i,l)}function As(i,l){var p,b=8;for(p=0;16>p;++p)b+=i[l+p-32];nn(b>>4,i,l)}function No(i,l){nn(128,i,l)}function tt(i,l,p){return i+2*l+p+2>>2}function Ao(i,l){var p,b=l-32;for(b=new Uint8Array([tt(i[b-1],i[b+0],i[b+1]),tt(i[b+0],i[b+1],i[b+2]),tt(i[b+1],i[b+2],i[b+3]),tt(i[b+2],i[b+3],i[b+4])]),p=0;4>p;++p)n(i,l+32*p,b,0,b.length)}function _o(i,l){var p=i[l-1],b=i[l-1+32],y=i[l-1+64],N=i[l-1+96];Le(i,l+0,16843009*tt(i[l-1-32],p,b)),Le(i,l+32,16843009*tt(p,b,y)),Le(i,l+64,16843009*tt(b,y,N)),Le(i,l+96,16843009*tt(y,N,N))}function So(i,l){var p,b=4;for(p=0;4>p;++p)b+=i[l+p-32]+i[l-1+32*p];for(b>>=3,p=0;4>p;++p)a(i,l+32*p,b,4)}function On(i,l){var p=i[l-1+0],b=i[l-1+32],y=i[l-1+64],N=i[l-1-32],_=i[l+0-32],j=i[l+1-32],P=i[l+2-32],O=i[l+3-32];i[l+0+96]=tt(b,y,i[l-1+96]),i[l+1+96]=i[l+0+64]=tt(p,b,y),i[l+2+96]=i[l+1+64]=i[l+0+32]=tt(N,p,b),i[l+3+96]=i[l+2+64]=i[l+1+32]=i[l+0+0]=tt(_,N,p),i[l+3+64]=i[l+2+32]=i[l+1+0]=tt(j,_,N),i[l+3+32]=i[l+2+0]=tt(P,j,_),i[l+3+0]=tt(O,P,j)}function Rn(i,l){var p=i[l+1-32],b=i[l+2-32],y=i[l+3-32],N=i[l+4-32],_=i[l+5-32],j=i[l+6-32],P=i[l+7-32];i[l+0+0]=tt(i[l+0-32],p,b),i[l+1+0]=i[l+0+32]=tt(p,b,y),i[l+2+0]=i[l+1+32]=i[l+0+64]=tt(b,y,N),i[l+3+0]=i[l+2+32]=i[l+1+64]=i[l+0+96]=tt(y,N,_),i[l+3+32]=i[l+2+64]=i[l+1+96]=tt(N,_,j),i[l+3+64]=i[l+2+96]=tt(_,j,P),i[l+3+96]=tt(j,P,P)}function Lo(i,l){var p=i[l-1+0],b=i[l-1+32],y=i[l-1+64],N=i[l-1-32],_=i[l+0-32],j=i[l+1-32],P=i[l+2-32],O=i[l+3-32];i[l+0+0]=i[l+1+64]=N+_+1>>1,i[l+1+0]=i[l+2+64]=_+j+1>>1,i[l+2+0]=i[l+3+64]=j+P+1>>1,i[l+3+0]=P+O+1>>1,i[l+0+96]=tt(y,b,p),i[l+0+64]=tt(b,p,N),i[l+0+32]=i[l+1+96]=tt(p,N,_),i[l+1+32]=i[l+2+96]=tt(N,_,j),i[l+2+32]=i[l+3+96]=tt(_,j,P),i[l+3+32]=tt(j,P,O)}function jo(i,l){var p=i[l+0-32],b=i[l+1-32],y=i[l+2-32],N=i[l+3-32],_=i[l+4-32],j=i[l+5-32],P=i[l+6-32],O=i[l+7-32];i[l+0+0]=p+b+1>>1,i[l+1+0]=i[l+0+64]=b+y+1>>1,i[l+2+0]=i[l+1+64]=y+N+1>>1,i[l+3+0]=i[l+2+64]=N+_+1>>1,i[l+0+32]=tt(p,b,y),i[l+1+32]=i[l+0+96]=tt(b,y,N),i[l+2+32]=i[l+1+96]=tt(y,N,_),i[l+3+32]=i[l+2+96]=tt(N,_,j),i[l+3+64]=tt(_,j,P),i[l+3+96]=tt(j,P,O)}function es(i,l){var p=i[l-1+0],b=i[l-1+32],y=i[l-1+64],N=i[l-1+96];i[l+0+0]=p+b+1>>1,i[l+2+0]=i[l+0+32]=b+y+1>>1,i[l+2+32]=i[l+0+64]=y+N+1>>1,i[l+1+0]=tt(p,b,y),i[l+3+0]=i[l+1+32]=tt(b,y,N),i[l+3+32]=i[l+1+64]=tt(y,N,N),i[l+3+64]=i[l+2+64]=i[l+0+96]=i[l+1+96]=i[l+2+96]=i[l+3+96]=N}function _s(i,l){var p=i[l-1+0],b=i[l-1+32],y=i[l-1+64],N=i[l-1+96],_=i[l-1-32],j=i[l+0-32],P=i[l+1-32],O=i[l+2-32];i[l+0+0]=i[l+2+32]=p+_+1>>1,i[l+0+32]=i[l+2+64]=b+p+1>>1,i[l+0+64]=i[l+2+96]=y+b+1>>1,i[l+0+96]=N+y+1>>1,i[l+3+0]=tt(j,P,O),i[l+2+0]=tt(_,j,P),i[l+1+0]=i[l+3+32]=tt(p,_,j),i[l+1+32]=i[l+3+64]=tt(b,p,_),i[l+1+64]=i[l+3+96]=tt(y,b,p),i[l+1+96]=tt(N,y,b)}function ji(i,l){var p;for(p=0;8>p;++p)n(i,l+32*p,i,l-32,8)}function ko(i,l){var p;for(p=0;8>p;++p)a(i,l,i[l-1],8),l+=32}function Mn(i,l,p){var b;for(b=0;8>b;++b)a(l,p+32*b,i,8)}function Co(i,l){var p,b=8;for(p=0;8>p;++p)b+=i[l+p-32]+i[l-1+32*p];Mn(b>>4,i,l)}function Ss(i,l){var p,b=4;for(p=0;8>p;++p)b+=i[l+p-32];Mn(b>>3,i,l)}function Ls(i,l){var p,b=4;for(p=0;8>p;++p)b+=i[l-1+32*p];Mn(b>>3,i,l)}function ba(i,l){Mn(128,i,l)}function Bn(i,l,p){var b=i[l-p],y=i[l+0],N=3*(y-b)+Po[1020+i[l-2*p]-i[l+p]],_=Sa[112+(N+4>>3)];i[l-p]=Tr[255+b+Sa[112+(N+3>>3)]],i[l+0]=Tr[255+y-_]}function js(i,l,p,b){var y=i[l+0],N=i[l+p];return Zr[255+i[l-2*p]-i[l-p]]>b||Zr[255+N-y]>b}function ts(i,l,p,b){return 4*Zr[255+i[l-p]-i[l+0]]+Zr[255+i[l-2*p]-i[l+p]]<=b}function ks(i,l,p,b,y){var N=i[l-3*p],_=i[l-2*p],j=i[l-p],P=i[l+0],O=i[l+p],Y=i[l+2*p],ae=i[l+3*p];return 4*Zr[255+j-P]+Zr[255+_-O]>b?0:Zr[255+i[l-4*p]-N]<=y&&Zr[255+N-_]<=y&&Zr[255+_-j]<=y&&Zr[255+ae-Y]<=y&&Zr[255+Y-O]<=y&&Zr[255+O-P]<=y}function ki(i,l,p,b){var y=2*b+1;for(b=0;16>b;++b)ts(i,l+b,p,y)&&Bn(i,l+b,p)}function Cs(i,l,p,b){var y=2*b+1;for(b=0;16>b;++b)ts(i,l+b*p,1,y)&&Bn(i,l+b*p,1)}function xa(i,l,p,b){var y;for(y=3;0<y;--y)ki(i,l+=4*p,p,b)}function va(i,l,p,b){var y;for(y=3;0<y;--y)Cs(i,l+=4,p,b)}function Dn(i,l,p,b,y,N,_,j){for(N=2*N+1;0<y--;){if(ks(i,l,p,N,_))if(js(i,l,p,j))Bn(i,l,p);else{var P=i,O=l,Y=p,ae=P[O-2*Y],R=P[O-Y],Z=P[O+0],ne=P[O+Y],ge=P[O+2*Y],se=27*(ve=Po[1020+3*(Z-R)+Po[1020+ae-ne]])+63>>7,be=18*ve+63>>7,ve=9*ve+63>>7;P[O-3*Y]=Tr[255+P[O-3*Y]+ve],P[O-2*Y]=Tr[255+ae+be],P[O-Y]=Tr[255+R+se],P[O+0]=Tr[255+Z-se],P[O+Y]=Tr[255+ne-be],P[O+2*Y]=Tr[255+ge-ve]}l+=b}}function qn(i,l,p,b,y,N,_,j){for(N=2*N+1;0<y--;){if(ks(i,l,p,N,_))if(js(i,l,p,j))Bn(i,l,p);else{var P=i,O=l,Y=p,ae=P[O-Y],R=P[O+0],Z=P[O+Y],ne=Sa[112+(4+(ge=3*(R-ae))>>3)],ge=Sa[112+(ge+3>>3)],se=ne+1>>1;P[O-2*Y]=Tr[255+P[O-2*Y]+se],P[O-Y]=Tr[255+ae+ge],P[O+0]=Tr[255+R-ne],P[O+Y]=Tr[255+Z-se]}l+=b}}function ya(i,l,p,b,y,N){Dn(i,l,p,1,16,b,y,N)}function Ci(i,l,p,b,y,N){Dn(i,l,1,p,16,b,y,N)}function wa(i,l,p,b,y,N){var _;for(_=3;0<_;--_)qn(i,l+=4*p,p,1,16,b,y,N)}function f(i,l,p,b,y,N){var _;for(_=3;0<_;--_)qn(i,l+=4,1,p,16,b,y,N)}function v(i,l,p,b,y,N,_,j){Dn(i,l,y,1,8,N,_,j),Dn(p,b,y,1,8,N,_,j)}function M(i,l,p,b,y,N,_,j){Dn(i,l,1,y,8,N,_,j),Dn(p,b,1,y,8,N,_,j)}function $(i,l,p,b,y,N,_,j){qn(i,l+4*y,y,1,8,N,_,j),qn(p,b+4*y,y,1,8,N,_,j)}function te(i,l,p,b,y,N,_,j){qn(i,l+4,1,y,8,N,_,j),qn(p,b+4,1,y,8,N,_,j)}function xe(){this.ba=new dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function we(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Be(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new z}function et(){this.xb=this.a=0,this.l=new Zi,this.ca=new dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Be,this.ab=0,this.gc=c(4,Fe),this.Oc=0}function ot(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wt(i,l,p,b,y,N,_){for(i=i==null?0:i[l+0],l=0;l<_;++l)y[N+l]=i+p[b+l]&255,i=y[N+l]}function qt(i,l,p,b,y,N,_){var j;if(i==null)wt(null,null,p,b,y,N,_);else for(j=0;j<_;++j)y[N+j]=i[l+j]+p[b+j]&255}function er(i,l,p,b,y,N,_){if(i==null)wt(null,null,p,b,y,N,_);else{var j,P=i[l+0],O=P,Y=P;for(j=0;j<_;++j)O=Y+(P=i[l+j])-O,Y=p[b+j]+(-256&O?0>O?0:255:O)&255,O=P,y[N+j]=Y}}function Tt(i,l,p,b){var y=l.width,N=l.o;if(e(i!=null&&l!=null),0>p||0>=b||p+b>N)return null;if(!i.Cc){if(i.ga==null){var _;if(i.ga=new ot,(_=i.ga==null)||(_=l.width*l.o,e(i.Gb.length==0),i.Gb=s(_),i.Uc=0,i.Gb==null?_=0:(i.mb=i.Gb,i.nb=i.Uc,i.rc=null,_=1),_=!_),!_){_=i.ga;var j=i.Fa,P=i.P,O=i.qc,Y=i.mb,ae=i.nb,R=P+1,Z=O-1,ne=_.l;if(e(j!=null&&Y!=null&&l!=null),ui[0]=null,ui[1]=wt,ui[2]=qt,ui[3]=er,_.ca=Y,_.tb=ae,_.c=l.width,_.i=l.height,e(0<_.c&&0<_.i),1>=O)l=0;else if(_.$a=3&j[P+0],_.Z=j[P+0]>>2&3,_.Lc=j[P+0]>>4&3,P=j[P+0]>>6&3,0>_.$a||1<_.$a||4<=_.Z||1<_.Lc||P)l=0;else if(ne.put=Ze,ne.ac=gn,ne.bc=In,ne.ma=_,ne.width=l.width,ne.height=l.height,ne.Da=l.Da,ne.v=l.v,ne.va=l.va,ne.j=l.j,ne.o=l.o,_.$a)e:{e(_.$a==1),l=Ai();t:for(;;){if(l==null){l=0;break e}if(e(_!=null),_.mc=l,l.c=_.c,l.i=_.i,l.l=_.l,l.l.ma=_,l.l.width=_.c,l.l.height=_.i,l.a=0,ue(l.m,j,R,Z),!bn(_.c,_.i,1,l,null)||(l.ab==1&&l.gc[0].hc==3&&en(l.s)?(_.ic=1,j=l.c*l.i,l.Ta=null,l.Ua=0,l.V=s(j),l.Ba=0,l.V==null?(l.a=1,l=0):l=1):(_.ic=0,l=_i(l,_.c)),!l))break t;l=1;break e}_.mc=null,l=0}else l=Z>=_.c*_.i;_=!l}if(_)return null;i.ga.Lc!=1?i.Ga=0:b=N-p}e(i.ga!=null),e(p+b<=N);e:{if(l=(j=i.ga).c,N=j.l.o,j.$a==0){if(R=i.rc,Z=i.Vc,ne=i.Fa,P=i.P+1+p*l,O=i.mb,Y=i.nb+p*l,e(P<=i.P+i.qc),j.Z!=0)for(e(ui[j.Z]!=null),_=0;_<b;++_)ui[j.Z](R,Z,ne,P,O,Y,l),R=O,Z=Y,Y+=l,P+=l;else for(_=0;_<b;++_)n(O,Y,ne,P,l),R=O,Z=Y,Y+=l,P+=l;i.rc=R,i.Vc=Z}else{if(e(j.mc!=null),l=p+b,e((_=j.mc)!=null),e(l<=_.i),_.C>=l)l=1;else if(j.ic||sn(),j.ic){j=_.V,R=_.Ba,Z=_.c;var ge=_.i,se=(ne=1,P=_.$/Z,O=_.$%Z,Y=_.m,ae=_.s,_.$),be=Z*ge,ve=Z*l,Se=ae.wc,Ne=se<ve?hr(ae,O,P):null;e(se<=be),e(l<=ge),e(en(ae));t:for(;;){for(;!Y.h&&se<ve;){if(O&Se||(Ne=hr(ae,O,P)),e(Ne!=null),ie(Y),256>(ge=Ut(Ne.G[0],Ne.H[0],Y)))j[R+se]=ge,++se,++O>=Z&&(O=0,++P<=l&&!(P%16)&&tn(_,P));else{if(!(280>ge)){ne=0;break t}ge=Gr(ge-256,Y);var De,Ee=Ut(Ne.G[4],Ne.H[4],Y);if(ie(Y),!(se>=(Ee=$r(Z,Ee=Gr(Ee,Y)))&&be-se>=ge)){ne=0;break t}for(De=0;De<ge;++De)j[R+se+De]=j[R+se+De-Ee];for(se+=ge,O+=ge;O>=Z;)O-=Z,++P<=l&&!(P%16)&&tn(_,P);se<ve&&O&Se&&(Ne=hr(ae,O,P))}e(Y.h==V(Y))}tn(_,P>l?l:P);break t}!ne||Y.h&&se<be?(ne=0,_.a=Y.h?5:3):_.$=se,l=ne}else l=rn(_,_.V,_.Ba,_.c,_.i,l,Yi);if(!l){b=0;break e}}p+b>=N&&(i.Cc=1),b=1}if(!b)return null;if(i.Cc&&((b=i.ga)!=null&&(b.mc=null),i.ga=null,0<i.Ga))return alert("todo:WebPDequantizeLevels"),null}return i.nb+p*y}function ir(i,l,p,b,y,N){for(;0<y--;){var _,j=i,P=l+(p?1:0),O=i,Y=l+(p?0:3);for(_=0;_<b;++_){var ae=O[Y+4*_];ae!=255&&(ae*=32897,j[P+4*_+0]=j[P+4*_+0]*ae>>23,j[P+4*_+1]=j[P+4*_+1]*ae>>23,j[P+4*_+2]=j[P+4*_+2]*ae>>23)}l+=N}}function tr(i,l,p,b,y){for(;0<b--;){var N;for(N=0;N<p;++N){var _=i[l+2*N+0],j=15&(O=i[l+2*N+1]),P=4369*j,O=(240&O|O>>4)*P>>16;i[l+2*N+0]=(240&_|_>>4)*P>>16&240|(15&_|_<<4)*P>>16>>4&15,i[l+2*N+1]=240&O|j}l+=y}}function fr(i,l,p,b,y,N,_,j){var P,O,Y=255;for(O=0;O<y;++O){for(P=0;P<b;++P){var ae=i[l+P];N[_+4*P]=ae,Y&=ae}l+=p,_+=j}return Y!=255}function Un(i,l,p,b,y){var N;for(N=0;N<y;++N)p[b+N]=i[l+N]>>8}function sn(){Us=ir,Wl=tr,Vl=fr,Yl=Un}function zn(i,l,p){F[i]=function(b,y,N,_,j,P,O,Y,ae,R,Z,ne,ge,se,be,ve,Se){var Ne,De=Se-1>>1,Ee=j[P+0]|O[Y+0]<<16,lt=ae[R+0]|Z[ne+0]<<16;e(b!=null);var Oe=3*Ee+lt+131074>>2;for(l(b[y+0],255&Oe,Oe>>16,ge,se),N!=null&&(Oe=3*lt+Ee+131074>>2,l(N[_+0],255&Oe,Oe>>16,be,ve)),Ne=1;Ne<=De;++Ne){var bt=j[P+Ne]|O[Y+Ne]<<16,ar=ae[R+Ne]|Z[ne+Ne]<<16,ct=Ee+bt+lt+ar+524296,Re=ct+2*(bt+lt)>>3;Oe=Re+Ee>>1,Ee=(ct=ct+2*(Ee+ar)>>3)+bt>>1,l(b[y+2*Ne-1],255&Oe,Oe>>16,ge,se+(2*Ne-1)*p),l(b[y+2*Ne-0],255&Ee,Ee>>16,ge,se+(2*Ne-0)*p),N!=null&&(Oe=ct+lt>>1,Ee=Re+ar>>1,l(N[_+2*Ne-1],255&Oe,Oe>>16,be,ve+(2*Ne-1)*p),l(N[_+2*Ne+0],255&Ee,Ee>>16,be,ve+(2*Ne+0)*p)),Ee=bt,lt=ar}1&Se||(Oe=3*Ee+lt+131074>>2,l(b[y+Se-1],255&Oe,Oe>>16,ge,se+(Se-1)*p),N!=null&&(Oe=3*lt+Ee+131074>>2,l(N[_+Se-1],255&Oe,Oe>>16,be,ve+(Se-1)*p)))}}function Ps(){Kr[La]=lf,Kr[ja]=sc,Kr[ec]=cf,Kr[ka]=ac,Kr[Ca]=oc,Kr[Eo]=lc,Kr[tc]=uf,Kr[Io]=sc,Kr[To]=ac,Kr[Pa]=oc,Kr[Fo]=lc}function rs(i){return i&-16384?0>i?0:255:i>>hf}function ei(i,l){return rs((19077*i>>8)+(26149*l>>8)-14234)}function Pi(i,l,p){return rs((19077*i>>8)-(6419*l>>8)-(13320*p>>8)+8708)}function Ei(i,l){return rs((19077*i>>8)+(33050*l>>8)-17685)}function ti(i,l,p,b,y){b[y+0]=ei(i,p),b[y+1]=Pi(i,l,p),b[y+2]=Ei(i,l)}function dr(i,l,p,b,y){b[y+0]=Ei(i,l),b[y+1]=Pi(i,l,p),b[y+2]=ei(i,p)}function Ii(i,l,p,b,y){var N=Pi(i,l,p);l=N<<3&224|Ei(i,l)>>3,b[y+0]=248&ei(i,p)|N>>5,b[y+1]=l}function Ti(i,l,p,b,y){var N=240&Ei(i,l)|15;b[y+0]=240&ei(i,p)|Pi(i,l,p)>>4,b[y+1]=N}function Es(i,l,p,b,y){b[y+0]=255,ti(i,l,p,b,y+1)}function Is(i,l,p,b,y){dr(i,l,p,b,y),b[y+3]=255}function _r(i,l,p,b,y){ti(i,l,p,b,y),b[y+3]=255}function Hn(i,l,p){F[i]=function(b,y,N,_,j,P,O,Y,ae){for(var R=Y+(-2&ae)*p;Y!=R;)l(b[y+0],N[_+0],j[P+0],O,Y),l(b[y+1],N[_+0],j[P+0],O,Y+p),y+=2,++_,++P,Y+=2*p;1&ae&&l(b[y+0],N[_+0],j[P+0],O,Y)}}function ns(i,l,p){return p==0?i==0?l==0?6:5:l==0?4:0:p}function Na(i,l,p,b,y){switch(i>>>30){case 3:Mi(l,p,b,y,0);break;case 2:Xr(l,p,b,y);break;case 1:St(l,p,b,y)}}function Jr(i,l){var p,b,y=l.M,N=l.Nb,_=i.oc,j=i.pc+40,P=i.oc,O=i.pc+584,Y=i.oc,ae=i.pc+600;for(p=0;16>p;++p)_[j+32*p-1]=129;for(p=0;8>p;++p)P[O+32*p-1]=129,Y[ae+32*p-1]=129;for(0<y?_[j-1-32]=P[O-1-32]=Y[ae-1-32]=129:(a(_,j-32-1,127,21),a(P,O-32-1,127,9),a(Y,ae-32-1,127,9)),b=0;b<i.za;++b){var R=l.ya[l.aa+b];if(0<b){for(p=-1;16>p;++p)n(_,j+32*p-4,_,j+32*p+12,4);for(p=-1;8>p;++p)n(P,O+32*p-4,P,O+32*p+4,4),n(Y,ae+32*p-4,Y,ae+32*p+4,4)}var Z=i.Gd,ne=i.Hd+b,ge=R.ad,se=R.Hc;if(0<y&&(n(_,j-32,Z[ne].y,0,16),n(P,O-32,Z[ne].f,0,8),n(Y,ae-32,Z[ne].ea,0,8)),R.Za){var be=_,ve=j-32+16;for(0<y&&(b>=i.za-1?a(be,ve,Z[ne].y[15],4):n(be,ve,Z[ne+1].y,0,4)),p=0;4>p;p++)be[ve+128+p]=be[ve+256+p]=be[ve+384+p]=be[ve+0+p];for(p=0;16>p;++p,se<<=2)be=_,ve=j+uc[p],an[R.Ob[p]](be,ve),Na(se,ge,16*+p,be,ve)}else if(be=ns(b,y,R.Ob[0]),ci[be](_,j),se!=0)for(p=0;16>p;++p,se<<=2)Na(se,ge,16*+p,_,j+uc[p]);for(p=R.Gc,be=ns(b,y,R.Dd),Wn[be](P,O),Wn[be](Y,ae),se=ge,be=P,ve=O,255&(R=0|p)&&(170&R?An(se,256,be,ve):Ct(se,256,be,ve)),R=Y,se=ae,255&(p>>=8)&&(170&p?An(ge,320,R,se):Ct(ge,320,R,se)),y<i.Ub-1&&(n(Z[ne].y,0,_,j+480,16),n(Z[ne].f,0,P,O+224,8),n(Z[ne].ea,0,Y,ae+224,8)),p=8*N*i.B,Z=i.sa,ne=i.ta+16*b+16*N*i.R,ge=i.qa,R=i.ra+8*b+p,se=i.Ha,be=i.Ia+8*b+p,p=0;16>p;++p)n(Z,ne+p*i.R,_,j+32*p,16);for(p=0;8>p;++p)n(ge,R+p*i.B,P,O+32*p,8),n(se,be+p*i.B,Y,ae+32*p,8)}}function Fi(i,l,p,b,y,N,_,j,P){var O=[0],Y=[0],ae=0,R=P!=null?P.kd:0,Z=P??new we;if(i==null||12>p)return 7;Z.data=i,Z.w=l,Z.ha=p,l=[l],p=[p],Z.gb=[Z.gb];e:{var ne=l,ge=p,se=Z.gb;if(e(i!=null),e(ge!=null),e(se!=null),se[0]=0,12<=ge[0]&&!r(i,ne[0],"RIFF")){if(r(i,ne[0]+8,"WEBP")){se=3;break e}var be=ze(i,ne[0]+4);if(12>be||4294967286<be){se=3;break e}if(R&&be>ge[0]-8){se=7;break e}se[0]=be,ne[0]+=12,ge[0]-=12}se=0}if(se!=0)return se;for(be=0<Z.gb[0],p=p[0];;){e:{var ve=i;ge=l,se=p;var Se=O,Ne=Y,De=ne=[0];if((Oe=ae=[ae])[0]=0,8>se[0])se=7;else{if(!r(ve,ge[0],"VP8X")){if(ze(ve,ge[0]+4)!=10){se=3;break e}if(18>se[0]){se=7;break e}var Ee=ze(ve,ge[0]+8),lt=1+Ce(ve,ge[0]+12);if(2147483648<=lt*(ve=1+Ce(ve,ge[0]+15))){se=3;break e}De!=null&&(De[0]=Ee),Se!=null&&(Se[0]=lt),Ne!=null&&(Ne[0]=ve),ge[0]+=18,se[0]-=18,Oe[0]=1}se=0}}if(ae=ae[0],ne=ne[0],se!=0)return se;if(ge=!!(2&ne),!be&&ae)return 3;if(N!=null&&(N[0]=!!(16&ne)),_!=null&&(_[0]=ge),j!=null&&(j[0]=0),_=O[0],ne=Y[0],ae&&ge&&P==null){se=0;break}if(4>p){se=7;break}if(be&&ae||!be&&!ae&&!r(i,l[0],"ALPH")){p=[p],Z.na=[Z.na],Z.P=[Z.P],Z.Sa=[Z.Sa];e:{Ee=i,se=l,be=p;var Oe=Z.gb;Se=Z.na,Ne=Z.P,De=Z.Sa,lt=22,e(Ee!=null),e(be!=null),ve=se[0];var bt=be[0];for(e(Se!=null),e(De!=null),Se[0]=null,Ne[0]=null,De[0]=0;;){if(se[0]=ve,be[0]=bt,8>bt){se=7;break e}var ar=ze(Ee,ve+4);if(4294967286<ar){se=3;break e}var ct=8+ar+1&-2;if(lt+=ct,0<Oe&&lt>Oe){se=3;break e}if(!r(Ee,ve,"VP8 ")||!r(Ee,ve,"VP8L")){se=0;break e}if(bt[0]<ct){se=7;break e}r(Ee,ve,"ALPH")||(Se[0]=Ee,Ne[0]=ve+8,De[0]=ar),ve+=ct,bt-=ct}}if(p=p[0],Z.na=Z.na[0],Z.P=Z.P[0],Z.Sa=Z.Sa[0],se!=0)break}p=[p],Z.Ja=[Z.Ja],Z.xa=[Z.xa];e:if(Oe=i,se=l,be=p,Se=Z.gb[0],Ne=Z.Ja,De=Z.xa,Ee=se[0],ve=!r(Oe,Ee,"VP8 "),lt=!r(Oe,Ee,"VP8L"),e(Oe!=null),e(be!=null),e(Ne!=null),e(De!=null),8>be[0])se=7;else{if(ve||lt){if(Oe=ze(Oe,Ee+4),12<=Se&&Oe>Se-12){se=3;break e}if(R&&Oe>be[0]-8){se=7;break e}Ne[0]=Oe,se[0]+=8,be[0]-=8,De[0]=lt}else De[0]=5<=be[0]&&Oe[Ee+0]==47&&!(Oe[Ee+4]>>5),Ne[0]=be[0];se=0}if(p=p[0],Z.Ja=Z.Ja[0],Z.xa=Z.xa[0],l=l[0],se!=0)break;if(4294967286<Z.Ja)return 3;if(j==null||ge||(j[0]=Z.xa?2:1),_=[_],ne=[ne],Z.xa){if(5>p){se=7;break}j=_,R=ne,ge=N,i==null||5>p?i=0:5<=p&&i[l+0]==47&&!(i[l+4]>>5)?(be=[0],Oe=[0],Se=[0],ue(Ne=new D,i,l,p),Tn(Ne,be,Oe,Se)?(j!=null&&(j[0]=be[0]),R!=null&&(R[0]=Oe[0]),ge!=null&&(ge[0]=Se[0]),i=1):i=0):i=0}else{if(10>p){se=7;break}j=ne,i==null||10>p||!ha(i,l+3,p-3)?i=0:(R=i[l+0]|i[l+1]<<8|i[l+2]<<16,ge=16383&(i[l+7]<<8|i[l+6]),i=16383&(i[l+9]<<8|i[l+8]),1&R||3<(R>>1&7)||!(R>>4&1)||R>>5>=Z.Ja||!ge||!i?i=0:(_&&(_[0]=ge),j&&(j[0]=i),i=1))}if(!i||(_=_[0],ne=ne[0],ae&&(O[0]!=_||Y[0]!=ne)))return 3;P!=null&&(P[0]=Z,P.offset=l-P.w,e(4294967286>l-P.w),e(P.offset==P.ha-p));break}return se==0||se==7&&ae&&P==null?(N!=null&&(N[0]|=Z.na!=null&&0<Z.na.length),b!=null&&(b[0]=_),y!=null&&(y[0]=ne),0):se}function Ts(i,l,p){var b=l.width,y=l.height,N=0,_=0,j=b,P=y;if(l.Da=i!=null&&0<i.Da,l.Da&&(j=i.cd,P=i.bd,N=i.v,_=i.j,11>p||(N&=-2,_&=-2),0>N||0>_||0>=j||0>=P||N+j>b||_+P>y))return 0;if(l.v=N,l.j=_,l.va=N+j,l.o=_+P,l.U=j,l.T=P,l.da=i!=null&&0<i.da,l.da){if(!We(j,P,p=[i.ib],N=[i.hb]))return 0;l.ib=p[0],l.hb=N[0]}return l.ob=i!=null&&i.ob,l.Kb=i==null||!i.Sd,l.da&&(l.ob=l.ib<3*b/4&&l.hb<3*y/4,l.Kb=0),1}function Fs(i){if(i==null)return 2;if(11>i.S){var l=i.f.RGBA;l.fb+=(i.height-1)*l.A,l.A=-l.A}else l=i.f.kb,i=i.height,l.O+=(i-1)*l.fa,l.fa=-l.fa,l.N+=(i-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(i-1>>1)*l.Db,l.Db=-l.Db,l.F!=null&&(l.J+=(i-1)*l.lb,l.lb=-l.lb);return 0}function ri(i,l,p,b){if(b==null||0>=i||0>=l)return 2;if(p!=null){if(p.Da){var y=p.cd,N=p.bd,_=-2&p.v,j=-2&p.j;if(0>_||0>j||0>=y||0>=N||_+y>i||j+N>l)return 2;i=y,l=N}if(p.da){if(!We(i,l,y=[p.ib],N=[p.hb]))return 2;i=y[0],l=N[0]}}b.width=i,b.height=l;e:{var P=b.width,O=b.height;if(i=b.S,0>=P||0>=O||!(i>=La&&13>i))i=2;else{if(0>=b.Rd&&b.sd==null){_=N=y=l=0;var Y=(j=P*hc[i])*O;if(11>i||(N=(O+1)/2*(l=(P+1)/2),i==12&&(_=(y=P)*O)),(O=s(Y+2*N+_))==null){i=1;break e}b.sd=O,11>i?((P=b.f.RGBA).eb=O,P.fb=0,P.A=j,P.size=Y):((P=b.f.kb).y=O,P.O=0,P.fa=j,P.Fd=Y,P.f=O,P.N=0+Y,P.Ab=l,P.Cd=N,P.ea=O,P.W=0+Y+N,P.Db=l,P.Ed=N,i==12&&(P.F=O,P.J=0+Y+2*N),P.Tc=_,P.lb=y)}if(l=1,y=b.S,N=b.width,_=b.height,y>=La&&13>y)if(11>y)i=b.f.RGBA,l&=(j=Math.abs(i.A))*(_-1)+N<=i.size,l&=j>=N*hc[y],l&=i.eb!=null;else{i=b.f.kb,j=(N+1)/2,Y=(_+1)/2,P=Math.abs(i.fa),O=Math.abs(i.Ab);var ae=Math.abs(i.Db),R=Math.abs(i.lb),Z=R*(_-1)+N;l&=P*(_-1)+N<=i.Fd,l&=O*(Y-1)+j<=i.Cd,l=(l&=ae*(Y-1)+j<=i.Ed)&P>=N&O>=j&ae>=j,l&=i.y!=null,l&=i.f!=null,l&=i.ea!=null,y==12&&(l&=R>=N,l&=Z<=i.Tc,l&=i.F!=null)}else l=0;i=l?0:2}}return i!=0||p!=null&&p.fd&&(i=Fs(b)),i}var Oi=64,Er=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ir=24,ni=32,Gn=8,ii=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(i){return i},F.Predictor2=function(i,l,p){return l[p+0]},F.Predictor3=function(i,l,p){return l[p+1]},F.Predictor4=function(i,l,p){return l[p-1]},F.Predictor5=function(i,l,p){return He(He(i,l[p+1]),l[p+0])},F.Predictor6=function(i,l,p){return He(i,l[p-1])},F.Predictor7=function(i,l,p){return He(i,l[p+0])},F.Predictor8=function(i,l,p){return He(l[p-1],l[p+0])},F.Predictor9=function(i,l,p){return He(l[p+0],l[p+1])},F.Predictor10=function(i,l,p){return He(He(i,l[p-1]),He(l[p+0],l[p+1]))},F.Predictor11=function(i,l,p){var b=l[p+0];return 0>=nt(b>>24&255,i>>24&255,(l=l[p-1])>>24&255)+nt(b>>16&255,i>>16&255,l>>16&255)+nt(b>>8&255,i>>8&255,l>>8&255)+nt(255&b,255&i,255&l)?b:i},F.Predictor12=function(i,l,p){var b=l[p+0];return(At((i>>24&255)+(b>>24&255)-((l=l[p-1])>>24&255))<<24|At((i>>16&255)+(b>>16&255)-(l>>16&255))<<16|At((i>>8&255)+(b>>8&255)-(l>>8&255))<<8|At((255&i)+(255&b)-(255&l)))>>>0},F.Predictor13=function(i,l,p){var b=l[p-1];return(pt((i=He(i,l[p+0]))>>24&255,b>>24&255)<<24|pt(i>>16&255,b>>16&255)<<16|pt(i>>8&255,b>>8&255)<<8|pt(255&i,255&b))>>>0};var Os=F.PredictorAdd0;F.PredictorAdd1=mt,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var is=F.PredictorAdd2;Ue("ColorIndexInverseTransform","MapARGB","32b",function(i){return i>>8&255},function(i){return i}),Ue("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(i){return i},function(i){return i>>8&255});var Wt,Aa=F.ColorIndexInverseTransform,wn=F.MapARGB,Nn=F.VP8LColorIndexInverseTransformAlpha,Rs=F.MapAlpha,Ms=F.VP8LPredictorsAdd=[];Ms.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Bs,Ds,si,ai,oi,Ri,li,Mi,Xr,An,St,Ct,Vt,sr,$n,qs,ss,_a,ql,Ul,zl,Hl,Gl,$l,Us,Wl,Vl,Yl,Jl=s(511),Xl=s(2041),Zl=s(225),Kl=s(767),Ql=0,Po=Xl,Sa=Zl,Tr=Kl,Zr=Jl,La=0,ja=1,ec=2,ka=3,Ca=4,Eo=5,tc=6,Io=7,To=8,Pa=9,Fo=10,Vh=[2,3,7],Yh=[3,3,11],rc=[280,256,256,256,40],Jh=[0,1,1,1,0],Xh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qh=8,Oo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ro=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zs=null,ef=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],af=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ci=[],an=[],Wn=[],of=1,ic=2,ui=[],Kr=[];zn("UpsampleRgbLinePair",ti,3),zn("UpsampleBgrLinePair",dr,3),zn("UpsampleRgbaLinePair",_r,4),zn("UpsampleBgraLinePair",Is,4),zn("UpsampleArgbLinePair",Es,4),zn("UpsampleRgba4444LinePair",Ti,2),zn("UpsampleRgb565LinePair",Ii,2);var lf=F.UpsampleRgbLinePair,cf=F.UpsampleBgrLinePair,sc=F.UpsampleRgbaLinePair,ac=F.UpsampleBgraLinePair,oc=F.UpsampleArgbLinePair,lc=F.UpsampleRgba4444LinePair,uf=F.UpsampleRgb565LinePair,Ea=16,Ia=1<<Ea-1,Hs=-227,Mo=482,hf=6,cc=0,ff=s(256),df=s(256),pf=s(256),gf=s(256),mf=s(Mo-Hs),bf=s(Mo-Hs);Hn("YuvToRgbRow",ti,3),Hn("YuvToBgrRow",dr,3),Hn("YuvToRgbaRow",_r,4),Hn("YuvToBgraRow",Is,4),Hn("YuvToArgbRow",Es,4),Hn("YuvToRgba4444Row",Ti,2),Hn("YuvToRgb565Row",Ii,2);var uc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ta=[0,2,8],xf=[8,7,6,4,4,2,2,2,1,1,1,1],vf=1;this.WebPDecodeRGBA=function(i,l,p,b,y){var N=ja,_=new xe,j=new dt;_.ba=j,j.S=N,j.width=[j.width],j.height=[j.height];var P=j.width,O=j.height,Y=new Xe;if(Y==null||i==null)var ae=2;else e(Y!=null),ae=Fi(i,l,p,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(ae!=0?P=0:(P!=null&&(P[0]=Y.width[0]),O!=null&&(O[0]=Y.height[0]),P=1),P){j.width=j.width[0],j.height=j.height[0],b!=null&&(b[0]=j.width),y!=null&&(y[0]=j.height);e:{if(b=new Zi,(y=new we).data=i,y.w=l,y.ha=p,y.kd=1,l=[0],e(y!=null),((i=Fi(y.data,y.w,y.ha,null,null,null,l,null,y))==0||i==7)&&l[0]&&(i=4),(l=i)==0){if(e(_!=null),b.data=y.data,b.w=y.w+y.offset,b.ha=y.ha-y.offset,b.put=Ze,b.ac=gn,b.bc=In,b.ma=_,y.xa){if((i=Ai())==null){_=1;break e}if((function(R,Z){var ne=[0],ge=[0],se=[0];t:for(;;){if(R==null)return 0;if(Z==null)return R.a=2,0;if(R.l=Z,R.a=0,ue(R.m,Z.data,Z.w,Z.ha),!Tn(R.m,ne,ge,se)){R.a=3;break t}if(R.xb=ic,Z.width=ne[0],Z.height=ge[0],!bn(ne[0],ge[0],1,R,null))break t;return 1}return e(R.a!=0),0})(i,b)){if(b=(l=ri(b.width,b.height,_.Oa,_.ba))==0){t:{b=i;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((p=b.l)!=null),e((y=p.ma)!=null),b.xb!=0){if(b.ca=y.ba,b.tb=y.tb,e(b.ca!=null),!Ts(y.Oa,p,ka)){b.a=2;break r}if(!_i(b,p.width)||p.da)break r;if((p.da||Ke(b.ca.S))&&sn(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&sn()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!T(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!rn(b,b.V,b.Ba,b.c,b.i,p.o,Qn))break r;y.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(l=i.a)}else l=i.a}else{if((i=new go)==null){_=1;break e}if(i.Fa=y.na,i.P=y.P,i.qc=y.Sa,vn(i,b)){if((l=ri(b.width,b.height,_.Oa,_.ba))==0){if(i.Aa=0,p=_.Oa,e((y=i)!=null),p!=null){if(0<(P=0>(P=p.Md)?0:100<P?255:255*P/100)){for(O=Y=0;4>O;++O)12>(ae=y.pb[O]).lc&&(ae.ia=P*xf[0>ae.lc?0:ae.lc]>>3),Y|=ae.ia;Y&&(alert("todo:VP8InitRandom"),y.ia=1)}y.Ga=p.Id,100<y.Ga?y.Ga=100:0>y.Ga&&(y.Ga=0)}(function(R,Z){if(R==null)return 0;if(Z==null)return Qt(R,2,"NULL VP8Io parameter in VP8Decode().");if(!R.cb&&!vn(R,Z))return 0;if(e(R.cb),Z.ac==null||Z.ac(Z)){Z.ob&&(R.L=0);var ne=Ta[R.L];if(R.L==2?(R.yb=0,R.zb=0):(R.yb=Z.v-ne>>4,R.zb=Z.j-ne>>4,0>R.yb&&(R.yb=0),0>R.zb&&(R.zb=0)),R.Va=Z.o+15+ne>>4,R.Hb=Z.va+15+ne>>4,R.Hb>R.za&&(R.Hb=R.za),R.Va>R.Ub&&(R.Va=R.Ub),0<R.L){var ge=R.ed;for(ne=0;4>ne;++ne){var se;if(R.Qa.Cb){var be=R.Qa.Lb[ne];R.Qa.Fb||(be+=ge.Tb)}else be=ge.Tb;for(se=0;1>=se;++se){var ve=R.gd[ne][se],Se=be;if(ge.Pc&&(Se+=ge.vd[0],se&&(Se+=ge.od[0])),0<(Se=0>Se?0:63<Se?63:Se)){var Ne=Se;0<ge.wb&&(Ne=4<ge.wb?Ne>>2:Ne>>1)>9-ge.wb&&(Ne=9-ge.wb),1>Ne&&(Ne=1),ve.dd=Ne,ve.tc=2*Se+Ne,ve.ld=40<=Se?2:15<=Se?1:0}else ve.tc=0;ve.La=se}}}ne=0}else Qt(R,6,"Frame setup failed"),ne=R.a;if(ne=ne==0){if(ne){R.$c=0,0<R.Aa||(R.Ic=vf);t:{ne=R.Ic,ge=4*(Ne=R.za);var De=32*Ne,Ee=Ne+1,lt=0<R.L?Ne*(0<R.Aa?2:1):0,Oe=(R.Aa==2?2:1)*Ne;if((ve=ge+832+(se=3*(16*ne+Ta[R.L])/2*De)+(be=R.Fa!=null&&0<R.Fa.length?R.Kc.c*R.Kc.i:0))!=ve)ne=0;else{if(ve>R.Vb){if(R.Vb=0,R.Ec=s(ve),R.Fc=0,R.Ec==null){ne=Qt(R,1,"no memory during frame initialization.");break t}R.Vb=ve}ve=R.Ec,Se=R.Fc,R.Ac=ve,R.Bc=Se,Se+=ge,R.Gd=c(De,ca),R.Hd=0,R.rb=c(Ee+1,ys),R.sb=1,R.wa=lt?c(lt,Vr):null,R.Y=0,R.D.Nb=0,R.D.wa=R.wa,R.D.Y=R.Y,0<R.Aa&&(R.D.Y+=Ne),e(!0),R.oc=ve,R.pc=Se,Se+=832,R.ya=c(Oe,ws),R.aa=0,R.D.ya=R.ya,R.D.aa=R.aa,R.Aa==2&&(R.D.aa+=Ne),R.R=16*Ne,R.B=8*Ne,Ne=(De=Ta[R.L])*R.R,De=De/2*R.B,R.sa=ve,R.ta=Se+Ne,R.qa=R.sa,R.ra=R.ta+16*ne*R.R+De,R.Ha=R.qa,R.Ia=R.ra+8*ne*R.B+De,R.$c=0,Se+=se,R.mb=be?ve:null,R.nb=be?Se:null,e(Se+be<=R.Fc+R.Vb),fa(R),a(R.Ac,R.Bc,0,ge),ne=1}}if(ne){if(Z.ka=0,Z.y=R.sa,Z.O=R.ta,Z.f=R.qa,Z.N=R.ra,Z.ea=R.Ha,Z.Vd=R.Ia,Z.fa=R.R,Z.Rc=R.B,Z.F=null,Z.J=0,!Ql){for(ne=-255;255>=ne;++ne)Jl[255+ne]=0>ne?-ne:ne;for(ne=-1020;1020>=ne;++ne)Xl[1020+ne]=-128>ne?-128:127<ne?127:ne;for(ne=-112;112>=ne;++ne)Zl[112+ne]=-16>ne?-16:15<ne?15:ne;for(ne=-255;510>=ne;++ne)Kl[255+ne]=0>ne?0:255<ne?255:ne;Ql=1}li=Qi,Mi=bo,An=yn,St=pa,Ct=ga,Xr=mo,Vt=ya,sr=Ci,$n=v,qs=M,ss=wa,_a=f,ql=$,Ul=te,zl=ki,Hl=Cs,Gl=xa,$l=va,an[0]=So,an[1]=xo,an[2]=Ao,an[3]=_o,an[4]=On,an[5]=Lo,an[6]=Rn,an[7]=jo,an[8]=_s,an[9]=es,ci[0]=wo,ci[1]=yo,ci[2]=Ns,ci[3]=ma,ci[4]=Li,ci[5]=As,ci[6]=No,Wn[0]=Co,Wn[1]=vo,Wn[2]=ji,Wn[3]=ko,Wn[4]=Ls,Wn[5]=Ss,Wn[6]=ba,ne=1}else ne=0}ne&&(ne=(function(bt,ar){for(bt.M=0;bt.M<bt.Va;++bt.M){var ct,Re=bt.Jc[bt.M&bt.Xb],je=bt.m,Yt=bt;for(ct=0;ct<Yt.za;++ct){var st=je,vt=Yt,Ot=vt.Ac,pr=vt.Bc+4*ct,Sr=vt.zc,zt=vt.ya[vt.aa+ct];if(vt.Qa.Bb?zt.$b=fe(st,vt.Pa.jb[0])?2+fe(st,vt.Pa.jb[2]):fe(st,vt.Pa.jb[1]):zt.$b=0,vt.kc&&(zt.Ad=fe(st,vt.Bd)),zt.Za=!fe(st,145)+0,zt.Za){var xr=zt.Ob,Lr=0;for(vt=0;4>vt;++vt){var or,Nt=Sr[0+vt];for(or=0;4>or;++or){Nt=nf[Ot[pr+or]][Nt];for(var Lt=nc[fe(st,Nt[0])];0<Lt;)Lt=nc[2*Lt+fe(st,Nt[Lt])];Nt=-Lt,Ot[pr+or]=Nt}n(xr,Lr,Ot,pr,4),Lr+=4,Sr[0+vt]=Nt}}else Nt=fe(st,156)?fe(st,128)?1:3:fe(st,163)?2:0,zt.Ob[0]=Nt,a(Ot,pr,Nt,4),a(Sr,0,Nt,4);zt.Dd=fe(st,142)?fe(st,114)?fe(st,183)?1:3:2:0}if(Yt.m.Ka)return Qt(bt,7,"Premature end-of-partition0 encountered.");for(;bt.ja<bt.za;++bt.ja){if(Yt=Re,st=(je=bt).rb[je.sb-1],Ot=je.rb[je.sb+je.ja],ct=je.ya[je.aa+je.ja],pr=je.kc?ct.Ad:0)st.la=Ot.la=0,ct.Za||(st.Na=Ot.Na=0),ct.Hc=0,ct.Gc=0,ct.ia=0;else{var Ht,jt;if(st=Ot,Ot=Yt,pr=je.Pa.Xc,Sr=je.ya[je.aa+je.ja],zt=je.pb[Sr.$b],vt=Sr.ad,xr=0,Lr=je.rb[je.sb-1],Nt=or=0,a(vt,xr,0,384),Sr.Za)var gr=0,on=pr[3];else{Lt=s(16);var Jt=st.Na+Lr.Na;if(Jt=zs(Ot,pr[1],Jt,zt.Eb,0,Lt,0),st.Na=Lr.Na=(0<Jt)+0,1<Jt)li(Lt,0,vt,xr);else{var kr=Lt[0]+3>>3;for(Lt=0;256>Lt;Lt+=16)vt[xr+Lt]=kr}gr=1,on=pr[0]}var Pt=15&st.la,lr=15&Lr.la;for(Lt=0;4>Lt;++Lt){var Fr=1&lr;for(kr=jt=0;4>kr;++kr)Pt=Pt>>1|(Fr=(Jt=zs(Ot,on,Jt=Fr+(1&Pt),zt.Sc,gr,vt,xr))>gr)<<7,jt=jt<<2|(3<Jt?3:1<Jt?2:vt[xr+0]!=0),xr+=16;Pt>>=4,lr=lr>>1|Fr<<7,or=(or<<8|jt)>>>0}for(on=Pt,gr=lr>>4,Ht=0;4>Ht;Ht+=2){for(jt=0,Pt=st.la>>4+Ht,lr=Lr.la>>4+Ht,Lt=0;2>Lt;++Lt){for(Fr=1&lr,kr=0;2>kr;++kr)Jt=Fr+(1&Pt),Pt=Pt>>1|(Fr=0<(Jt=zs(Ot,pr[2],Jt,zt.Qc,0,vt,xr)))<<3,jt=jt<<2|(3<Jt?3:1<Jt?2:vt[xr+0]!=0),xr+=16;Pt>>=2,lr=lr>>1|Fr<<5}Nt|=jt<<4*Ht,on|=Pt<<4<<Ht,gr|=(240&lr)<<Ht}st.la=on,Lr.la=gr,Sr.Hc=or,Sr.Gc=Nt,Sr.ia=43690&Nt?0:zt.ia,pr=!(or|Nt)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[ct.$b][ct.Za],je.wa[je.Y+je.ja].La|=!pr),Yt.Ka)return Qt(bt,7,"Premature end-of-file encountered.")}if(fa(bt),je=ar,Yt=1,ct=(Re=bt).D,st=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)t:{if(ct.M=Re.M,ct.uc=st,Jr(Re,ct),Yt=1,ct=(jt=Re.D).Nb,st=(Nt=Ta[Re.L])*Re.R,Ot=Nt/2*Re.B,Lt=16*ct*Re.R,kr=8*ct*Re.B,pr=Re.sa,Sr=Re.ta-st+Lt,zt=Re.qa,vt=Re.ra-Ot+kr,xr=Re.Ha,Lr=Re.Ia-Ot+kr,lr=(Pt=jt.M)==0,or=Pt>=Re.Va-1,Re.Aa==2&&Jr(Re,jt),jt.uc)for(Fr=(Jt=Re).D.M,e(Jt.D.uc),jt=Jt.yb;jt<Jt.Hb;++jt){gr=jt,on=Fr;var jr=(Or=(mr=Jt).D).Nb;Ht=mr.R;var Or=Or.wa[Or.Y+gr],Rr=mr.sa,Cr=mr.ta+16*jr*Ht+16*gr,Mr=Or.dd,Ft=Or.tc;if(Ft!=0)if(e(3<=Ft),mr.L==1)0<gr&&Hl(Rr,Cr,Ht,Ft+4),Or.La&&$l(Rr,Cr,Ht,Ft),0<on&&zl(Rr,Cr,Ht,Ft+4),Or.La&&Gl(Rr,Cr,Ht,Ft);else{var Br=mr.B,ln=mr.qa,Bi=mr.ra+8*jr*Br+8*gr,Vn=mr.Ha,mr=mr.Ia+8*jr*Br+8*gr;jr=Or.ld,0<gr&&(sr(Rr,Cr,Ht,Ft+4,Mr,jr),qs(ln,Bi,Vn,mr,Br,Ft+4,Mr,jr)),Or.La&&(_a(Rr,Cr,Ht,Ft,Mr,jr),Ul(ln,Bi,Vn,mr,Br,Ft,Mr,jr)),0<on&&(Vt(Rr,Cr,Ht,Ft+4,Mr,jr),$n(ln,Bi,Vn,mr,Br,Ft+4,Mr,jr)),Or.La&&(ss(Rr,Cr,Ht,Ft,Mr,jr),ql(ln,Bi,Vn,mr,Br,Ft,Mr,jr))}}if(Re.ia&&alert("todo:DitherRow"),je.put!=null){if(jt=16*Pt,Pt=16*(Pt+1),lr?(je.y=Re.sa,je.O=Re.ta+Lt,je.f=Re.qa,je.N=Re.ra+kr,je.ea=Re.Ha,je.W=Re.Ia+kr):(jt-=Nt,je.y=pr,je.O=Sr,je.f=zt,je.N=vt,je.ea=xr,je.W=Lr),or||(Pt-=Nt),Pt>je.o&&(Pt=je.o),je.F=null,je.J=null,Re.Fa!=null&&0<Re.Fa.length&&jt<Pt&&(je.J=Tt(Re,je,jt,Pt-jt),je.F=Re.mb,je.F==null&&je.F.length==0)){Yt=Qt(Re,3,"Could not decode alpha data.");break t}jt<je.j&&(Nt=je.j-jt,jt=je.j,e(!(1&Nt)),je.O+=Re.R*Nt,je.N+=Re.B*(Nt>>1),je.W+=Re.B*(Nt>>1),je.F!=null&&(je.J+=je.width*Nt)),jt<Pt&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=jt-je.j,je.U=je.va-je.v,je.T=Pt-jt,Yt=je.put(je))}ct+1!=Re.Ic||or||(n(Re.sa,Re.ta-st,pr,Sr+16*Re.R,st),n(Re.qa,Re.ra-Ot,zt,vt+8*Re.B,Ot),n(Re.Ha,Re.Ia-Ot,xr,Lr+8*Re.B,Ot))}if(!Yt)return Qt(bt,6,"Output aborted.")}return 1})(R,Z)),Z.bc!=null&&Z.bc(Z),ne&=1}return ne?(R.cb=0,ne):0})(i,b)||(l=i.a)}}else l=i.a}l==0&&_.Oa!=null&&_.Oa.fd&&(l=Fs(_.ba))}_=l}N=_!=0?null:11>N?j.f.RGBA.eb:j.f.kb.y}else N=null;return N};var hc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,ee){for(var L="",E=0;E<4;E++)L+=String.fromCharCode(F[ee++]);return L}function m(F,ee){return F[ee+0]|F[ee+1]<<8}function x(F,ee){return(F[ee+0]|F[ee+1]<<8|F[ee+2]<<16)>>>0}function w(F,ee){return(F[ee+0]|F[ee+1]<<8|F[ee+2]<<16|F[ee+3]<<24)>>>0}new u;var g=[0],C=[0],k=[],I=new u,S=t,H=(function(F,ee){var L={},E=0,z=!1,B=0,K=0;if(L.frames=[],!(function(A,D){for(var U=0;U<4;U++)if(A[D+U]!="RIFF".charCodeAt(U))return!0;return!1})(F,ee)){for(w(F,ee+=4),ee+=8;ee<F.length;){var re=d(F,ee),oe=w(F,ee+=4);ee+=4;var J=oe+(1&oe);switch(re){case"VP8 ":case"VP8L":L.frames[E]===void 0&&(L.frames[E]={}),(ye=L.frames[E]).src_off=z?K:ee-8,ye.src_size=B+oe+8,E++,z&&(z=!1,B=0,K=0);break;case"VP8X":(ye=L.header={}).feature_flags=F[ee];var ue=ee+4;ye.canvas_width=1+x(F,ue),ue+=3,ye.canvas_height=1+x(F,ue),ue+=3;break;case"ALPH":z=!0,B=J+8,K=ee-8;break;case"ANIM":(ye=L.header).bgcolor=w(F,ee),ue=ee+4,ye.loop_count=m(F,ue),ue+=2;break;case"ANMF":var Ae,ye;(ye=L.frames[E]={}).offset_x=2*x(F,ee),ee+=3,ye.offset_y=2*x(F,ee),ee+=3,ye.width=1+x(F,ee),ee+=3,ye.height=1+x(F,ee),ee+=3,ye.duration=x(F,ee),ee+=3,Ae=F[ee++],ye.dispose=1&Ae,ye.blend=Ae>>1&1}re!="ANMF"&&(ee+=J)}return L}})(S,0);H.response=S,H.rgbaoutput=!0,H.dataurl=!1;var W=H.header?H.header:null,q=H.frames?H.frames:null;if(W){W.loop_counter=W.loop_count,g=[W.canvas_height],C=[W.canvas_width];for(var le=0;le<q.length&&q[le].blend!=0;le++);}var pe=q[0],ce=I.WebPDecodeRGBA(S,pe.src_off,pe.src_size,C,g);pe.rgba=ce,pe.imgwidth=C[0],pe.imgheight=g[0];for(var G=0;G<C[0]*g[0]*4;G++)k[G]=ce[G];return this.width=C,this.height=g,this.data=k,this}function l2(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function c2(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,a,s,c,o,u,d,m=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new u,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new c,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new c,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,d=new m}]);var x=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=A;Object.defineProperty(this,"pdf",{get:function(){return D}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(T){U=!!T}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(T){V=!!T}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(T){isNaN(T)||(Q=T)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(T){isNaN(T)||(ie=T)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(T){var ke;typeof T=="number"?ke=[T,T,T,T]:((ke=new Array(4))[0]=T[0],ke[1]=T.length>=2?T[1]:ke[0],ke[2]=T.length>=3?T[2]:ke[0],ke[3]=T.length>=4?T[3]:ke[1]),d.margin=ke}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(T){he=T}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(T){de=T}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(T){fe=T}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(T){T instanceof m&&(d=T)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(T){d.path=T}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(T){Le=T}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(T){var ke;ke=w(T),this.ctx.fillStyle=ke.style,this.ctx.isFillTransparent=ke.a===0,this.ctx.fillOpacity=ke.a,this.pdf.setFillColor(ke.r,ke.g,ke.b,{a:ke.a}),this.pdf.setTextColor(ke.r,ke.g,ke.b,{a:ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(T){var ke=w(T);this.ctx.strokeStyle=ke.style,this.ctx.isStrokeTransparent=ke.a===0,this.ctx.strokeOpacity=ke.a,ke.a===0?this.pdf.setDrawColor(255,255,255):(ke.a,this.pdf.setDrawColor(ke.r,ke.g,ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(T){["butt","round","square"].indexOf(T)!==-1&&(this.ctx.lineCap=T,this.pdf.setLineCap(T))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(T){isNaN(T)||(this.ctx.lineWidth=T,this.pdf.setLineWidth(T))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(T){["bevel","round","miter"].indexOf(T)!==-1&&(this.ctx.lineJoin=T,this.pdf.setLineJoin(T))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(T){isNaN(T)||(this.ctx.miterLimit=T,this.pdf.setMiterLimit(T))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(T){this.ctx.textBaseline=T}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(T){["right","end","center","left","start"].indexOf(T)!==-1&&(this.ctx.textAlign=T)}});var Pe=null,Ce=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(T){Pe=null,Ce=null,ze=T}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(T){var ke;if(this.ctx.font=T,(ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(T))!==null){var ut=ke[1];ke[2];var We=ke[3],_e=ke[4];ke[5];var Ve=ke[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(Ie==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var $e=(function(Ue){var $t,yt,ht=[],ft=Ue.trim();if(ft==="")return ul;if(ft in _u)return[_u[ft]];for(;ft!=="";){switch(yt=null,$t=(ft=Lu(ft)).charAt(0)){case'"':case"'":yt=r2(ft.substring(1),$t);break;default:yt=n2(ft)}if(yt===null||(ht.push(yt[0]),(ft=Lu(yt[1]))!==""&&ft.charAt(0)!==","))return ul;ft=ft.replace(/^,/,"")}return ht})(Ve);if(this.fontFaces){var He=(function(Ue,$t){var yt=Ue.getFontList(),ht=JSON.stringify(yt);if(Pe===null||Ce!==ht){var ft=(function(Mt){var Ge=[];return Object.keys(Mt).forEach(function(It){Mt[It].forEach(function(Ke){var it=null;switch(Ke){case"bold":it={family:It,weight:"bold"};break;case"italic":it={family:It,style:"italic"};break;case"bolditalic":it={family:It,weight:"bold",style:"italic"};break;case"":case"normal":it={family:It}}it!==null&&(it.ref={name:It,style:Ke},Ge.push(it))})}),Ge})(yt);Pe=(function(Mt){for(var Ge={},It=0;It<Mt.length;++It){var Ke=cl(Mt[It]),it=Ke.family,Bt=Ke.stretch,dt=Ke.style,Xe=Ke.weight;Ge[it]=Ge[it]||{},Ge[it][Bt]=Ge[it][Bt]||{},Ge[it][Bt][dt]=Ge[it][Bt][dt]||{},Ge[it][Bt][dt][Xe]=Ke}return Ge})(ft.concat($t)),Ce=ht}return Pe})(this.pdf,this.fontFaces),At=$e.map(function(Ue){return{family:Ue,stretch:"normal",weight:We,style:ut}}),pt=(function(Ue,$t,yt){for(var ht=(yt=yt||{}).defaultFontFamily||"times",ft=Object.assign({},t2,yt.genericFontFamilies||{}),Mt=null,Ge=null,It=0;It<$t.length;++It)if(ft[(Mt=cl($t[It])).family]&&(Mt.family=ft[Mt.family]),Ue.hasOwnProperty(Mt.family)){Ge=Ue[Mt.family];break}if(!(Ge=Ge||Ue[ht]))throw new Error("Could not find a font-family for the rule '"+Su(Mt)+"' and default family '"+ht+"'.");if(Ge=(function(Ke,it){if(it[Ke])return it[Ke];var Bt=jl[Ke],dt=Bt<=jl.normal?-1:1,Xe=Au(it,Rh,Bt,dt);if(!Xe)throw new Error("Could not find a matching font-stretch value for "+Ke);return Xe})(Mt.stretch,Ge),Ge=(function(Ke,it){if(it[Ke])return it[Ke];for(var Bt=Oh[Ke],dt=0;dt<Bt.length;++dt)if(it[Bt[dt]])return it[Bt[dt]];throw new Error("Could not find a matching font-style for "+Ke)})(Mt.style,Ge),!(Ge=(function(Ke,it){if(it[Ke])return it[Ke];if(Ke===400&&it[500])return it[500];if(Ke===500&&it[400])return it[400];var Bt=e2[Ke],dt=Au(it,Mh,Bt,Ke<400?-1:1);if(!dt)throw new Error("Could not find a matching font-weight for value "+Ke);return dt})(Mt.weight,Ge)))throw new Error("Failed to resolve a font for the rule '"+Su(Mt)+"'.");return Ge})(He,At);this.pdf.setFont(pt.ref.name,pt.ref.style)}else{var nt="";(We==="bold"||parseInt(We,10)>=700||ut==="bold")&&(nt="bold"),ut==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var mt="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<$e.length;Me++){if(this.pdf.internal.getFont($e[Me],nt,{noFallback:!0,disableWarning:!0})!==void 0){mt=$e[Me];break}if(nt==="bolditalic"&&this.pdf.internal.getFont($e[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=$e[Me],nt="bold";else if(this.pdf.internal.getFont($e[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=$e[Me],nt="normal";break}}if(mt===""){for(var at=0;at<$e.length;at++)if(gt[$e[at]]){mt=gt[$e[at]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(T){this.ctx.globalCompositeOperation=T}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(T){this.ctx.globalAlpha=T}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(T){this.ctx.lineDashOffset=T,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(T){this.ctx.lineDash=T,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(T){this.ctx.ignoreClearRect=!!T}})};x.prototype.setLineDash=function(A){this.lineDash=A},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){q.call(this,"fill",!1)},x.prototype.stroke=function(){q.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(A,D){if(isNaN(A)||isNaN(D))throw Et.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new c(A,D));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new c(A,D)},x.prototype.closePath=function(){var A=new c(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&kt(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){A=new c(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(A.x,A.y)},x.prototype.lineTo=function(A,D){if(isNaN(A)||isNaN(D))throw Et.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new c(A,D));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new c(U.x,U.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},x.prototype.quadraticCurveTo=function(A,D,U,V){if(isNaN(U)||isNaN(V)||isNaN(A)||isNaN(D))throw Et.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new c(U,V)),ie=this.ctx.transform.applyToPoint(new c(A,D));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new c(Q.x,Q.y)},x.prototype.bezierCurveTo=function(A,D,U,V,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V))throw Et.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new c(Q,ie)),de=this.ctx.transform.applyToPoint(new c(A,D)),fe=this.ctx.transform.applyToPoint(new c(U,V));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:fe.x,y2:fe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new c(he.x,he.y)},x.prototype.arc=function(A,D,U,V,Q,ie){if(isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V)||isNaN(Q))throw Et.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new c(A,D));A=he.x,D=he.y;var de=this.ctx.transform.applyToPoint(new c(0,U)),fe=this.ctx.transform.applyToPoint(new c(0,0));U=Math.sqrt(Math.pow(de.x-fe.x,2)+Math.pow(de.y-fe.y,2))}Math.abs(Q-V)>=2*Math.PI&&(V=0,Q=2*Math.PI),this.path.push({type:"arc",x:A,y:D,radius:U,startAngle:V,endAngle:Q,counterclockwise:ie})},x.prototype.arcTo=function(A,D,U,V,Q){throw new Error("arcTo not implemented.")},x.prototype.rect=function(A,D,U,V){if(isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V))throw Et.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,D),this.lineTo(A+U,D),this.lineTo(A+U,D+V),this.lineTo(A,D+V),this.lineTo(A,D),this.lineTo(A+U,D),this.lineTo(A,D)},x.prototype.fillRect=function(A,D,U,V){if(isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V))throw Et.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,D,U,V),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},x.prototype.strokeRect=function(A,D,U,V){if(isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V))throw Et.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(A,D,U,V),this.stroke())},x.prototype.clearRect=function(A,D,U,V){if(isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V))throw Et.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,D,U,V))},x.prototype.save=function(A){A=typeof A!="boolean"||A;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},x.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(D),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(A){var D,U,V,Q;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))D=0,U=0,V=0,Q=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(ie!==null)D=parseInt(ie[1]),U=parseInt(ie[2]),V=parseInt(ie[3]),Q=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)D=parseInt(ie[1]),U=parseInt(ie[2]),V=parseInt(ie[3]),Q=parseFloat(ie[4]);else{if(Q=1,typeof A=="string"&&A.charAt(0)!=="#"){var he=new kh(A);A=he.ok?he.toHex():"#000000"}A.length===4?(D=A.substring(1,2),D+=D,U=A.substring(2,3),U+=U,V=A.substring(3,4),V+=V):(D=A.substring(1,3),U=A.substring(3,5),V=A.substring(5,7)),D=parseInt(D,16),U=parseInt(U,16),V=parseInt(V,16)}}return{r:D,g:U,b:V,a:Q,style:A}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(A,D,U,V){if(isNaN(D)||isNaN(U)||typeof A!="string")throw Et.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!g.call(this)){var Q=J(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;E.call(this,{text:A,x:D,y:U,scale:ie,angle:Q,align:this.textAlign,maxWidth:V})}},x.prototype.strokeText=function(A,D,U,V){if(isNaN(D)||isNaN(U)||typeof A!="string")throw Et.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){V=isNaN(V)?void 0:V;var Q=J(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;E.call(this,{text:A,x:D,y:U,scale:ie,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:V})}},x.prototype.measureText=function(A){if(typeof A!="string")throw Et.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,U=this.pdf.internal.scaleFactor,V=D.internal.getFontSize(),Q=D.getStringUnitWidth(A)*V/D.internal.scaleFactor;return new function(ie){var he=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:Q*=Math.round(96*U/72*1e4)/1e4})},x.prototype.scale=function(A,D){if(isNaN(A)||isNaN(D))throw Et.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new u(A,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},x.prototype.rotate=function(A){if(isNaN(A))throw Et.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new u(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},x.prototype.translate=function(A,D){if(isNaN(A)||isNaN(D))throw Et.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new u(1,0,0,1,A,D);this.ctx.transform=this.ctx.transform.multiply(U)},x.prototype.transform=function(A,D,U,V,Q,ie){if(isNaN(A)||isNaN(D)||isNaN(U)||isNaN(V)||isNaN(Q)||isNaN(ie))throw Et.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new u(A,D,U,V,Q,ie);this.ctx.transform=this.ctx.transform.multiply(he)},x.prototype.setTransform=function(A,D,U,V,Q,ie){A=isNaN(A)?1:A,D=isNaN(D)?0:D,U=isNaN(U)?0:U,V=isNaN(V)?1:V,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?0:ie,this.ctx.transform=new u(A,D,U,V,Q,ie)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(A,D,U,V,Q,ie,he,de,fe){var Le=this.pdf.getImageProperties(A),Pe=1,Ce=1,ze=1,T=1;V!==void 0&&de!==void 0&&(ze=de/V,T=fe/Q,Pe=Le.width/V*de/V,Ce=Le.height/Q*fe/Q),ie===void 0&&(ie=D,he=U,D=0,U=0),V!==void 0&&de===void 0&&(de=V,fe=Q),V===void 0&&de===void 0&&(de=Le.width,fe=Le.height);var ke=this.ctx.transform.decompose(),ut=J(ke.rotate.shx),We=new u,_e=(We=(We=(We=We.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new o(ie-D*ze,he-U*T,V*Pe,Q*Ce));if(this.autoPaging){for(var Ve,Ie=I.call(this,_e),$e=[],He=0;He<Ie.length;He+=1)$e.indexOf(Ie[He])===-1&&$e.push(Ie[He]);W($e);for(var At=$e[0],pt=$e[$e.length-1],nt=At;nt<pt+1;nt++){this.pdf.setPage(nt);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=nt===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=nt===1?0:Me+(nt-2)*at;if(this.ctx.clip_path.length!==0){var $t=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Ve,this.posX+this.margin[3],-Ue+gt+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=$t}var yt=JSON.parse(JSON.stringify(_e));yt=H([yt],this.posX+this.margin[3],-Ue+gt+this.ctx.prevPageLastElemOffset)[0];var ht=(nt>At||nt<pt)&&k.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,at,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,ut),ht&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(A,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,ut)};var I=function(A,D,U){var V=[];D=D||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":V.push(Math.floor((A.y+Q)/U)+1);break;case"arc":V.push(Math.floor((A.y+Q-A.radius)/U)+1),V.push(Math.floor((A.y+Q+A.radius)/U)+1);break;case"qct":var ie=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);V.push(Math.floor((ie.y+Q)/U)+1),V.push(Math.floor((ie.y+ie.h+Q)/U)+1);break;case"bct":var he=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);V.push(Math.floor((he.y+Q)/U)+1),V.push(Math.floor((he.y+he.h+Q)/U)+1);break;case"rect":V.push(Math.floor((A.y+Q)/U)+1),V.push(Math.floor((A.y+A.h+Q)/U)+1)}for(var de=0;de<V.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<V[de];)S.call(this);return V},S=function(){var A=this.fillStyle,D=this.strokeStyle,U=this.font,V=this.lineCap,Q=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=D,this.font=U,this.lineCap=V,this.lineWidth=Q,this.lineJoin=ie},H=function(A,D,U){for(var V=0;V<A.length;V++)switch(A[V].type){case"bct":A[V].x2+=D,A[V].y2+=U;case"qct":A[V].x1+=D,A[V].y1+=U;default:A[V].x+=D,A[V].y+=U}return A},W=function(A){return A.sort(function(D,U){return D-U})},q=function(A,D){var U=this.fillStyle,V=this.strokeStyle,Q=this.lineCap,ie=this.lineWidth,he=Math.abs(ie*this.ctx.transform.scaleX),de=this.lineJoin;if(this.autoPaging){for(var fe,Le,Pe=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),ze=[],T=0;T<Ce.length;T++)if(Ce[T].x!==void 0)for(var ke=I.call(this,Ce[T]),ut=0;ut<ke.length;ut+=1)ze.indexOf(ke[ut])===-1&&ze.push(ke[ut]);for(var We=0;We<ze.length;We++)for(;this.pdf.internal.getNumberOfPages()<ze[We];)S.call(this);W(ze);for(var _e=ze[0],Ve=ze[ze.length-1],Ie=_e;Ie<Ve+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=U,this.strokeStyle=V,this.lineCap=Q,this.lineWidth=he,this.lineJoin=de;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Ie===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Ie===1?0:At+(Ie-2)*pt;if(this.ctx.clip_path.length!==0){var mt=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(fe,this.posX+this.margin[3],-nt+He+this.ctx.prevPageLastElemOffset),le.call(this,A,!0),this.path=mt}if(Le=JSON.parse(JSON.stringify(Pe)),this.path=H(Le,this.posX+this.margin[3],-nt+He+this.ctx.prevPageLastElemOffset),D===!1||Ie===0){var gt=(Ie>_e||Ie<Ve)&&k.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,pt,null).clip().discardPath()),le.call(this,A,D),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=Pe}else this.lineWidth=he,le.call(this,A,D),this.lineWidth=ie},le=function(A,D){if((A!=="stroke"||D||!C.call(this))&&(A==="stroke"||D||!g.call(this))){for(var U,V,Q=[],ie=this.path,he=0;he<ie.length;he++){var de=ie[he];switch(de.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:de,deltas:[],abs:[]});break;case"lt":var fe=Q.length;if(ie[he-1]&&!isNaN(ie[he-1].x)&&(U=[de.x-ie[he-1].x,de.y-ie[he-1].y],fe>0)){for(;fe>=0;fe--)if(Q[fe-1].close!==!0&&Q[fe-1].begin!==!0){Q[fe-1].deltas.push(U),Q[fe-1].abs.push(de);break}}break;case"bct":U=[de.x1-ie[he-1].x,de.y1-ie[he-1].y,de.x2-ie[he-1].x,de.y2-ie[he-1].y,de.x-ie[he-1].x,de.y-ie[he-1].y],Q[Q.length-1].deltas.push(U);break;case"qct":var Le=ie[he-1].x+2/3*(de.x1-ie[he-1].x),Pe=ie[he-1].y+2/3*(de.y1-ie[he-1].y),Ce=de.x+2/3*(de.x1-de.x),ze=de.y+2/3*(de.y1-de.y),T=de.x,ke=de.y;U=[Le-ie[he-1].x,Pe-ie[he-1].y,Ce-ie[he-1].x,ze-ie[he-1].y,T-ie[he-1].x,ke-ie[he-1].y],Q[Q.length-1].deltas.push(U);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(de)}}V=D?null:A==="stroke"?"stroke":"fill";for(var ut=!1,We=0;We<Q.length;We++)if(Q[We].arc)for(var _e=Q[We].abs,Ve=0;Ve<_e.length;Ve++){var Ie=_e[Ve];Ie.type==="arc"?G.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,D,!ut):z.call(this,Ie.x,Ie.y),ut=!0}else if(Q[We].close===!0)this.pdf.internal.out("h"),ut=!1;else if(Q[We].begin!==!0){var $e=Q[We].start.x,He=Q[We].start.y;B.call(this,Q[We].deltas,$e,He),ut=!0}V&&F.call(this,V),D&&ee.call(this)}},pe=function(A){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-U;case"top":return A+D-U;case"hanging":return A+D-2*U;case"middle":return A+D/2-U;default:return A}},ce=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(D,U){this.colorStops.push([D,U])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(A,D,U,V,Q,ie,he,de,fe){for(var Le=re.call(this,U,V,Q,ie),Pe=0;Pe<Le.length;Pe++){var Ce=Le[Pe];Pe===0&&(fe?L.call(this,Ce.x1+A,Ce.y1+D):z.call(this,Ce.x1+A,Ce.y1+D)),K.call(this,A,D,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}de?ee.call(this):F.call(this,he)},F=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(A,D){this.pdf.internal.out(r(A)+" "+n(D)+" m")},E=function(A){var D;switch(A.align){case"right":case"end":D="right";break;case"center":D="center";break;default:D="left"}var U,V,Q,ie=this.pdf.getTextDimensions(A.text),he=pe.call(this,A.y),de=ce.call(this,he)-ie.h,fe=this.ctx.transform.applyToPoint(new c(A.x,he));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Pe=new u;Pe=(Pe=(Pe=Pe.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var Ce=this.ctx.transform.applyToRectangle(new o(A.x,he,ie.w,ie.h)),ze=Pe.applyToRectangle(new o(A.x,de,ie.w,ie.h)),T=I.call(this,ze),ke=[],ut=0;ut<T.length;ut+=1)ke.indexOf(T[ut])===-1&&ke.push(T[ut]);W(ke);for(var We=ke[0],_e=ke[ke.length-1],Ve=We;Ve<_e+1;Ve++){this.pdf.setPage(Ve);var Ie=Ve===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],At=He-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],nt=pt-this.margin[3],mt=Ve===1?0:$e+(Ve-2)*At;if(this.ctx.clip_path.length!==0){var gt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(U,this.posX+this.margin[3],-1*mt+Ie),le.call(this,"fill",!0),this.path=gt}var Me=H([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-mt+Ie+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*A.scale),Q=this.lineWidth,this.lineWidth=Q*A.scale);var at=this.autoPaging!=="text";if(at||Me.y+Me.h<=He){if(at||Me.y>=Ie&&Me.x<=pt){var Ue=at?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||pt-Me.x)[0],$t=H([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-mt+Ie+this.ctx.prevPageLastElemOffset)[0],yt=at&&(Ve>We||Ve<_e)&&k.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,At,null).clip().discardPath()),this.pdf.text(Ue,$t.x,$t.y,{angle:A.angle,align:D,renderingMode:A.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else Me.y<He&&(this.ctx.prevPageLastElemOffset+=He-Me.y);A.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=Q)}}else A.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*A.scale),Q=this.lineWidth,this.lineWidth=Q*A.scale),this.pdf.text(A.text,fe.x+this.posX,fe.y+this.posY,{angle:A.angle,align:D,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=Q)},z=function(A,D,U,V){U=U||0,V=V||0,this.pdf.internal.out(r(A+U)+" "+n(D+V)+" l")},B=function(A,D,U){return this.pdf.lines(A,D,U,null,null)},K=function(A,D,U,V,Q,ie,he,de){this.pdf.internal.out([e(a(U+A)),e(s(V+D)),e(a(Q+A)),e(s(ie+D)),e(a(he+A)),e(s(de+D)),"c"].join(" "))},re=function(A,D,U,V){for(var Q=2*Math.PI,ie=Math.PI/2;D>U;)D-=Q;var he=Math.abs(U-D);he<Q&&V&&(he=Q-he);for(var de=[],fe=V?-1:1,Le=D;he>1e-5;){var Pe=Le+fe*Math.min(he,ie);de.push(oe.call(this,A,Le,Pe)),he-=Math.abs(Pe-Le),Le=Pe}return de},oe=function(A,D,U){var V=(U-D)/2,Q=A*Math.cos(V),ie=A*Math.sin(V),he=Q,de=-ie,fe=he*he+de*de,Le=fe+he*Q+de*ie,Pe=4/3*(Math.sqrt(2*fe*Le)-Le)/(he*ie-de*Q),Ce=he-Pe*de,ze=de+Pe*he,T=Ce,ke=-ze,ut=V+D,We=Math.cos(ut),_e=Math.sin(ut);return{x1:A*Math.cos(D),y1:A*Math.sin(D),x2:Ce*We-ze*_e,y2:Ce*_e+ze*We,x3:T*We-ke*_e,y3:T*_e+ke*We,x4:A*Math.cos(U),y4:A*Math.sin(U)}},J=function(A){return 180*A/Math.PI},ue=function(A,D,U,V,Q,ie){var he=A+.5*(U-A),de=D+.5*(V-D),fe=Q+.5*(U-Q),Le=ie+.5*(V-ie),Pe=Math.min(A,Q,he,fe),Ce=Math.max(A,Q,he,fe),ze=Math.min(D,ie,de,Le),T=Math.max(D,ie,de,Le);return new o(Pe,ze,Ce-Pe,T-ze)},Ae=function(A,D,U,V,Q,ie,he,de){var fe,Le,Pe,Ce,ze,T,ke,ut,We,_e,Ve,Ie,$e,He,At=U-A,pt=V-D,nt=Q-U,mt=ie-V,gt=he-Q,Me=de-ie;for(Le=0;Le<41;Le++)We=(ke=(Pe=A+(fe=Le/40)*At)+fe*((ze=U+fe*nt)-Pe))+fe*(ze+fe*(Q+fe*gt-ze)-ke),_e=(ut=(Ce=D+fe*pt)+fe*((T=V+fe*mt)-Ce))+fe*(T+fe*(ie+fe*Me-T)-ut),Le==0?(Ve=We,Ie=_e,$e=We,He=_e):(Ve=Math.min(Ve,We),Ie=Math.min(Ie,_e),$e=Math.max($e,We),He=Math.max(He,_e));return new o(Math.round(Ve),Math.round(Ie),Math.round($e-Ve),Math.round(He-Ie))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,D,U=(A=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:D}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(qe.API),(function(t){var e=function(c){var o,u,d,m,x,w,g,C,k,I;for(u=[],d=0,m=(c+=o="\0\0\0\0".slice(c.length%4||4)).length;m>d;d+=4)(x=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(w=(x=((x=((x=((x=(x-(I=x%85))/85)-(k=x%85))/85)-(C=x%85))/85)-(g=x%85))/85)%85,u.push(w+33,g+33,C+33,k+33,I+33)):u.push(122);return(function(S,H){for(var W=H;W>0;W--)S.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},r=function(c){var o,u,d,m,x,w=String,g="length",C=255,k="charCodeAt",I="slice",S="replace";for(c[I](-2),c=c[I](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),d=[],m=0,x=(c+=o="uuuuu"[I](c[g]%5||5))[g];x>m;m+=5)u=52200625*(c[k](m)-33)+614125*(c[k](m+1)-33)+7225*(c[k](m+2)-33)+85*(c[k](m+3)-33)+(c[k](m+4)-33),d.push(C&u>>24,C&u>>16,C&u>>8,C&u);return(function(H,W){for(var q=W;q>0;q--)H.pop()})(d,o[g]),w.fromCharCode.apply(w,d)},n=function(c){return c.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),o.test(c)===!1)return"";for(var u="",d=0;d<c.length;d+=2)u+=String.fromCharCode("0x"+(c[d]+c[d+1]));return u},s=function(c){for(var o=new Uint8Array(c.length),u=c.length;u--;)o[u]=c.charCodeAt(u);return(o=yl(o)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};t.processDataByFilters=function(c,o){var u=0,d=c||"",m=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(qe.API),(function(t){t.loadFile=function(e,r,n){return(function(a,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var o=void 0;try{o=(function(u,d,m){var x=new XMLHttpRequest,w=0,g=function(C){var k=C.length,I=[],S=String.fromCharCode;for(w=0;w<k;w+=1)I.push(S(255&C.charCodeAt(w)));return I.join("")};if(x.open("GET",u,!d),x.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(x.onload=function(){x.status===200?m(g(this.responseText)):m(void 0)}),x.send(null),d&&x.status===200)return g(x.responseText)})(a,s,c)}catch{}return o})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(qe.API),(function(t){function e(){return(Qe.html2canvas?Promise.resolve(Qe.html2canvas):xi(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Qe.DOMPurify?Promise.resolve(Qe.DOMPurify):xi(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=kt(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var d=document.createElement(o);for(var m in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[m]=u.style[m];return d},s=function o(u,d){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),x=u.firstChild;x;x=x.nextSibling)d!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||m.appendChild(o(x,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},c=function o(u){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),m=o.convert(Promise.resolve(),d);return(m=m.setProgress(1,o,1,[o])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(o,u){return o.__proto__=u||c.prototype,o},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},c.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var d=this.opt.jsPDF,m=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var g=0;g<m.length;++g){var C=m[g],k=C.src.find(function(I){return I.format==="truetype"});k&&d.addFont(k.url,C.ref.name,C.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),u(this.prop.container,w)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(o,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},c.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},c.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},c.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(o,u){return this.then(function(){var d=o in c.template.prop?this.prop[o]:this.opt[o];return u?u(d):d})},c.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},c.prototype.setPageSize=function(o){function u(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(o=o||qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},c.prototype.setProgress=function(o,u,d,m){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(o,u,d,m){return this.setProgress(o?this.progress.val+o:null,u||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},c.prototype.then=function(o,u){var d=this;return this.thenCore(o,u,function(m,x){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,x).then(function(w){return d.updateProgress(1),w})})},c.prototype.thenCore=function(o,u,d){d=d||Promise.prototype.then;var m=this;o&&(o=o.bind(m)),u&&(u=u.bind(m));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:c.convert(Object.assign({},m),Promise.prototype),w=d.call(x,o,u);return c.convert(w,m.__proto__)},c.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},c.prototype.thenList=function(o){var u=this;return o.forEach(function(d){u=u.thenCore(d)}),u},c.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return c.convert(u,this)},c.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},c.prototype.error=function(o){return this.then(function(){throw new Error(o)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,qe.getPageSize=function(o,u,d){if(kt(o)==="object"){var m=o;o=m.orientation,u=m.unit||u,d=m.format||d}u=u||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var x,w=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+u}var C,k=0,I=0;if(g.hasOwnProperty(w))k=g[w][1]/x,I=g[w][0]/x;else try{k=d[1],I=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",I>k&&(C=I,I=k,k=C);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",k>I&&(C=I,I=k,k=C)}return{width:I,height:k,unit:u,k:x,orientation:o}},t.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(cl):null;var d=new c(u);return u.worker?d:d.from(o).doCallback()}})(qe.API),qe.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var c=a[s],o=n.exec(c);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(s=0;s<d;s++){var x=r.internal.newObject();m.push(x);var w=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<m.length;s++)r.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var c={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var c=n.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var o=this.count=this.count_r({count:0},c);if(o>0&&this.line("/Count "+o),c.options&&c.options.pageNumber){var u=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(qe.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,c,o){var u,d=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(x){for(var w,g=256*x.charCodeAt(4)+x.charCodeAt(5),C=x.length,k={width:0,height:0,numcomponents:1},I=4;I<C;I+=2){if(I+=g,e.indexOf(x.charCodeAt(I+1))!==-1){w=256*x.charCodeAt(I+5)+x.charCodeAt(I+6),k={width:256*x.charCodeAt(I+7)+x.charCodeAt(I+8),height:w,numcomponents:x.charCodeAt(I+9)};break}g=256*x.charCodeAt(I+2)+x.charCodeAt(I+3)}return k})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}m={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:a}}return m}})(qe.API),qe.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,s=q1(t,{checkCrc:!0}),c=s.width,o=s.height,u=s.channels,d=s.palette,m=s.depth;a=d&&u===1?(function(G){for(var F=G.width,ee=G.height,L=G.data,E=G.palette,z=G.depth,B=!1,K=[],re=[],oe=void 0,J=!1,ue=0,Ae=0;Ae<E.length;Ae++){var ye=Ic(E[Ae],4),A=ye[0],D=ye[1],U=ye[2],V=ye[3];K.push(A,D,U),V!=null&&(V===0?(ue++,re.length<1&&re.push(Ae)):V<255&&(J=!0))}if(J||ue>1){B=!0,re=void 0;var Q=F*ee;oe=new Uint8Array(Q);for(var ie=new DataView(L.buffer),he=0;he<Q;he++){var de=hl(ie,he,z),fe=Ic(E[de],4)[3];oe[he]=fe}}else ue===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:L,alphaBytes:oe,needSMask:B,palette:K,mask:re}})(s):u===2||u===4?(function(G){for(var F=G.data,ee=G.width,L=G.height,E=G.channels,z=G.depth,B=E===2?"DeviceGray":"DeviceRGB",K=E-1,re=ee*L,oe=K,J=re*oe,ue=1*re,Ae=Math.ceil(J*z/8),ye=Math.ceil(ue*z/8),A=new Uint8Array(Ae),D=new Uint8Array(ye),U=new DataView(F.buffer),V=new DataView(A.buffer),Q=new DataView(D.buffer),ie=!1,he=0;he<re;he++){for(var de=he*E,fe=0;fe<oe;fe++)Ou(V,hl(U,de+fe,z),he*oe+fe,z);var Le=hl(U,de+oe,z);Le<(1<<z)-1&&(ie=!0),Ou(Q,Le,1*he,z)}return{colorSpace:B,colorsPerPixel:K,sMaskBitsPerComponent:ie?z:void 0,colorBytes:A,alphaBytes:D,needSMask:ie}})(s):(function(G){var F=G.data,ee=G.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(L){for(var E=L.length,z=new Uint8Array(2*E),B=new DataView(z.buffer,z.byteOffset,z.byteLength),K=0;K<E;K++)B.setUint16(2*K,L[K],!1);return z})(F):F,needSMask:!1}})(s);var x,w,g,C=a,k=C.colorSpace,I=C.colorsPerPixel,S=C.sMaskBitsPerComponent,H=C.colorBytes,W=C.alphaBytes,q=C.needSMask,le=C.palette,pe=C.mask,ce=null;return n!==qe.API.image_compression.NONE&&typeof yl=="function"?(ce=(function(G){var F;switch(G){case qe.API.image_compression.FAST:F=11;break;case qe.API.image_compression.MEDIUM:F=13;break;case qe.API.image_compression.SLOW:F=14;break;default:F=12}return F})(n),x=this.decode.FLATE_DECODE,w="/Predictor ".concat(ce," /Colors ").concat(I," /BitsPerComponent ").concat(m," /Columns ").concat(c),t=Pu(H,Math.ceil(c*I*m/8),I,m,n),q&&(g=Pu(W,Math.ceil(c*S/8),1,S,n))):(x=void 0,w=void 0,t=H,q&&(g=W)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:t,index:e,filter:x,decodeParameters:w,transparency:pe,palette:le,sMask:g,predictor:ce,width:c,height:o,bitsPerComponent:m,sMaskBitsPerComponent:S,colorSpace:k}}},(function(t){t.processGIF89A=function(e,r,n,a){var s=new o2(e),c=s.width,o=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:c,height:o},m=new fl(100).encode(d,100);return t.processJPEG.call(this,m,r,n,a)},t.processGIF87A=t.processGIF89A})(qe.API),cn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cn.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){Et.log("bit decode error:"+r)}},cn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var u=this.palette[s>>7-o&1];this.data[c+4*o]=u.blue,this.data[c+4*o+1]=u.green,this.data[c+4*o+2]=u.red,this.data[c+4*o+3]=255}r!==0&&(this.pos+=4-r)}},cn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,o=s>>4,u=15&s,d=this.palette[o];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*a+1>=this.width)break;d=this.palette[u],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},cn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},cn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,m=n*this.width*4+4*a;this.data[m]=u,this.data[m+1]=o,this.data[m+2]=c,this.data[m+3]=d}this.pos+=t}},cn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(c&e)/e*255|0,u=(c>>5&r)/r*255|0,d=(c>>11)/e*255|0,m=a*this.width*4+4*s;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=o,this.data[m+3]=255}this.pos+=t}},cn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},cn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=c}},cn.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var s=new cn(e,!1),c=s.width,o=s.height,u={data:s.getData(),width:c,height:o},d=new fl(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)}})(qe.API),Mu.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var s=new Mu(e),c=s.width,o=s.height,u={data:s.getData(),width:c,height:o},d=new fl(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)}})(qe.API),qe.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),c=new Uint8Array(a/4),o=0,u=0,d=0;d<a;d+=4){var m=n[d],x=n[d+1],w=n[d+2],g=n[d+3];s[o++]=m,s[o++]=x,s[o++]=w,c[u++]=g}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:C,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},qe.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cs=qe.API,Ya=cs.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,u=o.fof?o.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,x=e.doKerning!==!1,w=0,g=t.length,C=0,k=o[0]||u,I=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?I.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/s)||0)/1e3):(w=x&&kt(d[n])==="object"&&!isNaN(parseInt(d[n][C],10))?d[n][C]/m:0,I.push((o[n]||k)/u+w)),C=n;return I},ju=cs.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return cs.processArabic&&(t=cs.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Ya.apply(this,arguments).reduce(function(s,c){return s+c},0)},ku=function(t,e,r,n){for(var a=[],s=0,c=t.length,o=0;s!==c&&o+e[s]<r;)o+=e[s],s++;a.push(t.slice(0,s));var u=s;for(o=0;s!==c;)o+e[s]>n&&(a.push(t.slice(u,s)),o=0,u=s),o+=e[s],s++;return u!==s&&a.push(t.slice(u,s)),a},Cu=function(t,e,r){r||(r={});var n,a,s,c,o,u,d,m=[],x=[m],w=r.textIndent||0,g=0,C=0,k=t.split(" "),I=Ya.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var S=Array(u).join(" "),H=[];k.map(function(q){(q=q.split(/\s*\n/)).length>1?H=H.concat(q.map(function(le,pe){return(pe&&le.length?`
`:"")+le})):H.push(q[0])}),k=H,u=ju.apply(this,[S,r])}for(s=0,c=k.length;s<c;s++){var W=0;if(n=k[s],u&&n[0]==`
`&&(n=n.substr(1),W=1),w+g+(C=(a=Ya.apply(this,[n,r])).reduce(function(q,le){return q+le},0))>e||W){if(C>e){for(o=ku.apply(this,[n,a,e-(w+g),e]),m.push(o.shift()),m=[o.pop()];o.length;)x.push([o.shift()]);C=a.slice(n.length-(m[0]?m[0].length:0)).reduce(function(q,le){return q+le},0)}else m=[n];x.push(m),w=C+u,g=I}else m.push(n),w+=g+C,g=I}return d=u?function(q,le){return(le?S:"")+q.join(" ")}:function(q){return q.join(" ")},x.map(d)},cs.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var x=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return x.metadata[w]?{widths:x.metadata[w].widths||{0:1},kerning:x.metadata[w].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,u,d=[];for(o=0,u=n.length;o<u;o++)d=d.concat(Cu.apply(this,[n[o],c,s]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=e[s],a[e[s]]=r[s];var c=function(w){return"0x"+parseInt(w,10).toString(16)},o=t.__fontmetrics__.compress=function(w){var g,C,k,I,S=["{"];for(var H in w){if(g=w[H],isNaN(parseInt(H,10))?C="'"+H+"'":(H=parseInt(H,10),C=(C=c(H).slice(2)).slice(0,-1)+a[C.slice(-1)]),typeof g=="number")g<0?(k=c(g).slice(3),I="-"):(k=c(g).slice(2),I=""),k=I+k.slice(0,-1)+a[k.slice(-1)];else{if(kt(g)!=="object")throw new Error("Don't know what to do with value type "+kt(g)+".");k=o(g)}S.push(C+k)}return S.push("}"),S.join("")},u=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,C,k,I,S={},H=1,W=S,q=[],le="",pe="",ce=w.length-1,G=1;G<ce;G+=1)(I=w[G])=="'"?g?(k=g.join(""),g=void 0):g=[]:g?g.push(I):I=="{"?(q.push([W,k]),W={},k=void 0):I=="}"?((C=q.pop())[0][C[1]]=W,k=void 0,W=C[0]):I=="-"?H=-1:k===void 0?n.hasOwnProperty(I)?(le+=n[I],k=parseInt(le,16)*H,H=1,le=""):le+=I:n.hasOwnProperty(I)?(pe+=n[I],W[k]=parseInt(pe,16)*H,H=1,k=void 0,pe=""):pe+=I;return S},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},x={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var g=w.font,C=x.Unicode[g.postScriptName];C&&(g.metadata.Unicode={},g.metadata.Unicode.widths=C.widths,g.metadata.Unicode.kerning=C.kerning);var k=m.Unicode[g.postScriptName];k&&(g.metadata.Unicode.encoding=k,g.encoding=k.codePages[0])}])})(qe.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Za(o)),c.metadata=t.API.TTFFont.open(o),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])})(qe),qe.API.addSvgAsImage=function(t,e,r,n,a,s,c,o){if(isNaN(e)||isNaN(r))throw Et.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Et.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Qe.canvg?Promise.resolve(Qe.canvg):xi(()=>import("./index.es-CAZir_3n.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){x.addImage(u.toDataURL("image/jpeg",1),e,r,n,a,c,o)})},qe.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},qe.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(c),u=[],d=0,m=0,x=0;function w(C,k){var I,S=!1;for(I=0;I<C.length;I+=1)C[I]===k&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(x=0;x<g;x+=1)r[o[x]].value=r[o[x]].defaultValue,r[o[x]].explicitSet=!1}if(kt(t)==="object"){for(a in t)if(s=t[a],w(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&w(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(m=0;m<s[d].length;m+=1)typeof s[d][m]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,k=[];for(C in r)r[C].explicitSet===!0&&(r[C].type==="name"?k.push("/"+C+" /"+r[C].value):k.push("/"+C+" "+r[C].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},qe.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",c2),this.internal.events.subscribe("postPutResources",l2)),this},(function(t){var e=t.API,r=e.pdfEscape16=function(s,c){for(var o,u=c.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],x=0,w=s.length;x<w;++x){if(o=c.metadata.characterToGlyph(s.charCodeAt(x)),c.metadata.glyIdsUsed.push(o),c.metadata.toUnicode[o]=s.charCodeAt(x),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(c.metadata.widthOfGlyph(o),10)])),o=="0")return m.join("");o=o.toString(16),m.push(d[4-o.length],o)}return m.join("")},n=function(s){var c,o,u,d,m,x,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],x=0,w=(o=Object.keys(s).sort(function(g,C){return g-C})).length;x<w;x++)c=o[x],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(d=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+d+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(c){var o=c.font,u=c.out,d=c.newObject,m=c.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var x=o.metadata.Unicode.widths,w=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",C=0;C<w.length;C++)g+=String.fromCharCode(w[C]);var k=d();m({data:g,addLength1:!0,objectId:k}),u("endobj");var I=d();m({data:n(o.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var S=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+hs(o.fontName)),u("/FontFile2 "+k+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var H=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+hs(o.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+t.API.PDFObject.convert(x)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+I+" 0 R"),u("/BaseFont /"+hs(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+H+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(c){var o=c.font,u=c.out,d=c.newObject,m=c.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var x=o.metadata.rawData,w="",g=0;g<x.length;g++)w+=String.fromCharCode(x[g]);var C=d();m({data:w,addLength1:!0,objectId:C}),u("endobj");var k=d();m({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var I=d();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+C+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+hs(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=d();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+hs(o.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var c,o=s.text||"",u=s.x,d=s.y,m=s.options||{},x=s.mutex||{},w=x.pdfEscape,g=x.activeFontKey,C=x.fonts,k=g,I="",S=0,H="",W=C[k].encoding;if(C[k].encoding!=="Identity-H")return{text:o,x:u,y:d,options:m,mutex:x};for(H=o,k=g,Array.isArray(o)&&(H=o[0]),S=0;S<H.length;S+=1)C[k].metadata.hasOwnProperty("cmap")&&(c=C[k].metadata.cmap.unicode.codeMap[H[S].charCodeAt(0)]),c||H[S].charCodeAt(0)<256&&C[k].metadata.hasOwnProperty("Unicode")?I+=H[S]:I+="";var q="";return parseInt(k.slice(1))<14||W==="WinAnsiEncoding"?q=w(I,k).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(q=r(I,C[k])),x.isHex=!0,{text:q,x:u,y:d,options:m,mutex:x}};e.events.push(["postProcessText",function(s){var c=s.text||"",o=[],u={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?o.push([a(Object.assign({},u,{text:c[d][0]})).text,c[d][1],c[d][2]]):o.push(a(Object.assign({},u,{text:c[d]})).text);s.text=o}else s.text=a(Object.assign({},u,{text:c})).text}])})(qe),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(qe.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,c,o,u,d,m,x=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,W=0;this.__bidiEngine__={};var q=function(L){var E=L.charCodeAt(),z=E>>8,B=k[z];return B!==void 0?x[256*B+(255&E)]:z===252||z===253?"AL":S.test(z)?"L":z===8?"R":"N"},le=function(L){for(var E,z=0;z<L.length;z++){if((E=q(L.charAt(z)))==="L")return!1;if(E==="R")return!0}return!1},pe=function(L,E,z,B){var K,re,oe,J,ue=E[B];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"N":case"AN":break;case"EN":H&&(ue="AN");break;case"AL":H=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":B<1||B+1>=E.length||(K=z[B-1])!=="EN"&&K!=="AN"||(re=E[B+1])!=="EN"&&re!=="AN"?ue="N":H&&(re="AN"),ue=re===K?re:"N";break;case"ES":ue=(K=B>0?z[B-1]:"B")==="EN"&&B+1<E.length&&E[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&z[B-1]==="EN"){ue="EN";break}if(H){ue="N";break}for(oe=B+1,J=E.length;oe<J&&E[oe]==="ET";)oe++;ue=oe<J&&E[oe]==="EN"?"EN":"N";break;case"NSM":if(c&&!o){for(J=E.length,oe=B+1;oe<J&&E[oe]==="NSM";)oe++;if(oe<J){var Ae=L[B],ye=Ae>=1425&&Ae<=2303||Ae===64286;if(K=E[oe],ye&&(K==="R"||K==="AL")){ue="R";break}}}ue=B<1||(K=E[B-1])==="B"?"N":z[B-1];break;case"B":H=!1,a=!0,ue=W;break;case"S":s=!0,ue="N"}return ue},ce=function(L,E,z){var B=L.split("");return z&&G(B,z,{hiLevel:W}),B.reverse(),E&&E.reverse(),B.join("")},G=function(L,E,z){var B,K,re,oe,J,ue=-1,Ae=L.length,ye=0,A=[],D=W?g:w,U=[];for(H=!1,a=!1,s=!1,K=0;K<Ae;K++)U[K]=q(L[K]);for(re=0;re<Ae;re++){if(J=ye,A[re]=pe(L,U,A,re),B=240&(ye=D[J][C[A[re]]]),ye&=15,E[re]=oe=D[ye][5],B>0)if(B===16){for(K=ue;K<re;K++)E[K]=1;ue=-1}else ue=-1;if(D[ye][6])ue===-1&&(ue=re);else if(ue>-1){for(K=ue;K<re;K++)E[K]=oe;ue=-1}U[re]==="B"&&(E[re]=0),z.hiLevel|=oe}s&&(function(V,Q,ie){for(var he=0;he<ie;he++)if(V[he]==="S"){Q[he]=W;for(var de=he-1;de>=0&&V[de]==="WS";de--)Q[de]=W}})(U,E,Ae)},F=function(L,E,z,B,K){if(!(K.hiLevel<L)){if(L===1&&W===1&&!a)return E.reverse(),void(z&&z.reverse());for(var re,oe,J,ue,Ae=E.length,ye=0;ye<Ae;){if(B[ye]>=L){for(J=ye+1;J<Ae&&B[J]>=L;)J++;for(ue=ye,oe=J-1;ue<oe;ue++,oe--)re=E[ue],E[ue]=E[oe],E[oe]=re,z&&(re=z[ue],z[ue]=z[oe],z[oe]=re);ye=J}ye++}}},ee=function(L,E,z){var B=L.split(""),K={hiLevel:W};return z||(z=[]),G(B,z,K),(function(re,oe,J){if(J.hiLevel!==0&&m)for(var ue,Ae=0;Ae<re.length;Ae++)oe[Ae]===1&&(ue=I.indexOf(re[Ae]))>=0&&(re[Ae]=I[ue+1])})(B,z,K),F(2,B,E,z,K),F(1,B,E,z,K),B.join("")};return this.__bidiEngine__.doBidiReorder=function(L,E,z){if((function(K,re){if(re)for(var oe=0;oe<K.length;oe++)re[oe]=oe;o===void 0&&(o=le(K)),d===void 0&&(d=le(K))})(L,E),c||!u||d)if(c&&u&&o^d)W=o?1:0,L=ce(L,E,z);else if(!c&&u&&d)W=o?1:0,L=ee(L,E,z),L=ce(L,E);else if(!c||o||u||d){if(c&&!u&&o^d)L=ce(L,E),o?(W=0,L=ee(L,E,z)):(W=1,L=ee(L,E,z),L=ce(L,E));else if(c&&o&&!u&&d)W=1,L=ee(L,E,z),L=ce(L,E);else if(!c&&!u&&o^d){var B=m;o?(W=1,L=ee(L,E,z),W=0,m=!1,L=ee(L,E,z),m=B):(W=0,L=ee(L,E,z),L=ce(L,E),W=1,m=!1,L=ee(L,E,z),m=B,L=ce(L,E))}}else W=0,L=ee(L,E,z);else W=o?1:0,L=ee(L,E,z);return L},this.__bidiEngine__.setOptions=function(L){L&&(c=L.isInputVisual,u=L.isOutputVisual,o=L.isInputRtl,d=L.isOutputRtl,m=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(c=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?c.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):c.push([r.doBidiReorder(a[o])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(qe),qe.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new yi(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new _2(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new u2(this.contents),this.head=new f2(this),this.name=new b2(this),this.cmap=new Dh(this),this.toUnicode={},this.hhea=new d2(this),this.maxp=new x2(this),this.hmtx=new v2(this),this.post=new g2(this),this.os2=new p2(this),this.loca=new A2(this),this.glyf=new y2(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,o,u,d;for(d=[],c=0,o=(u=this.bbox).length;c<o;c++)e=u[c],d.push(Math.round(e*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,c,o;for(c=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=e.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var pn,yi=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,c,o,u;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),c=this.readByte(),o=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^c)+256*(255^o)+(255^u)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*c+256*o+u},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),u2=(function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,c,o,u,d,m,x,w,g,C,k;for(k in g=Object.keys(r).length,u=Math.log(2),x=16*Math.floor(Math.log(g)/u),c=Math.floor(x/u),m=16*g-x,(a=new yi).writeInt(this.scalarType),a.writeShort(g),a.writeShort(x),a.writeShort(c),a.writeShort(m),s=16*g,d=a.pos+s,o=null,C=[],r)for(w=r[k],a.writeString(k),a.writeInt(t(w)),a.writeInt(d),a.writeInt(w.length),C=C.concat(w),k==="head"&&(o=d),d+=w.length;d%4;)C.push(0),d++;return a.write(C),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,c;for(r=qh.call(r);r.length%4;)r.push(0);for(s=new yi(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),h2={}.hasOwnProperty,Pn=function(t,e){for(var r in e)h2.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};pn=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var f2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new yi).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),Bu=(function(){function t(e,r){var n,a,s,c,o,u,d,m,x,w,g,C,k,I,S,H,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),w=g/2,e.pos+=6,s=(function(){var q,le;for(le=[],u=q=0;0<=w?q<w:q>w;u=0<=w?++q:--q)le.push(e.readUInt16());return le})(),e.pos+=2,k=(function(){var q,le;for(le=[],u=q=0;0<=w?q<w:q>w;u=0<=w?++q:--q)le.push(e.readUInt16());return le})(),d=(function(){var q,le;for(le=[],u=q=0;0<=w?q<w:q>w;u=0<=w?++q:--q)le.push(e.readUInt16());return le})(),m=(function(){var q,le;for(le=[],u=q=0;0<=w?q<w:q>w;u=0<=w?++q:--q)le.push(e.readUInt16());return le})(),a=(this.length-e.pos+this.offset)/2,o=(function(){var q,le;for(le=[],u=q=0;0<=a?q<a:q>a;u=0<=a?++q:--q)le.push(e.readUInt16());return le})(),u=S=0,W=s.length;S<W;u=++S)for(I=s[u],n=H=C=k[u];C<=I?H<=I:H>=I;n=C<=I?++H:--H)m[u]===0?c=n+d[u]:(c=o[m[u]/2+(n-C)-(w-u)]||0)!==0&&(c+=d[u]),this.codeMap[n]=65535&c}e.pos=x}return t.encode=function(e,r){var n,a,s,c,o,u,d,m,x,w,g,C,k,I,S,H,W,q,le,pe,ce,G,F,ee,L,E,z,B,K,re,oe,J,ue,Ae,ye,A,D,U,V,Q,ie,he,de,fe,Le,Pe;switch(B=new yi,c=Object.keys(e).sort(function(Ce,ze){return Ce-ze}),r){case"macroman":for(k=0,I=(function(){var Ce=[];for(C=0;C<256;++C)Ce.push(0);return Ce})(),H={0:0},s={},K=0,ue=c.length;K<ue;K++)H[de=e[a=c[K]]]==null&&(H[de]=++k),s[a]={old:e[a],new:H[e[a]]},I[a]=H[e[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(I),{charMap:s,subtable:B.data,maxGlyphID:k+1};case"unicode":for(E=[],x=[],W=0,H={},n={},S=d=null,re=0,Ae=c.length;re<Ae;re++)H[le=e[a=c[re]]]==null&&(H[le]=++W),n[a]={old:le,new:H[le]},o=H[le]-a,S!=null&&o===d||(S&&x.push(S),E.push(a),d=o),S=a;for(S&&x.push(S),x.push(65535),E.push(65535),ee=2*(F=E.length),G=2*Math.pow(Math.log(F)/Math.LN2,2),w=Math.log(G/2)/Math.LN2,ce=2*F-G,u=[],pe=[],g=[],C=oe=0,ye=E.length;oe<ye;C=++oe){if(L=E[C],m=x[C],L===65535){u.push(0),pe.push(0);break}if(L-(z=n[L].new)>=32768)for(u.push(0),pe.push(2*(g.length+F-C)),a=J=L;L<=m?J<=m:J>=m;a=L<=m?++J:--J)g.push(n[a].new);else u.push(z-L),pe.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*F+2*g.length),B.writeUInt16(0),B.writeUInt16(ee),B.writeUInt16(G),B.writeUInt16(w),B.writeUInt16(ce),ie=0,A=x.length;ie<A;ie++)a=x[ie],B.writeUInt16(a);for(B.writeUInt16(0),he=0,D=E.length;he<D;he++)a=E[he],B.writeUInt16(a);for(fe=0,U=u.length;fe<U;fe++)o=u[fe],B.writeUInt16(o);for(Le=0,V=pe.length;Le<V;Le++)q=pe[Le],B.writeUInt16(q);for(Pe=0,Q=g.length;Pe<Q;Pe++)k=g[Pe],B.writeUInt16(k);return{charMap:n,subtable:B.data,maxGlyphID:W+1}}},t})(),Dh=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Bu(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=Bu.encode(e,r),(a=new yi).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),d2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),p2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),g2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var c,o,u;for(u=[],s=c=0,o=this.file.maxp.numGlyphs;0<=o?c<o:c>o;s=0<=o?++c:--c)u.push(e.readUInt32());return u}.call(this)}},t})(),m2=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},b2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,s,c,o,u,d,m,x,w;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(u={},s=m=0,x=n.length;m<x;s=++m)a=n[s],e.pos=a.offset,d=e.readString(a.length),c=new m2(d,a),u[w=a.nameID]==null&&(u[w]=[]),u[a.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),x2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),v2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,s,c,o,u;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=function(){var d,m,x,w;for(w=[],d=0,m=(x=this.metrics).length;d<m;d++)s=x[d],w.push(s.advance);return w}.call(this),n=this.widths[this.widths.length-1],u=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)u.push(this.widths.push(n));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),qh=[].slice,y2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,s,c,o,u,d,m,x;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,c=(o=new yi(r.read(a))).readShort(),d=o.readShort(),x=o.readShort(),u=o.readShort(),m=o.readShort(),this.cache[e]=c===-1?new N2(o,d,x,u,m):new w2(o,c,d,x,u,m),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,s,c,o,u;for(c=[],s=[],o=0,u=r.length;o<u;o++)a=e[r[o]],s.push(c.length),a&&(c=c.concat(a.encode(n)));return s.push(c.length),{table:c,offsets:s}},t})(),w2=(function(){function t(e,r,n,a,s,c){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),N2=(function(){function t(e,r,n,a,s){var c,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;o=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&o;)c.pos+=1&o?4:2,128&o?c.pos+=8:64&o?c.pos+=4:8&o&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new yi(qh.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),A2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pn(t,pn),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,c=0;c<n.length;++c)if(n[c]=a,s<r.length&&r[s]==c){++s,n[c]=a;var o=this.offsets[c],u=this.offsets[c+1]-o;u>0&&(a+=u)}for(var d=new Array(4*n.length),m=0;m<n.length;++m)d[4*m+3]=255&n[m],d[4*m+2]=(65280&n[m])>>8,d[4*m+1]=(16711680&n[m])>>16,d[4*m]=(4278190080&n[m])>>24;return d},t})(),_2=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,c,o,u;for(a={},c=0,o=e.length;c<o;c++)a[s=e[c]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in u=this.glyphsFor(r))n=u[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,c,o,u,d,m,x,w,g,C,k,I,S;for(a in n=Dh.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),g={0:0},S=n.charMap)g[(u=S[a]).old]=u.new;for(C in w=n.maxGlyphID,c)C in g||(g[C]=w++);return m=(function(H){var W,q;for(W in q={},H)q[H[W]]=W;return q})(g),x=Object.keys(m).sort(function(H,W){return H-W}),k=(function(){var H,W,q;for(q=[],H=0,W=x.length;H<W;H++)o=x[H],q.push(m[o]);return q})(),s=this.font.glyf.encode(c,k,g),d=this.font.loca.encode(s.offsets,k),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},t})();qe.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,c;if(Array.isArray(r))return"["+(function(){var o,u,d;for(d=[],o=0,u=r.length;o<u;o++)n=r[o],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)c=r[a],s.push("/"+a+" "+e.convert(c));return s.push(">>"),s.join(`
`)}return""+r},e})();function ro({title:t,preview:e,icon:r,defaultOpen:n=!1,variant:a="default",badge:s,children:c}){const[o,u]=Je.useState(n),d=Je.useRef(null),[m,x]=Je.useState(n?"auto":0);Je.useEffect(()=>{d.current&&x(o?d.current.scrollHeight:0)},[o,c]);const w={default:"border-b border-gray-100 border-l-4 border-l-gray-200 hover:border-l-blue-400 transition-colors",bordered:"border border-gray-200 rounded-xl mb-3",filled:"bg-gray-50 rounded-xl mb-3 border border-gray-100"},g={default:"py-4 px-4",bordered:"p-4",filled:"p-4"};return h.jsxs("div",{className:w[a],children:[h.jsxs("button",{onClick:()=>u(!o),className:`w-full flex items-center justify-between gap-4 text-left group transition-colors hover:bg-gray-50/50 ${g[a]}`,"aria-expanded":o,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r&&h.jsx("span",{className:`shrink-0 ${o?"text-blue-600":"text-gray-400 group-hover:text-gray-600"} transition-colors`,children:r}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:`font-semibold ${o?"text-gray-900":"text-gray-700"} transition-colors`,children:t}),!o&&e&&h.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e})]})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s&&!o&&h.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-gray-100 text-gray-600",children:s}),h.jsx($u,{size:20,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180":""}`})]})]}),h.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-out",style:{maxHeight:o?m:0,opacity:o?1:0},children:h.jsx("div",{ref:d,className:a==="default"?"pb-4":"px-4 pb-4",children:c})})]})}function Uh({appData:t}){const e=Je.useMemo(()=>{if(!t)return{critical:[],warnings:[],clean:[]};const s=[],c=[],o=[];t["has-felony"]==="yes"&&s.push({label:"Felony Reported",detail:t.felonyExplanation||"No details provided",icon:kd}),t["drug-test-positive"]==="yes"&&s.push({label:"Drug/Alcohol Positive",detail:t["drug-test-explanation"]||"Positive test or refusal on record",icon:_d}),t["revoked-licenses"]==="yes"&&s.push({label:"License Revoked/Suspended",detail:"History of license revocation",icon:ud});const u=t.accidents?.length||0,d=t.accidents?.filter(w=>w.preventable==="yes").length||0;u>0&&c.push({label:`${u} Accident${u>1?"s":""}`,detail:d>0?`${d} marked preventable`:"Review details",icon:ld});const m=t.violations?.length||0;m>0&&c.push({label:`${m} Violation${m>1?"s":""}`,detail:"Review driving record",icon:vi});const x=t.unemployment?.length||0;return x>0&&c.push({label:"Employment Gaps",detail:`${x} gap${x>1?"s":""} reported`,icon:Kn}),t["driving-convictions"]==="yes"&&c.push({label:"Driving While Suspended",detail:"Convicted of driving while suspended",icon:qu}),t["has-felony"]!=="yes"&&o.push({label:"No Felony",icon:kn}),t["drug-test-positive"]!=="yes"&&o.push({label:"Clean Drug History",icon:kn}),u===0&&o.push({label:"No Accidents",icon:kn}),m===0&&o.push({label:"Clean Violations",icon:kn}),{critical:s,warnings:c,clean:o}},[t]),r=e.critical.length>0,n=e.warnings.length>0,a=!r&&!n;return a&&e.clean.length===0?null:h.jsxs("div",{className:`rounded-xl p-4 ${r?"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200":n?"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200":"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200"}`,children:[h.jsx("div",{className:"flex items-center gap-2 mb-3",children:r?h.jsxs(h.Fragment,{children:[h.jsx(Wu,{size:18,className:"text-red-600"}),h.jsx("span",{className:"text-sm font-bold text-red-700 uppercase tracking-wide",children:"Risk Assessment"})]}):n?h.jsxs(h.Fragment,{children:[h.jsx(Kn,{size:18,className:"text-yellow-600"}),h.jsx("span",{className:"text-sm font-bold text-yellow-700 uppercase tracking-wide",children:"Review Recommended"})]}):h.jsxs(h.Fragment,{children:[h.jsx(kn,{size:18,className:"text-green-600"}),h.jsx("span",{className:"text-sm font-bold text-green-700 uppercase tracking-wide",children:"Clean Record"})]})}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.critical.map((s,c)=>h.jsxs("div",{className:"group relative flex items-center gap-2 px-3 py-2 bg-red-100 border border-red-300 rounded-lg cursor-help",title:s.detail,children:[h.jsx(s.icon,{size:16,className:"text-red-600 shrink-0"}),h.jsx("span",{className:"text-sm font-semibold text-red-800",children:s.label}),h.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 shadow-lg",children:[s.detail,h.jsx("div",{className:"absolute top-full left-4 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-gray-900"})]})]},`critical-${c}`)),e.warnings.map((s,c)=>h.jsxs("div",{className:"group relative flex items-center gap-2 px-3 py-2 bg-yellow-100 border border-yellow-300 rounded-lg cursor-help",title:s.detail,children:[h.jsx(s.icon,{size:16,className:"text-yellow-700 shrink-0"}),h.jsx("span",{className:"text-sm font-semibold text-yellow-800",children:s.label}),h.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-48 p-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 shadow-lg",children:[s.detail,h.jsx("div",{className:"absolute top-full left-4 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-gray-900"})]})]},`warning-${c}`)),a&&e.clean.slice(0,4).map((s,c)=>h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 border border-green-300 rounded-lg",children:[h.jsx(s.icon,{size:16,className:"text-green-600 shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-green-800",children:s.label})]},`clean-${c}`))]})]})}function zh({appData:t,currentStatus:e,handleStatusUpdate:r,canEdit:n,onPhoneClick:a}){if(!t)return null;const s=`${t.firstName||""} ${t.lastName||""}`.trim()||"Unknown",c=`${t.firstName?.[0]||""}${t.lastName?.[0]||""}`.toUpperCase()||"?",o=t["experience-years"]||t.experience||"N/A",u=t.positionApplyingTo||"Driver",d=Array.isArray(t.driverType)?t.driverType.slice(0,2).join(", ")+(t.driverType.length>2?"...":""):t.driverType||"",m=[t.city,t.state].filter(Boolean).join(", ")||"Location not specified",x=S=>{if(!S)return null;try{if(S.toDate)return S.toDate();if(S.seconds)return new Date(S.seconds*1e3);const H=new Date(S);return isNaN(H.getTime())?null:H}catch{return null}},w=x(t.createdAt)||x(t.submittedAt),g=w?w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Date unavailable",C=S=>{if(!S)return"#";let H=Rf(S);return H.length===10&&(H="1"+H),`https://t.me/+${H}`},k=S=>({Approved:"bg-green-500",Rejected:"bg-red-500",Disqualified:"bg-red-400","Background Check":"bg-purple-500","In Review":"bg-blue-500",Contacted:"bg-cyan-500",Attempted:"bg-orange-400","New Application":"bg-indigo-500","New Lead":"bg-indigo-400","Awaiting Documents":"bg-yellow-500","Offer Sent":"bg-emerald-500"})[S]||"bg-gray-500",I=["New Application","New Lead","Contacted","Attempted","In Review","Background Check","Awaiting Documents","Approved","Rejected","Disqualified","Offer Sent"];return h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"flex items-start gap-5",children:[h.jsx("div",{className:"shrink-0",children:h.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:c})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 truncate",children:s}),h.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[h.jsx("span",{className:"text-gray-600 font-medium",children:u}),d&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-gray-300",children:""}),h.jsx("span",{className:"text-gray-500",children:d})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.phone&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:S=>{window.location.href=`tel:${t.phone}`,a&&a(S,t)},className:"w-10 h-10 flex items-center justify-center rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-all shadow-sm hover:scale-105",title:`Call ${dl(t.phone)}`,"aria-label":`Call ${dl(t.phone)}`,children:h.jsx(Qs,{size:18})}),h.jsx("a",{href:C(t.phone),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 transition-all shadow-sm hover:scale-105",title:"Open Telegram","aria-label":"Open Telegram",children:h.jsx(Nd,{size:18})})]}),t.email&&h.jsx("a",{href:`mailto:${t.email}`,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all shadow-sm hover:scale-105",title:`Email ${t.email}`,"aria-label":`Email ${t.email}`,children:h.jsx(Cl,{size:18})})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-sm text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(Uu,{size:14,className:"text-gray-400"}),m]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(bs,{size:14,className:"text-gray-400"}),o," ",o==="1"||o===1?"year":"years"," exp."]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(Of,{size:14,className:"text-gray-400"}),"Applied ",g]})]}),t.jobTitle&&h.jsx("div",{className:"mt-3",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:[h.jsx(bs,{size:12}),"Applied for: ",t.jobTitle]})})]})]})}),h.jsxs("div",{className:"px-6 py-3 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${k(e)} shadow-sm ring-2 ring-white`}),h.jsx("span",{className:"font-semibold text-gray-800",children:e})]}),n&&h.jsxs("div",{className:"relative",children:[h.jsx("select",{className:"appearance-none px-4 py-2 pr-8 text-sm font-semibold border-2 border-gray-200 rounded-xl bg-white hover:border-blue-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none cursor-pointer transition-all shadow-sm",value:e,onChange:S=>r(S.target.value),"aria-label":"Update application status",children:I.map(S=>h.jsx("option",{value:S,children:S},S))}),h.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:h.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}function Hh({appData:t,dqStatus:e}){if(!t)return null;const r=t.cdlClass||"",n=[r&&(r.toLowerCase().startsWith("class")?r:`Class ${r}`),t.cdlState,t.cdlExpiration&&`Exp ${t.cdlExpiration}`].filter(Boolean).join("  ")||"Not provided",a=t.endorsements||"None",s=t["has-twic"]==="yes",c=t.twicExpiration,o=t["agree-clearinghouse"]==="agreed"||t["agree-clearinghouse"]==="yes"||t["clearinghouse-consent"]==="agreed"||t["clearinghouse-consent"]==="yes"||t.clearinghouseConsent===!0,u=e||{complete:0,total:7},d=()=>t.referralSource?t.referralSource:t.isPlatformLead||t.sourceType==="Added by Safehaul"?"SafeHaul Network":t.source||t.sourceType||"Direct";return h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-9 h-9 rounded-lg bg-blue-100 flex items-center justify-center shrink-0",children:h.jsx(zf,{size:18,className:"text-blue-600"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"CDL"}),h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:n})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-9 h-9 rounded-lg bg-purple-100 flex items-center justify-center shrink-0",children:h.jsx(Wf,{size:18,className:"text-purple-600"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-wide",children:"Endorsements"}),h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:a})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${s?"bg-green-100":"bg-gray-100"}`,children:h.jsx(Jf,{size:18,className:s?"text-green-600":"text-gray-400"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"TWIC"}),h.jsx("p",{className:`text-sm font-semibold truncate ${s?"text-green-700":"text-gray-500"}`,children:s?c?`Exp ${c}`:"Active":"Not Held"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${o?"bg-green-100":"bg-yellow-100"}`,children:h.jsx(Yu,{size:18,className:o?"text-green-600":"text-yellow-600"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Clearinghouse"}),h.jsx("p",{className:`text-sm font-semibold truncate ${o?"text-green-700":"text-yellow-700"}`,children:o?"Consented":"Pending"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-9 h-9 rounded-lg bg-indigo-100 flex items-center justify-center shrink-0",children:h.jsx(ea,{size:18,className:"text-indigo-600"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"DQ File"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[u.complete,"/",u.total]}),h.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden max-w-[60px]",children:h.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all",style:{width:`${u.complete/u.total*100}%`}})})]})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center shrink-0",children:h.jsx(Vu,{size:18,className:"text-gray-500"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Source"}),h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:d()})]})]})]})})}function Gh({appData:t}){const[e,r]=Je.useState(null),n=t?.employers||t?.employmentHistory||[],a=t?.unemployment||t?.employmentGaps||[],s=Je.useMemo(()=>{if(n.length===0)return[];const m=w=>{if(!w)return null;const g=w.match(/^(\d{1,2})\/(\d{4})$/);if(g)return new Date(parseInt(g[2]),parseInt(g[1])-1);const C=w.match(/^([A-Za-z]+)\s*(\d{4})$/);if(C){const I=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].findIndex(S=>C[1].toLowerCase().startsWith(S));if(I>=0)return new Date(parseInt(C[2]),I)}return null},x=n.map((w,g)=>{let C=null,k=null;if(w.dates){const I=w.dates.split(/\s*[-to]+\s*/i);if(I.length>=2){C=m(I[0].trim());const S=I[1].trim().toLowerCase();k=S==="present"||S==="current"?new Date:m(I[1].trim())}}else{C=m(w.from||w.startDate);const I=w.to||w.endDate;k=I?.toLowerCase()==="present"?new Date:m(I)}return{...w,index:g,startDate:C,endDate:k,isPresent:!w.to||w.to?.toLowerCase()==="present"}}).filter(w=>w.startDate);return x.sort((w,g)=>(g.startDate?.getTime()||0)-(w.startDate?.getTime()||0)),x},[n]),{minDate:c,maxDate:o,totalMonths:u}=Je.useMemo(()=>{if(s.length===0)return{minDate:null,maxDate:null,totalMonths:0};const m=s.flatMap(I=>[I.startDate,I.endDate]).filter(Boolean),x=new Date(Math.min(...m.map(I=>I.getTime()))),w=new Date(Math.max(...m.map(I=>I.getTime()))),g=new Date;g.setFullYear(g.getFullYear()-10);const C=new Date(Math.min(x.getTime(),g.getTime())),k=(w.getFullYear()-C.getFullYear())*12+(w.getMonth()-C.getMonth());return{minDate:C,maxDate:w,totalMonths:Math.max(k,1)}},[s]),d=["bg-blue-500","bg-indigo-500","bg-purple-500","bg-teal-500","bg-cyan-500","bg-emerald-500","bg-amber-500","bg-rose-500"];return n.length===0?h.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200 p-8 text-center",children:[h.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200 flex items-center justify-center mx-auto mb-4",children:h.jsx(bs,{className:"w-7 h-7 text-gray-400"})}),h.jsx("h4",{className:"text-gray-700 font-semibold mb-1",children:"No Employment History"}),h.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto",children:"Employment history will appear here once the applicant provides it in their application."})]}):h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"px-5 py-4 border-b border-gray-100 bg-gray-50",children:h.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(bs,{size:18,className:"text-gray-400"}),"Employment Timeline",h.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",n.length," employer",n.length!==1?"s":"",")"]})]})}),c&&o&&h.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-2 px-1",children:[h.jsx("span",{children:c.getFullYear()}),h.jsx("span",{children:o.getFullYear()})]}),h.jsx("div",{className:"h-8 bg-gray-100 rounded-lg relative overflow-hidden",children:s.map((m,x)=>{const w=(m.startDate.getTime()-c.getTime())/(o.getTime()-c.getTime())*100,g=(m.endDate.getTime()-c.getTime())/(o.getTime()-c.getTime())*100,C=Math.max(g-w,2);return h.jsx("div",{className:`absolute top-1 bottom-1 ${d[x%d.length]} rounded cursor-pointer transition-all hover:opacity-80`,style:{left:`${w}%`,width:`${C}%`},onClick:()=>r(e===m.index?null:m.index),title:m.name},x)})})]})}),a.length>0&&h.jsxs("div",{className:"px-5 py-3 bg-yellow-50 border-b border-yellow-100 flex items-center gap-2",children:[h.jsx(Kn,{size:16,className:"text-yellow-600 shrink-0"}),h.jsxs("span",{className:"text-sm text-yellow-800",children:[h.jsx("strong",{children:a.length})," employment gap",a.length!==1?"s":""," reported"]})]}),h.jsx("div",{className:"divide-y divide-gray-100",children:s.map((m,x)=>h.jsxs("div",{className:"group",children:[h.jsxs("button",{onClick:()=>r(e===m.index?null:m.index),className:"w-full px-5 py-4 flex items-center gap-4 text-left hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${d[x%d.length]} shrink-0`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-semibold text-gray-900 truncate",children:m.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[m.dates||`${m.from} - ${m.to||"Present"}`,m.position&&`  ${m.position}`]})]}),h.jsx("div",{className:"shrink-0 text-gray-400",children:e===m.index?h.jsx(Hf,{size:18}):h.jsx($u,{size:18})})]}),e===m.index&&h.jsxs("div",{className:"px-5 pb-4 pl-12 space-y-2 animate-in slide-in-from-top-2 duration-200",children:[(m.city||m.state)&&h.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[h.jsx(Uu,{size:14,className:"text-gray-400"}),[m.city,m.state].filter(Boolean).join(", ")]}),m.phone&&h.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[h.jsx(Qs,{size:14,className:"text-gray-400"}),dl(m.phone)]}),m.reason&&h.jsxs("p",{className:"text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Reason for leaving:"})," ",m.reason]})]})]},x))}),a.length>0&&h.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 px-5 py-4",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3",children:"Employment Gaps"}),h.jsx("div",{className:"space-y-2",children:a.map((m,x)=>h.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 mt-1.5 shrink-0"}),h.jsxs("div",{children:[h.jsxs("span",{className:"font-medium text-gray-700",children:[m.startDate," - ",m.endDate,":"]}),h.jsx("span",{className:"text-gray-600 ml-1",children:m.details})]})]},x))})]})]})}function $h({dqFiles:t=[],onViewDQFile:e}){const r=[{key:"mvr",label:"MVR",fullLabel:"Motor Vehicle Record (Annual)"},{key:"medical",label:"Med Card",fullLabel:"Medical Examiner's Certificate"},{key:"roadtest",label:"Road Test",fullLabel:"Road Test Certificate"},{key:"psp",label:"PSP",fullLabel:"Pre-Employment Screening Program"},{key:"clearinghouse",label:"CH Full",fullLabel:"Clearinghouse Report (Full Query)"},{key:"clearinghouse_annual",label:"CH Annual",fullLabel:"Clearinghouse Report (Annual)"},{key:"violations",label:"Violations",fullLabel:"Certificate of Violations (Annual)"}],n=m=>{const x=t.filter(g=>{const C=(g.fileType||g.type||g.docType||"").toLowerCase(),k=(g.fileName||g.name||"").toLowerCase();return({mvr:["mvr","mvr (annual)","motor vehicle record"],medical:["medical","med card","medical card","medical examiner"],roadtest:["road test","roadtest","road test certificate"],psp:["psp","psp report","pre-employment screening"],clearinghouse:["clearinghouse report (full)","clearinghouse full","ch full"],clearinghouse_annual:["clearinghouse report (annual)","clearinghouse annual","ch annual"],violations:["certificate of violations","violations","certificate of violations (annual)"]}[m]||[m]).some(H=>C.includes(H)||k.includes(H))});if(x.length===0)return{status:"missing",file:null};const w=x[0];if(w.expirationDate){const g=new Date(w.expirationDate),k=Math.ceil((g-new Date)/(1e3*60*60*24));if(k<0)return{status:"expired",file:w,daysUntilExpiry:k};if(k<=30)return{status:"expiring",file:w,daysUntilExpiry:k}}return{status:"valid",file:w}},a=r.map(m=>({...m,...n(m.key)})),s=a.filter(m=>m.status==="valid").length,c=a.filter(m=>m.status==="expiring").length,o=a.filter(m=>m.status==="expired").length;a.filter(m=>m.status==="missing").length;const u=m=>{switch(m){case"valid":return h.jsx(kn,{size:14,className:"text-green-500"});case"expiring":return h.jsx(ea,{size:14,className:"text-yellow-500"});case"expired":return h.jsx(vi,{size:14,className:"text-red-500"});default:return h.jsx(fd,{size:14,className:"text-gray-300"})}},d=m=>{switch(m){case"valid":return"bg-green-50 border-green-200";case"expiring":return"bg-yellow-50 border-yellow-200";case"expired":return"bg-red-50 border-red-200";default:return"bg-gray-50 border-gray-200"}};return h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 rounded-lg bg-indigo-100 flex items-center justify-center",children:h.jsx(Yu,{size:18,className:"text-indigo-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:"DQ File Compliance"}),h.jsxs("p",{className:"text-xs text-gray-500",children:[s,"/",r.length," documents uploaded"]})]})]}),h.jsxs("div",{className:"relative w-14 h-14",children:[h.jsxs("svg",{className:"w-14 h-14 -rotate-90",children:[h.jsx("circle",{cx:"28",cy:"28",r:"22",className:"fill-none stroke-gray-200",strokeWidth:"4"}),h.jsx("circle",{cx:"28",cy:"28",r:"22",className:`fill-none ${s===r.length?"stroke-green-500":"stroke-indigo-500"}`,strokeWidth:"4",strokeDasharray:`${s/r.length*138} 138`,strokeLinecap:"round"})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[Math.round(s/r.length*100),"%"]})})]})]}),(c>0||o>0)&&h.jsxs("div",{className:"px-5 py-2 bg-yellow-50 border-b border-yellow-100 flex items-center gap-4 text-sm",children:[o>0&&h.jsxs("span",{className:"flex items-center gap-1 text-red-700",children:[h.jsx(vi,{size:14}),o," expired"]}),c>0&&h.jsxs("span",{className:"flex items-center gap-1 text-yellow-700",children:[h.jsx(ea,{size:14}),c," expiring soon"]})]}),h.jsx("div",{className:"p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2",children:a.map(m=>h.jsxs("button",{onClick:()=>e&&e(m),className:`p-3 rounded-lg border text-left transition-all hover:shadow-sm ${d(m.status)}`,title:m.fullLabel,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u(m.status),h.jsx("span",{className:"text-xs font-semibold text-gray-700 truncate",children:m.label})]}),h.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:[m.status==="valid"&&"Complete",m.status==="expiring"&&`${m.daysUntilExpiry}d left`,m.status==="expired"&&"Expired",m.status==="missing"&&"Missing"]})]},m.key))}),e&&h.jsx("div",{className:"px-5 py-3 border-t border-gray-100 bg-gray-50",children:h.jsxs("button",{onClick:()=>e(),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1",children:[h.jsx(Xf,{size:14}),"Manage DQ File Documents"]})})]})}function Wh({currentStatus:t,onAction:e}){const n={"New Application":{color:"indigo",icon:Ja,title:"New Application Received",steps:[{label:"Review risk flags",action:"scroll-to-risks"},{label:"Check DQ documents",action:"go-to-dq"},{label:"Contact applicant",action:"contact",primary:!0}]},"New Lead":{color:"purple",icon:ml,title:"New Lead",steps:[{label:"Call to qualify",action:"call",primary:!0},{label:"Send application link",action:"send-app"},{label:"Add to pipeline",action:"update-status"}]},Contacted:{color:"cyan",icon:Qs,title:"Contacted",steps:[{label:"Schedule interview",action:"schedule"},{label:"Request missing docs",action:"request-docs"},{label:"Move to review",action:"update-status",primary:!0}]},Attempted:{color:"orange",icon:ea,title:"Contact Attempted",steps:[{label:"Try again",action:"call",primary:!0},{label:"Send SMS/text",action:"sms"},{label:"Leave voicemail + email",action:"email"}]},"In Review":{color:"blue",icon:Ja,title:"Under Review",steps:[{label:"Verify employment history",action:"go-to-pev"},{label:"Check driving record",action:"scroll-to-driving"},{label:"Proceed to background check",action:"background",primary:!0}]},"Background Check":{color:"purple",icon:ml,title:"Background Check In Progress",steps:[{label:"Order MVR",action:"order-mvr"},{label:"Run PSP report",action:"order-psp"},{label:"Query Clearinghouse",action:"clearinghouse",primary:!0}]},"Awaiting Documents":{color:"yellow",icon:Ja,title:"Waiting for Documents",steps:[{label:"Check DQ file status",action:"go-to-dq",primary:!0},{label:"Send reminder",action:"send-reminder"},{label:"Call to follow up",action:"call"}]},Approved:{color:"green",icon:io,title:"Approved - Ready for Hire",steps:[{label:"Send offer letter",action:"send-offer",primary:!0},{label:"Prepare onboarding",action:"onboarding"},{label:"Assign to orientation",action:"orientation"}]},"Offer Sent":{color:"emerald",icon:Ju,title:"Offer Sent",steps:[{label:"Follow up on offer",action:"call",primary:!0},{label:"Prepare equipment",action:"equipment"},{label:"Schedule start date",action:"schedule-start"}]},Rejected:{color:"red",icon:ta,title:"Application Rejected",steps:[{label:"Send adverse action letter",action:"adverse-action"},{label:"Document reason",action:"add-note"},{label:"Archive record",action:"archive"}]},Disqualified:{color:"red",icon:ta,title:"Disqualified",steps:[{label:"Document disqualification reason",action:"add-note"},{label:"Send notification",action:"notify"},{label:"Archive record",action:"archive"}]}}[t];if(!n)return null;const a={indigo:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",icon:"text-indigo-500",btn:"bg-indigo-600 hover:bg-indigo-700"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",icon:"text-purple-500",btn:"bg-purple-600 hover:bg-purple-700"},cyan:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-700",icon:"text-cyan-500",btn:"bg-cyan-600 hover:bg-cyan-700"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",icon:"text-orange-500",btn:"bg-orange-600 hover:bg-orange-700"},blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-500",btn:"bg-blue-600 hover:bg-blue-700"},yellow:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:"text-yellow-500",btn:"bg-yellow-600 hover:bg-yellow-700"},green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",icon:"text-green-500",btn:"bg-green-600 hover:bg-green-700"},emerald:{bg:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-700",icon:"text-emerald-500",btn:"bg-emerald-600 hover:bg-emerald-700"},red:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",icon:"text-red-500",btn:"bg-red-600 hover:bg-red-700"}},s=a[n.color]||a.blue,c=n.icon;return h.jsxs("div",{className:`rounded-xl p-5 ${s.bg} border-2 ${s.border} shadow-sm animate-in fade-in slide-in-from-top-2 duration-300`,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx("div",{className:`w-8 h-8 rounded-lg ${s.bg} flex items-center justify-center border ${s.border}`,children:h.jsx(c,{size:18,className:s.icon})}),h.jsx("span",{className:`text-sm font-bold uppercase tracking-wide ${s.text}`,children:"Next Steps"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:n.steps.map((o,u)=>h.jsxs("button",{onClick:()=>e&&e(o.action),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${o.primary?`${s.btn} text-white shadow-sm hover:shadow`:"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}`,children:[o.label,o.primary&&h.jsx(Fl,{size:14})]},u))})]})}const me={MARGIN:15,PAGE_WIDTH:210,PAGE_HEIGHT:297,LINE_HEIGHT:6,SECTION_GAP:8,TABLE_FIRST_COL_WIDTH:70,TABLE_LINE_COLOR:220,TABLE_HEADER_FILL_COLOR:240,CELL_PADDING:2,FONT:{BOLD:"helvetica",NORMAL:"helvetica"}},kl=me.PAGE_WIDTH-me.MARGIN*2-me.TABLE_FIRST_COL_WIDTH;function $i(t,e,r=0){return e+r>me.PAGE_HEIGHT-me.MARGIN?(t.addPage(),me.MARGIN):e}function hn(t,e,r){return e=$i(t,e,me.LINE_HEIGHT*1.5),t.setFont(me.FONT.BOLD,"bold"),t.setFontSize(11),t.setTextColor(0,0,0),t.setFillColor(me.TABLE_HEADER_FILL_COLOR),t.setDrawColor(me.TABLE_LINE_COLOR),t.rect(me.MARGIN,e,me.TABLE_FIRST_COL_WIDTH+kl,me.LINE_HEIGHT*1.5,"FD"),t.text(r,me.MARGIN+me.CELL_PADDING,e+me.LINE_HEIGHT*1.5/2+1.5),e+me.LINE_HEIGHT*1.5}function Ye(t,e,r,n){const a=xt(n);t.setFont(me.FONT.NORMAL,"normal"),t.setFontSize(10);const s=t.splitTextToSize(r,me.TABLE_FIRST_COL_WIDTH-me.CELL_PADDING*2),c=t.splitTextToSize(a,kl-me.CELL_PADDING*2),o=Math.max(s.length,c.length),u=o*(me.LINE_HEIGHT*.9)+me.CELL_PADDING*2;e=$i(t,e,u),t.setDrawColor(me.TABLE_LINE_COLOR),t.rect(me.MARGIN,e,me.TABLE_FIRST_COL_WIDTH,u),t.rect(me.MARGIN+me.TABLE_FIRST_COL_WIDTH,e,kl,u);const d=e+u/2-o*(me.LINE_HEIGHT*.9)/2+me.LINE_HEIGHT*.9-me.CELL_PADDING/2;return t.setTextColor(0,0,0),t.text(s,me.MARGIN+me.CELL_PADDING,d),t.text(c,me.MARGIN+me.TABLE_FIRST_COL_WIDTH+me.CELL_PADDING,d),e+u}function S2(t,e,r){e=$i(t,e,10);const n=me.PAGE_WIDTH-me.MARGIN*2;t.setFont(me.FONT.NORMAL,"normal"),t.setFontSize(10),t.setTextColor(0,0,0);const a=r.split(`
`);for(const s of a){const c=s.trim();if(c.length===0){e+=me.LINE_HEIGHT*.5;continue}const o=t.splitTextToSize(c,n),u=(Array.isArray(o)?o.length:1)*(me.LINE_HEIGHT*.8)+me.LINE_HEIGHT*.5;e=$i(t,e,u),t.text(o,me.MARGIN,e);const d=Array.isArray(o)?o.length:1;e+=d*(me.LINE_HEIGHT*.8)+me.LINE_HEIGHT*.5}return e}function L2(t,e){let r=me.MARGIN;const n=xt(e?.companyName),a=xt(e?.address?.street),s=`${xt(e?.address?.city)}, ${xt(e?.address?.state)} ${xt(e?.address?.zip)}`,c=xt(e?.contact?.phone);t.setFont(me.FONT.BOLD,"bold"),t.setFontSize(16),t.text("DRIVER'S APPLICATION FOR EMPLOYMENT",me.PAGE_WIDTH/2,r,{align:"center"}),r+=me.LINE_HEIGHT,t.setFontSize(10),t.setFont(me.FONT.NORMAL,"normal"),t.text("In compliance with Federal and State Equal Employment Opportunity Laws",me.PAGE_WIDTH/2,r,{align:"center"}),r+=me.LINE_HEIGHT*1.5,t.setFont(me.FONT.BOLD,"bold"),t.setFontSize(12),t.text(n,me.MARGIN,r),t.setFont(me.FONT.NORMAL,"normal"),t.setFontSize(10),r+=me.LINE_HEIGHT,t.text(a,me.MARGIN,r),r+=me.LINE_HEIGHT,t.text(s,me.MARGIN,r),r+=me.LINE_HEIGHT,t.text(`Phone: ${c}`,me.MARGIN,r);let o=me.MARGIN+me.LINE_HEIGHT*2.5;const d=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return t.setFontSize(9),t.text("49 CFR 391.21 Compliant",me.PAGE_WIDTH-me.MARGIN,o,{align:"right"}),o+=me.LINE_HEIGHT,t.text(`Generated: ${d}`,me.PAGE_WIDTH-me.MARGIN,o,{align:"right"}),r+=me.LINE_HEIGHT,t.setDrawColor(0),t.setLineWidth(.5),t.line(me.MARGIN,r,me.PAGE_WIDTH-me.MARGIN,r),r+me.SECTION_GAP}function j2(t,e,r){return e=hn(t,e,"Employment History (Past 3-10 Years)"),!r||r.length===0?(e=Ye(t,e,"Status","No employment history provided."),e):(r.forEach((n,a)=>{a>0&&(e+=2,e=$i(t,e,me.LINE_HEIGHT),t.setDrawColor(200),t.setLineWidth(.1),t.line(me.MARGIN,e,me.PAGE_WIDTH-me.MARGIN,e),e+=4),t.setFont(me.FONT.BOLD,"bold"),e=Ye(t,e,`Employer ${a+1}:`,xt(n.name)),t.setFont(me.FONT.NORMAL,"normal");const s=c=>{if(!c)return"N/A";const o=new Date(c);return isNaN(o.getTime())?c:`${(o.getMonth()+1).toString().padStart(2,"0")}/${o.getFullYear()}`};e=Ye(t,e,"Dates Employed:",`${s(n.startDate)} - ${s(n.endDate)}`),e=Ye(t,e,"Position Held:",xt(n.position)),e=Ye(t,e,"Address:",`${xt(n.city)}, ${xt(n.state)}`),e=Ye(t,e,"Reason for Leaving:",xt(n.reason)),n.phone&&(e=Ye(t,e,"Contact Phone:",xt(n.phone))),e=Ye(t,e,"Subject to FMCSRs?","Yes")}),e)}function k2(t,e,r,n){return e=hn(t,e,"Traffic Convictions / Violations (Past 3 Years)"),!r||r.length===0?e=Ye(t,e,"Record","No violations listed."):r.forEach((a,s)=>{s>0&&(e+=1);const c=`Violation ${s+1}`,o=`Date: ${a.date||"N/A"} | Charge: ${a.charge||"N/A"} | Location: ${a.location||"N/A"} | Penalty: ${a.penalty||"N/A"}`;e=Ye(t,e,c,o)}),e+=me.SECTION_GAP,e=hn(t,e,"Accident History (Past 3 Years)"),!n||n.length===0?e=Ye(t,e,"Record","No accidents listed."):n.forEach((a,s)=>{s>0&&(e+=1);const c=`Accident ${s+1}`;let o=`Date: ${a.date||"N/A"} | Loc: ${a.city}, ${a.state}`;o+=`
CMV: ${a.commercial==="yes"?"Yes":"No"} | Preventable: ${a.preventable==="yes"?"Yes":"No"} | Fatalities: 0 | Injuries: 0`,o+=`
Details: ${a.details||"N/A"}`,e=Ye(t,e,c,o)}),e}function C2(t,e,r){return!r||Object.keys(r).length===0||(e=hn(t,e,"Supplemental Questions"),Object.entries(r).forEach(([n,a])=>{const s=Array.isArray(a)?a.join(", "):String(a);e=Ye(t,e,n,s)})),e}function P2(t,e,r,n=""){e=$i(t,e,me.LINE_HEIGHT*3),e+=me.SECTION_GAP,t.setFont(me.FONT.BOLD,"bold"),t.setFontSize(14),t.setTextColor(0,0,0);const a=t.getTextWidth(r),s=(me.PAGE_WIDTH-a)/2;return t.text(r,s,e),e+=me.LINE_HEIGHT*1.5,n&&(t.setFontSize(10),t.setFont(me.FONT.NORMAL,"normal"),t.text(`Prepared for: ${n}`,me.MARGIN,e),e+=me.LINE_HEIGHT),t.setLineWidth(.2),t.line(me.MARGIN,e,me.PAGE_WIDTH-me.MARGIN,e),e+me.LINE_HEIGHT}function E2(t,e,r){e=$i(t,e,70),e+=me.SECTION_GAP*2;const n=x=>{if(!x)return null;x.toDate&&(x=x.toDate()),x.seconds&&(x=new Date(x.seconds*1e3));const w=new Date(x);return isNaN(w.getTime())?null:w.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},a=n(r["signature-date"])||n(r.signatureDate)||n(r.signedAt)||n(r.submittedAt)||n(r.createdAt)||"Not Available",s=r.signature,c=`${xt(r.firstName)} ${xt(r.lastName)}`,o="This certifies that this application was completed by me, and that all entries on it and information in it are true and complete to the best of my knowledge. I authorize you to make such investigations and inquiries of my personal, employment, financial or medical history and other related matters as may be necessary in arriving at an employment decision.";t.setFont(me.FONT.NORMAL,"italic"),t.setFontSize(10);const u=t.splitTextToSize(o,me.PAGE_WIDTH-me.MARGIN*2);t.text(u,me.MARGIN,e),e+=u.length*me.LINE_HEIGHT+me.SECTION_GAP,t.setFont(me.FONT.BOLD,"bold"),t.setFontSize(11),t.text("APPLICANT SIGNATURE",me.MARGIN,e),e+=me.LINE_HEIGHT,t.setDrawColor(0),t.setLineWidth(.5),t.rect(me.MARGIN,e,me.PAGE_WIDTH-me.MARGIN*2,35);const d=e+5;if(s)if(s.startsWith("TEXT_SIGNATURE:")){const x=s.replace("TEXT_SIGNATURE:","");t.setFont("times","italic"),t.setFontSize(22),t.text(`/s/ ${x}`,me.MARGIN+10,d+12)}else try{t.addImage(s,"PNG",me.MARGIN+5,d+2,70,20,void 0,"FAST")}catch(x){console.error("Signature Image Error:",x),t.setFont(me.FONT.NORMAL,"normal"),t.setFontSize(10),t.text("(Electronic Signature Image - Error Rendering)",me.MARGIN+10,d+15)}else t.setFont(me.FONT.NORMAL,"normal"),t.setFontSize(12),t.setTextColor(150),t.text("[Not Signed]",me.MARGIN+10,d+15),t.setTextColor(0);t.setFont(me.FONT.NORMAL,"normal"),t.setFontSize(10);const m=me.PAGE_WIDTH/2+10;return t.text(`Date Signed: ${a}`,m,d+8),t.text(`Printed Name: ${c}`,m,d+18),r.ssn&&t.text(`Social Security No: ${r.ssn}`,m,d+28),e+45}function I2(t,e,r){e=hn(t,e,"Address History");const n=`${xt(r?.street)}, ${xt(r?.city)}, ${xt(r?.state)} ${xt(r?.zip)}`;if(e=Ye(t,e,"Current Address:",n),e=Ye(t,e,"Lived here 3+ Yrs:",r?.["residence-3-years"]),r?.previousAddresses&&Array.isArray(r.previousAddresses)&&r.previousAddresses.length>0)r.previousAddresses.forEach((a,s)=>{const c=`${xt(a.street)}, ${xt(a.city)}, ${xt(a.state)} ${xt(a.zip)}`,o=a.startDate||a.endDate?` (${a.startDate||"N/A"} - ${a.endDate||"Present"})`:"";e=Ye(t,e,`Prev Address ${s+1}:`,c+o)});else if(r?.["residence-3-years"]==="no"&&r?.prevStreet){const a=`${xt(r.prevStreet)}, ${xt(r.prevCity)}, ${xt(r.prevState)} ${xt(r.prevZip)}`;e=Ye(t,e,"Previous Address:",a)}return e=Ye(t,e,"Phone:",r?.phone),e=Ye(t,e,"Email:",r?.email),e}function T2(t,e,r){e=hn(t,e,"Nature & Extent of Experience (49 CFR 391.21(b)(6))");const n=["Equipment","Miles Driven","Experience"],a=[60,50,60];let s=me.MARGIN;t.setFont(me.FONT.BOLD,"bold"),t.setFontSize(9),t.setFillColor(230,230,230),t.setDrawColor(180),n.forEach((o,u)=>{t.rect(s,e,a[u],7,"FD"),t.text(o,s+2,e+5),s+=a[u]}),e+=7;const c=(o,u,d)=>{s=me.MARGIN,t.setFont(me.FONT.NORMAL,"normal"),t.setFillColor(255);const m=xt(r?.[u])||"0",x=xt(r?.[d])||"N/A";[o,m,x].forEach((w,g)=>{t.rect(s,e,a[g],7,"S"),t.text(String(w),s+2,e+5),s+=a[g]}),e+=7};return c("Straight Truck","expStraightTruckMiles","expStraightTruckExp"),c("Tractor + Semi Trailer","expSemiTrailerMiles","expSemiTrailerExp"),c("Tractor + Two Trailers","expTwoTrailersMiles","expTwoTrailersExp"),e+me.SECTION_GAP}const F2=`AGREEMENT TO CONDUCT TRANSACTION ELECTRONICALLY

1. DEFINITIONS.
"We," "Us," and "Company" refer to the motor carrier to which you are applying.
"You" and "Your" refer to the applicant. "Communication" means any application forms, disclosures, notices, responses, agreements, and other documents related to your application for employment.

2. SCOPE. You agree that we may provide you with any Communications in electronic format, and that we may discontinue sending paper Communications to you.
You agree that your electronic signature has the same legal effect as a manual signature.

3. CONSENT.
By signing this application electronically, you consent to receive and respond to Communications in electronic format.
You have the right to request paper copies of any Communication by contacting us directly.

4. WITHDRAWAL.
You may withdraw your consent to receive Communications electronically by providing written notice to us.
However, withdrawing consent may terminate the application process if we are unable to proceed with a paper-based application.

5. SYSTEM REQUIREMENTS. To access and retain the electronic Communications, you will need a device with internet access and a PDF reader.
I acknowledge that I have read, understand, and agree to the terms set forth above.`,O2=`BACKGROUND CHECK DISCLOSURE AND AUTHORIZATION (FCRA)

In connection with your application for employment with Company ("Prospective Employer"), Prospective Employer, its employees, agents or contractors may obtain one or more reports regarding your credit, driving, and/or criminal background history from a consumer reporting agency.
These reports may include information regarding your character, general reputation, personal characteristics, mode of living, driving history, criminal history, and employment history.

AUTHORIZATION
I hereby authorize Prospective Employer to obtain the consumer reports described above about me.
I authorize, without reservation, any party or agency contacted by Prospective Employer to furnish the above-mentioned information.
I understand that I have the right to make a written request within a reasonable period of time to receive additional detailed information about the nature and scope of any investigation.
I acknowledge that I have received a copy of the summary of rights under the Fair Credit Reporting Act (FCRA).`,R2=`IMPORTANT DISCLOSURE REGARDING BACKGROUND REPORTS FROM THE PSP Online Service

In connection with your application for employment with Company ("Prospective Employer"), Prospective Employer, its employees, agents or contractors may obtain one or more reports regarding your driving, and safety inspection history from the Federal Motor Carrier Safety Administration (FMCSA).
When the application for employment is submitted in connection with a driver position, Prospective Employer cannot obtain background reports from FMCSA unless you consent in writing.

AUTHORIZATION
I hereby authorize Prospective Employer to access the FMCSA Pre-Employment Screening Program (PSP) system to seek information regarding my commercial driving safety record and information regarding my safety inspection history.
I understand that I am authorizing the release of safety performance information including crash data from the previous five (5) years and inspection history from the previous three (3) years.
I understand that I have the right to review the information provided by the PSP system and to contest the accuracy of that information by submitting a request to the FMCSA DataQs system.`,M2=`GENERAL CONSENT FOR FULL QUERY OF THE FMCSA DRUG AND ALCOHOL CLEARINGHOUSE

I hereby provide consent to Company ("Prospective Employer") to conduct a full query of the FMCSA Commercial Driver's License Drug and Alcohol Clearinghouse (Clearinghouse) to determine whether drug or alcohol violation information about me exists in the Clearinghouse, and to release that information to Prospective Employer.
I understand that if the full query conducted by Prospective Employer indicates that drug or alcohol violation information about me exists in the Clearinghouse, FMCSA will disclose that information to Prospective Employer.
I further understand that if I refuse to provide consent for Prospective Employer to conduct a full query of the Clearinghouse, Prospective Employer must prohibit me from performing safety-sensitive functions, including driving a commercial motor vehicle, as required by FMCSA's drug and alcohol program regulations.`;function B2(t){if(!t){console.error("Generate PDF: Missing data");return}const{applicant:e={},company:r={}}=t,n=r||{companyName:"[COMPANY NAME NOT FOUND]",address:{},contact:{}},a=n?.companyName||"[COMPANY NAME]",s=`${xt(e?.firstName)} ${xt(e?.lastName)}`,c=new qe("p","mm","a4");let o=me.MARGIN;o=L2(c,n),o=hn(c,o,"Personal Information"),o=Ye(c,o,"First Name:",e?.firstName),o=Ye(c,o,"Middle Name:",e?.middleName),o=Ye(c,o,"Last Name:",e?.lastName),o=Ye(c,o,"Suffix:",e?.suffix),o=Ye(c,o,"Known by Other Name:",e?.["known-by-other-name"]),e?.["known-by-other-name"]==="yes"&&(o=Ye(c,o,"Other Name(s):",e?.otherName)),o=Ye(c,o,"Social Security Number:",e?.ssn?e.ssn:"Not Provided"),o=Ye(c,o,"Date of Birth:",e?.dob),o=I2(c,o,e),o=hn(c,o,"General Qualifications"),o=Ye(c,o,"Position Applied For:",e?.positionApplyingTo),o=Ye(c,o,"Legal to Work in U.S.:",e?.["legal-work"]),o=Ye(c,o,"English Fluency:",e?.["english-fluency"]),o=Ye(c,o,"Years of CDL Experience:",e?.["experience-years"]||e?.experience),o=Ye(c,o,"Drug Test History:",e?.["drug-test-positive"]),e?.["drug-test-positive"]==="yes"&&(o=Ye(c,o,"Drug Test Explanation:",e?.["drug-test-explanation"])),o=Ye(c,o,"DOT Return to Duty:",e?.["dot-return-to-duty"]),o=hn(c,o,"License & Credentials"),o=Ye(c,o,"License Number:",e?.cdlNumber),o=Ye(c,o,"License State:",e?.cdlState),o=Ye(c,o,"License Class:",e?.cdlClass),o=Ye(c,o,"Expiration Date:",e?.cdlExpiration),o=Ye(c,o,"Endorsements:",e?.endorsements||"None"),o=Ye(c,o,"Has TWIC Card:",e?.["has-twic"]),e?.["has-twic"]==="yes"&&(o=Ye(c,o,"TWIC Expiration:",e?.twicExpiration)),o=k2(c,o,e?.violations||[],e?.accidents||[]),o=T2(c,o,e),o=j2(c,o,e?.employers||[]),o=hn(c,o,"Education & Military"),e?.schools&&e.schools.length>0?e.schools.forEach((w,g)=>{o=Ye(c,o,`School #${g+1}`,`${w.name||"N/A"} (${w.location||"N/A"}) - ${w.dates||"N/A"}`)}):o=Ye(c,o,"Education","No driving schools listed."),e?.military&&e.military.length>0?e.military.forEach((w,g)=>{o=Ye(c,o,`Military #${g+1}`,`${w.branch} (${w.rank}) | ${w.start} - ${w.end} | Hon: ${w.honorable}`)}):o=Ye(c,o,"Military","No military service listed."),o=C2(c,o,e?.customAnswers||{}),o=hn(c,o,"Miscellaneous Information"),e?.driverInitials&&(o=Ye(c,o,"Driver Initials:",e.driverInitials)),e?.ein&&(o=Ye(c,o,"EIN / Business:",`${e.ein} / ${e.businessName}`));const u=e?.ec1Name?`${e.ec1Name} (${e.ec1Relationship}) - ${e.ec1Phone}`:"N/A";o=Ye(c,o,"Contact #1:",u),e?.ec2Name&&(o=Ye(c,o,"Contact #2:",`${e.ec2Name} (${e.ec2Relationship}) - ${e.ec2Phone}`)),o=Ye(c,o,"Felony Conviction:",e?.["has-felony"]),e?.["has-felony"]==="yes"&&(o=Ye(c,o,"Felony Explanation:",e?.felonyExplanation));const d=w=>w.replaceAll("Company",a).replaceAll("Prospective Employer",a);[{title:"AGREEMENT TO CONDUCT TRANSACTION ELECTRONICALLY",text:d(F2)},{title:"BACKGROUND CHECK DISCLOSURE AND AUTHORIZATION",text:d(O2)},{title:"FMCSA PSP DISCLOSURE AND AUTHORIZATION",text:d(R2)},{title:"FMCSA CLEARINGHOUSE FULL QUERY CONSENT",text:d(M2)}].forEach(w=>{c.addPage(),o=me.MARGIN,o=P2(c,o,w.title,a),o=S2(c,o,w.text),o=E2(c,o,e)});const x=c.internal.getNumberOfPages();for(let w=1;w<=x;w++)c.setPage(w),c.setFont(me.FONT.NORMAL,"normal"),c.setFontSize(9),c.setTextColor(100,100,100),c.text(s,me.MARGIN,me.PAGE_HEIGHT-10),c.text(`Page ${w} of ${x}`,me.PAGE_WIDTH-me.MARGIN,me.PAGE_HEIGHT-10,{align:"right"});c.save(`Application-${xt(e?.lastName)}-${xt(e?.firstName)}.pdf`)}async function qr(t,e=3,r=1e3){for(let n=0;n<e;n++)try{return await t()}catch(a){if(n===e-1)throw a;await new Promise(s=>setTimeout(s,r))}}function D2(t,e){const[r,n]=Je.useState(!0),[a,s]=Je.useState(""),[c,o]=Je.useState(null),[u,d]=Je.useState(null),[m,x]=Je.useState("applications"),[w,g]=Je.useState({}),[C,k]=Je.useState(""),[I,S]=Je.useState([]),[H,W]=Je.useState(""),q=t==="general-leads";Je.useEffect(()=>{if(!t||q)return;(async()=>{if(u?.teamMembers&&Array.isArray(u.teamMembers)){S(u.teamMembers);return}try{const ce=El(Pl(Ar,"memberships"),Mf("companyId","==",t)),F=(await qr(()=>Il(ce))).docs.map(E=>Vs(Ur(Ar,"users",E.data().userId))),L=(await Promise.all(F)).filter(E=>E.exists()).map(E=>({id:E.id,name:E.data().name||E.data().displayName||"Unknown"}));S(L)}catch(ce){console.error("Failed to load team.",ce)}})()},[t,q,u]);const le=Je.useCallback(async()=>{if(!(!t||!e)){n(!0),s("");try{if(q)d({companyName:"General Pool (SafeHaul)"});else{const F=await zu(t);d(F)}let pe="applications",ce,G;if(q){if(pe="leads",ce=Ur(Ar,"leads",e),G=await qr(()=>Vs(ce)),!G.exists()&&(pe="drivers",ce=Ur(Ar,"drivers",e),G=await qr(()=>Vs(ce)),G.exists())){const F=G.data(),ee={...F,...F.personalInfo,...F.driverProfile,experience:F.qualifications?.experienceYears||"",source:"Bulk Import"};G={exists:()=>!0,data:()=>ee,id:G.id,ref:G.ref}}}else ce=Ur(Ar,"companies",t,pe,e),G=await qr(()=>Vs(ce)),G.exists()||(pe="leads",ce=Ur(Ar,"companies",t,pe,e),G=await qr(()=>Vs(ce)));if(G.exists()){x(pe);const F=G.data();o(F),k(F.status||"New Application"),W(F.assignedTo||"");const ee=async J=>{if(!J)return null;try{return J.storagePath?await Hu(pl(gl,J.storagePath)):J.url||null}catch{return null}},[L,E,z,B,K,re,oe]=await Promise.all([ee(F["cdl-front"]),ee(F["cdl-back"]),ee(F["ssc-upload"]),ee(F["med-card-upload"]),ee(F["twic-card-upload"]),ee(F["mvr-consent-upload"]),ee(F["drug-test-consent-upload"])]);g({cdl:L,cdlBack:E,ssc:z,medical:B,twic:K,mvrConsent:re,drugTestConsent:oe})}else s(`Could not find record (ID: ${e}).`)}catch(pe){console.error("Error fetching document:",pe),s("Error: Could not load details.")}finally{n(!1)}}},[t,e,q]);return Je.useEffect(()=>{le()},[le]),{loading:r,error:a,appData:c,setAppData:o,companyProfile:u,collectionName:m,fileUrls:w,setFileUrls:g,teamMembers:I,currentStatus:C,setCurrentStatus:k,assignedTo:H,setAssignedTo:W,isGlobal:q,loadApplication:le,simpleRetry:qr}}function q2({companyId:t,applicationId:e,collectionName:r,isGlobal:n,appData:a,setAppData:s,setFileUrls:c,setCurrentStatus:o,currentStatus:u,setAssignedTo:d,teamMembers:m,canEdit:x,onStatusUpdate:w}){const{showSuccess:g,showError:C}=uo(),[k,I]=Je.useState(!1),[S,H]=Je.useState(!1),W={"New Application":["Contacted","Attempted","In Review","Background Check","Rejected","Disqualified"],"New Lead":["Contacted","Attempted","In Review","Background Check","Rejected","Disqualified"],Contacted:["Attempted","In Review","Background Check","Awaiting Documents","Approved","Rejected","Disqualified"],Attempted:["Contacted","In Review","Background Check","Rejected","Disqualified"],"In Review":["Background Check","Awaiting Documents","Approved","Rejected","Disqualified"],"Background Check":["Awaiting Documents","Approved","Rejected","Disqualified"],"Awaiting Documents":["Background Check","Approved","Rejected","Disqualified"],Approved:["Offer Sent","Rejected","Disqualified"],"Offer Sent":["Approved","Rejected","Disqualified"],Rejected:[],Disqualified:[]},q=()=>n?Ur(Ar,r,e):Ur(Ar,"companies",t,r,e),le=async B=>{if(n){C("Global leads cannot be assigned to specific recruiters. Please 'Move' them to a company first.");return}const K=m.find(re=>re.id===B)?.name||"Unassigned";d(B);try{const re=q();await qr(()=>Di(re,{assignedTo:B,assignedToName:K})),await Ln(t,r,e,"Reassigned",`Assigned to ${K}`),g(`Assigned to ${K}`),w&&w()}catch(re){console.error("Error assigning:",re),C("Failed to update assignment.")}},pe=(B,K)=>{x&&s(re=>({...re,[B]:K}))},ce=async(B,K)=>{if(!K||!x)return;I(!0);const re=n?`global_leads/${e}/${B}-${K.name}`:`companies/${t}/${r}/${e}/${B}-${K.name}`,oe=pl(gl,re);try{await qr(()=>Df(oe,K));const J=await Hu(oe),ue={name:K.name,storagePath:re,url:J};s(ye=>({...ye,[B]:ue})),c(ye=>({...ye,[B]:J}));const Ae=q();await qr(()=>Di(Ae,{[B]:ue})),n||await Ln(t,r,e,"File Uploaded",`Uploaded ${B}`),g("File uploaded successfully")}catch(J){console.error("Upload Error:",J),C("File upload failed.")}finally{I(!1)}},G=async(B,K)=>{if(!(!K||!window.confirm("Remove file?")||!x)){I(!0);try{try{await Bf(pl(gl,K))}catch(oe){console.warn("Storage file may not exist:",oe.code)}s(oe=>({...oe,[B]:null})),c(oe=>({...oe,[B]:null}));const re=q();await qr(()=>Di(re,{[B]:null})),n||await Ln(t,r,e,"File Deleted",`Deleted ${B}`),g("File removed")}catch{C("File deletion failed.")}finally{I(!1)}}},F=(B,K)=>{const re=[],oe=["updatedAt","lastModified","activity_logs","id"];return Object.keys(K).forEach(J=>{if(!oe.includes(J)&&JSON.stringify(B[J])!==JSON.stringify(K[J])){const ue=B[J]||"None",Ae=K[J]||"Removed",ye=typeof ue=="string"?ue.substring(0,50):JSON.stringify(ue),A=typeof Ae=="string"?Ae.substring(0,50):JSON.stringify(Ae);re.push(`${J}: "${ye}"  "${A}"`)}}),re.join(`
`)},ee=(B,K)=>{const re={},oe=["updatedAt","lastModified","activity_logs","id"];return Object.keys(K||{}).forEach(J=>{oe.includes(J)||JSON.stringify(B?.[J])!==JSON.stringify(K[J])&&(re[J]=K[J]??null)}),re};return{isUploading:k,isSaving:S,handleAssignChange:le,handleDataChange:pe,handleAdminFileUpload:ce,handleAdminFileDelete:G,handleSaveEdit:async(B,K)=>{if(x){H(!0);try{const re=q(),oe=F(B||{},a),J=ee(B||{},a||{});Object.keys(J).length>0&&await qr(()=>Di(re,J)),!n&&oe?await Ln(t,r,e,"Details Updated",oe):!n&&!oe&&await Ln(t,r,e,"Details Saved","No changes detected"),g("Changes saved successfully"),K&&K(),w&&w()}catch(re){console.error("Save Error:",re),C(`Error saving: ${re.message}`)}finally{H(!1)}}},handleStatusUpdate:async B=>{try{const K=q(),re=u||"Unknown";if(B===re){g(`Status already set to ${B}`);return}const oe=W[re];if(Array.isArray(oe)&&!oe.includes(B)){C(`Invalid status transition from ${re} to ${B}.`);return}await qr(()=>Di(K,{status:B})),n||await Ln(t,r,e,"Status Changed",`Transitioned from ${re} to ${B}`),o(B),g(`Status updated to ${B}`),w&&w()}catch(K){console.error("Error updating status:",K),C("Failed to update status.")}},handleDriverTypeUpdate:async B=>{try{const K=q(),re=r==="drivers"?{"driverProfile.type":B}:{driverType:B};await qr(()=>Di(K,re)),s(oe=>({...oe,driverType:B})),n||await Ln(t,r,e,"Type Updated",`Driver type changed to ${B}`),g(`Driver type updated to ${B}`)}catch(K){console.error("Error updating driver type:",K),C("Failed to update driver type.")}}}}function U2(t,e,r){const{currentUserClaims:n}=Gu(),[a,s]=Je.useState(null),[c,o]=Je.useState(!1),u=D2(t,e),d=n?.roles?.[t],m=n?.roles?.globalRole==="super_admin"||["company_admin","hr_user","recruiter"].includes(d),x=q2({companyId:t,applicationId:e,collectionName:u.collectionName,isGlobal:u.isGlobal,appData:u.appData,setAppData:u.setAppData,setFileUrls:u.setFileUrls,setCurrentStatus:u.setCurrentStatus,currentStatus:u.currentStatus,setAssignedTo:u.setAssignedTo,teamMembers:u.teamMembers,canEdit:m,onStatusUpdate:r,originalData:a});return{loading:u.loading,error:u.error,appData:u.appData,companyProfile:u.companyProfile,collectionName:u.collectionName,fileUrls:u.fileUrls,currentStatus:u.currentStatus,teamMembers:u.teamMembers,assignedTo:u.assignedTo,isGlobal:u.isGlobal,isEditing:c,isSaving:x.isSaving,isUploading:x.isUploading,canEdit:m,loadApplication:u.loadApplication,handleAssignChange:x.handleAssignChange,handleDataChange:x.handleDataChange,handleAdminFileUpload:x.handleAdminFileUpload,handleAdminFileDelete:x.handleAdminFileDelete,handleSaveEdit:()=>x.handleSaveEdit(a,()=>o(!1)),handleStatusUpdate:x.handleStatusUpdate,handleDriverTypeUpdate:x.handleDriverTypeUpdate,setIsEditing:w=>{w&&s({...u.appData}),o(w)}}}function z2(t,e,r,n,a){const{currentUserClaims:s}=Gu(),c=U2(t,e,r),{appData:o,companyProfile:u,collectionName:d,handleStatusUpdate:m}=c,[x,w]=Je.useState(!1),[g,C]=Je.useState(!1),[k,I]=Je.useState(!1),[S,H]=Je.useState("overview"),[W,q]=Je.useState([]);Je.useEffect(()=>{(async()=>{if(!(!t||!e))try{const K=Ur(Ar,"companies",t,d||"applications",e),re=Pl(K,"dq_files"),oe=El(re,qf("createdAt","desc")),ue=(await Il(oe)).docs.map(Ae=>({id:Ae.id,...Ae.data()}));q(ue)}catch(B){console.error("Error fetching DQ files:",B)}})()},[t,e,d]);const le=Je.useMemo(()=>{const z=["mvr","medical","roadtest","psp","clearinghouse","clearinghouse_annual","violations"],B={mvr:["mvr","mvr (annual)","motor vehicle record"],medical:["medical","med card","medical card","medical examiner"],roadtest:["road test","roadtest","road test certificate"],psp:["psp","psp report","pre-employment screening"],clearinghouse:["clearinghouse report (full)","clearinghouse full","ch full"],clearinghouse_annual:["clearinghouse report (annual)","clearinghouse annual","ch annual"],violations:["certificate of violations","violations","certificate of violations (annual)"]};let K=0;return z.forEach(re=>{W.filter(J=>{const ue=(J.fileType||J.type||J.docType||"").toLowerCase(),Ae=(J.fileName||J.name||"").toLowerCase();return(B[re]||[re]).some(A=>ue.includes(A)||Ae.includes(A))}).length>0&&K++}),{complete:K,total:z.length}},[W]),pe=s?.roles?.globalRole==="super_admin",ce=c.isCompanyAdmin||pe,G=xt(o?.firstName)+" "+xt(o?.lastName),F=o?.driverId||o?.userId;return{...c,showDeleteConfirm:x,setShowDeleteConfirm:w,showMoveModal:g,setShowMoveModal:C,showOfferModal:k,setShowOfferModal:I,activeSection:S,setActiveSection:H,dqFiles:W,dqStatus:le,isSuperAdmin:pe,canEditAllFields:ce,currentAppName:G,driverId:F,handleDownloadPdf:()=>{if(!(!o||!u))try{B2({applicant:o,agreements:[],company:u})}catch{alert("PDF Generation failed.")}},handleManagementComplete:()=>{r&&r(),n&&n()},handleWorkflowAction:z=>{switch(z){case"call":o?.phone&&(window.location.href=`tel:${o.phone}`,a&&a(null,o));break;case"contact":H("contact");break;case"go-to-dq":H("dq");break;case"go-to-pev":H("pev");break;case"add-note":H("notes");break;case"send-offer":I(!0);break;case"background":m("Background Check");break;default:console.log("Workflow action:",z)}}}}function jn({title:t,children:e,className:r=""}){return h.jsxs("div",{className:`bg-white p-6 rounded-lg shadow-sm border border-gray-200 ${r}`,children:[t&&h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 border-b border-gray-100 pb-2",children:t}),e]})}function no({children:t}){return h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t})}function rr({label:t,value:e,isEditing:r,onChange:n,type:a="text",options:s=[]}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:t}),r?s.length>0?h.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:e||"",onChange:c=>n(c.target.value),children:[h.jsx("option",{value:"",children:"Select..."}),s.map(c=>h.jsx("option",{value:c,children:c},c))]}):h.jsx("input",{type:a,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:e||"",onChange:c=>n(c.target.value)}):h.jsx("p",{className:"text-lg font-medium text-gray-900 break-words",children:e||h.jsx("span",{className:"text-gray-300 italic",children:"N/A"})})]})}function H2({appData:t,isEditing:e,handleDataChange:r,canEditAllFields:n,onPhoneClick:a}){const s=c=>c?e?h.jsx("input",{type:"text",value:c,onChange:o=>r("ssn",o.target.value),className:"w-full p-2 border border-gray-300 rounded"}):h.jsxs("span",{children:["***-**-",c.slice(-4)]}):h.jsx("span",{className:"text-gray-400 italic",children:"Not provided"});return h.jsx(jn,{title:"Personal Information",children:h.jsxs(no,{children:[h.jsx(rr,{label:"First Name",value:t.firstName,isEditing:e,onChange:c=>r("firstName",c)}),h.jsx(rr,{label:"Middle",value:t.middleName,isEditing:e,onChange:c=>r("middleName",c)}),h.jsx(rr,{label:"Last Name",value:t.lastName,isEditing:e,onChange:c=>r("lastName",c)}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Suffix"}),e?h.jsx("input",{type:"text",value:t.suffix||"",onChange:c=>r("suffix",c.target.value),className:"w-full p-2 border border-gray-300 rounded",placeholder:"Jr."}):h.jsx("p",{className:"text-lg font-medium text-gray-900",children:t.suffix||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Phone"}),e?h.jsx("input",{type:"tel",value:t.phone||"",onChange:c=>r("phone",c.target.value),className:"w-full p-2 border border-gray-300 rounded"}):h.jsx("button",{onClick:()=>a(t.phone),className:"text-lg font-medium text-blue-600 hover:underline flex items-center gap-2",children:t.phone||"N/A"})]}),h.jsx(rr,{label:"Email",value:t.email,isEditing:e,onChange:c=>r("email",c)}),h.jsx(rr,{label:"Date of Birth",value:t.dob,isEditing:e,type:"date",onChange:c=>r("dob",c)}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"SSN"}),s(t.ssn)]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"SMS Consent"}),h.jsx("span",{className:`text-sm font-bold px-2 py-1 rounded ${t["sms-consent"]==="yes"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:t["sms-consent"]==="yes"?"YES":"NO"})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"How Did You Hear About Us?"}),e?h.jsx("input",{type:"text",value:t.referralSource||"",onChange:c=>r("referralSource",c.target.value),className:"w-full p-2 border border-gray-300 rounded"}):h.jsx("p",{className:"text-sm text-gray-900",children:t.referralSource||"-"})]}),t["known-by-other-name"]==="yes"&&h.jsxs("div",{className:"col-span-full bg-yellow-50 p-3 rounded-lg border border-yellow-200 mt-2",children:[h.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-yellow-800 uppercase mb-1",children:[h.jsx(Uf,{size:14})," Known By Other Name(s)"]}),e?h.jsx("input",{type:"text",value:t.otherName||"",onChange:c=>r("otherName",c.target.value),className:"w-full p-2 border border-yellow-300 rounded"}):h.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.otherName})]}),h.jsxs("div",{className:"col-span-full pt-4 border-t border-gray-100",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"Current Address"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(rr,{label:"Street",value:t.street,isEditing:e,onChange:c=>r("street",c)}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsx(rr,{label:"City",value:t.city,isEditing:e,onChange:c=>r("city",c)}),h.jsx(rr,{label:"State",value:t.state,isEditing:e,onChange:c=>r("state",c)}),h.jsx(rr,{label:"Zip",value:t.zip,isEditing:e,onChange:c=>r("zip",c)})]})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:"Lived here 3+ years? "}),h.jsx("span",{className:`text-xs font-bold ${t["residence-3-years"]==="yes"?"text-green-600":"text-orange-600"}`,children:t["residence-3-years"]==="yes"?"YES":"NO"})]})]}),t["residence-3-years"]==="no"&&h.jsxs("div",{className:"col-span-full pt-4 border-t border-gray-100 bg-gray-50 p-4 rounded-lg",children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx(vi,{size:14})," Previous Addresses (Required for History)"]}),Array.isArray(t.previousAddresses)&&t.previousAddresses.length>0?h.jsx("div",{className:"space-y-4",children:t.previousAddresses.map((c,o)=>h.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[h.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-2",children:["Address ",o+1]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Street:"})," ",c.street||"-"]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"City:"})," ",c.city||"-"]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"State:"})," ",c.state||"-"]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Zip:"})," ",c.zip||"-"]}),c.startDate&&h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"From:"})," ",c.startDate]}),c.endDate&&h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"To:"})," ",c.endDate]})]})]},o))}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(rr,{label:"Prev Street",value:t.prevStreet,isEditing:e,onChange:c=>r("prevStreet",c)}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsx(rr,{label:"Prev City",value:t.prevCity,isEditing:e,onChange:c=>r("prevCity",c)}),h.jsx(rr,{label:"Prev State",value:t.prevState,isEditing:e,onChange:c=>r("prevState",c)}),h.jsx(rr,{label:"Prev Zip",value:t.prevZip,isEditing:e,onChange:c=>r("prevZip",c)})]})]})]})]})})}const G2=["Company Driver","Lease Operator","Owner Operator","Team Driver"],$2=["Dry Van","Reefer","Flatbed","Tanker","Box Truck","Car Hauler","Step Deck","Lowboy","Conestoga","Intermodal","Power Only","Hotshot"];function W2({appData:t,isEditing:e,handleDataChange:r,canEditAllFields:n}){const a=(o,u,d,m=!1)=>{const x=String(o).toLowerCase()==="yes"||o===!0||o==="agreed";return o==null||o===""?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vi,{className:"text-gray-300",size:20}),h.jsx("span",{className:"text-gray-400 italic",children:"Not Specified"})]}):m?h.jsxs("div",{className:"flex items-center gap-2",children:[x?h.jsx(Kn,{className:"text-red-600",size:20}):h.jsx(io,{className:"text-green-500",size:20}),h.jsx("span",{className:x?"text-red-700 font-bold":"text-green-700 font-medium",children:x?u:d})]}):h.jsxs("div",{className:"flex items-center gap-2",children:[x?h.jsx(io,{className:"text-green-500",size:20}):h.jsx(qu,{className:"text-red-500",size:20}),h.jsx("span",{className:x?"text-green-700 font-medium":"text-red-700 font-medium",children:x?u:d})]})},s=o=>{let u=t.driverType||[];Array.isArray(u)||(u=[u]);const d=u.includes(o)?u.filter(m=>m!==o):[...u,o];r("driverType",d)},c=()=>t.referralSource?t.referralSource:t.isPlatformLead||t.sourceType==="Added by Safehaul"?"SafeHaul Network":t.source||t.sourceType||"Direct Application";return n?h.jsxs(jn,{title:"Position & Qualifications (DOT)",children:[h.jsxs(no,{children:[h.jsx(rr,{label:"Position Applied For",value:t.positionApplyingTo,isEditing:e,onChange:o=>r("positionApplyingTo",o),options:G2}),h.jsxs("div",{className:"col-span-1 md:col-span-2",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Driver Types"}),e?h.jsx("div",{className:"flex flex-wrap gap-2",children:$2.map(o=>{const u=(t.driverType||[]).includes(o);return h.jsx("button",{onClick:()=>s(o),className:`px-3 py-1.5 text-xs font-medium rounded-full border transition-all ${u?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:o},o)})}):h.jsx("p",{className:"text-lg font-medium text-gray-900",children:Array.isArray(t.driverType)?t.driverType.join(", "):t.driverType||"Not Specified"})]}),h.jsx(rr,{label:"Experience",value:t["experience-years"]||t.experience,isEditing:e,onChange:o=>r("experience-years",o)}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Legal to Work (US)"}),e?h.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:t["legal-work"]||"",onChange:o=>r("legal-work",o.target.value),children:[h.jsx("option",{value:"",children:"Select..."}),h.jsx("option",{value:"yes",children:"Yes"}),h.jsx("option",{value:"no",children:"No"})]}):a(t["legal-work"],"Authorized","Not Authorized")]}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"English Fluency"}),e?h.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:t["english-fluency"]||"",onChange:o=>r("english-fluency",o.target.value),children:[h.jsx("option",{value:"",children:"Select..."}),h.jsx("option",{value:"yes",children:"Fluent"}),h.jsx("option",{value:"no",children:"Not Fluent"})]}):a(t["english-fluency"],"Fluent","Not Fluent")]}),h.jsxs("div",{className:"col-span-1 pt-4 md:pt-0",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Drug/Alcohol History"}),e?h.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:t["drug-test-positive"]||"",onChange:o=>r("drug-test-positive",o.target.value),children:[h.jsx("option",{value:"",children:"Select..."}),h.jsx("option",{value:"yes",children:"Positive/Refusal"}),h.jsx("option",{value:"no",children:"Clean Record"})]}):a(t["drug-test-positive"],"Positive/Refusal Found","Clean Record",!0),t["drug-test-positive"]==="yes"&&h.jsxs("p",{className:"text-xs text-red-600 mt-1 bg-red-50 p-2 rounded",children:["Explanation: ",t["drug-test-explanation"]||"None provided"]})]}),h.jsxs("div",{className:"col-span-1 pt-4 md:pt-0",children:[h.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 flex items-center gap-1",children:[h.jsx(Vf,{size:12,className:"text-blue-500"})," Clearinghouse Consent"]}),a(t["agree-clearinghouse"],"Consent Granted","Not Granted")]})]}),h.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"Commercial Driver's License"}),h.jsxs(no,{children:[h.jsx(rr,{label:"License Number",value:t.cdlNumber,isEditing:e,onChange:o=>r("cdlNumber",o)}),h.jsx(rr,{label:"State",value:t.cdlState,isEditing:e,onChange:o=>r("cdlState",o)}),h.jsx(rr,{label:"Class",value:t.cdlClass,isEditing:e,onChange:o=>r("cdlClass",o)}),h.jsx(rr,{label:"Expiration",value:t.cdlExpiration,isEditing:e,onChange:o=>r("cdlExpiration",o)}),h.jsx(rr,{label:"Endorsements",value:t.endorsements,isEditing:e,onChange:o=>r("endorsements",o)})]})]})]}):h.jsx(jn,{title:"Position & Qualifications",children:h.jsxs(no,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Position Applied For"}),h.jsx("p",{className:"text-lg font-medium text-gray-900",children:t.positionApplyingTo||"Not Specified"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 flex items-center gap-1",children:[h.jsx(Vu,{size:12,className:"text-blue-500"})," Source"]}),h.jsx("p",{className:"text-lg font-medium text-gray-900",children:c()})]}),h.jsxs("div",{className:"col-span-1 md:col-span-2",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Driver Types"}),h.jsx("p",{className:"text-lg font-medium text-gray-900",children:Array.isArray(t.driverType)?t.driverType.join(", "):t.driverType||"Not Specified"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Safety Record"}),a(t["drug-test-positive"],"Issues Reported","Clean",!0)]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Clearinghouse"}),a(t["agree-clearinghouse"],"Consent Granted","Not Granted")]})]})})}function V2({appData:t}){const e=o=>h.jsx("p",{className:"text-gray-400 italic text-sm",children:o}),r=o=>o?o.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):"N/A";if(!t)return null;const n=t["has-felony"]==="yes",a=t["revoked-licenses"]==="yes",s=t["driving-convictions"]==="yes",c=t["drug-alcohol-convictions"]==="yes";return h.jsxs("div",{className:"space-y-6",children:[h.jsx(jn,{title:"Safety & Background Declarations",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm space-y-3",children:[h.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase flex items-center gap-2",children:[h.jsx(Wu,{size:14})," Legal Questions"]}),h.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-100 pb-2",children:[h.jsx("span",{className:"text-gray-700",children:"License ever revoked/suspended?"}),h.jsx("span",{className:`font-bold px-2 py-0.5 rounded ${a?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:a?"YES":"NO"})]}),h.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-100 pb-2",children:[h.jsx("span",{className:"text-gray-700",children:"Convicted driving while suspended?"}),h.jsx("span",{className:`font-bold px-2 py-0.5 rounded ${s?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:s?"YES":"NO"})]}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-700",children:"Drug/Alcohol Convictions?"}),h.jsx("span",{className:`font-bold px-2 py-0.5 rounded ${c?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:c?"YES":"NO"})]})]}),h.jsxs("div",{className:`p-4 rounded-lg border ${n?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[h.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase flex items-center gap-2 mb-3",children:[h.jsx(xd,{size:14})," Criminal History"]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n?h.jsx(Kn,{size:18,className:"text-red-600"}):h.jsx(kn,{size:18,className:"text-green-600"}),h.jsx("span",{className:`font-bold ${n?"text-red-800":"text-green-800"}`,children:n?"Felony Conviction Reported":"No Felony Convictions"})]}),n&&h.jsxs("p",{className:"text-sm text-red-700 mt-2 bg-white p-2 rounded border border-red-100 italic",children:['"',t.felonyExplanation,'"']})]})]})}),h.jsx(jn,{title:"Credentials & Vehicle Experience",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-100 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(id,{size:18,className:"text-blue-600"}),h.jsx("span",{className:"text-sm font-bold text-blue-900",children:"TWIC Card"})]}),h.jsx("span",{className:"text-sm font-medium text-blue-800",children:t["has-twic"]==="yes"?`Exp: ${t.twicExpiration||"N/A"}`:"Not Held"})]}),t.businessName&&h.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[h.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Owner Operator Info"}),h.jsx("p",{className:"font-bold text-gray-900",children:t.businessName}),h.jsxs("p",{className:"text-sm text-gray-600",children:["EIN: ",t.ein||"N/A"]})]})]}),h.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[h.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3 flex items-center gap-2",children:[h.jsx(Sc,{size:14})," Driving Experience"]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Straight Truck:"}),h.jsxs("span",{className:"font-medium text-gray-900",children:[t.expStraightTruckExp||"0"," yrs (",t.expStraightTruckMiles||"0"," miles)"]})]}),h.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[h.jsx("span",{className:"text-gray-600",children:"Semi-Trailer:"}),h.jsxs("span",{className:"font-medium text-gray-900",children:[t.expSemiTrailerExp||"0"," yrs (",t.expSemiTrailerMiles||"0"," miles)"]})]})]})]})]})}),h.jsx(jn,{title:"Driving Record (Past 3 Years)",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx(vi,{size:16,className:"text-orange-500"})," Traffic Convictions / Violations"]}),t.violations&&t.violations.length>0?h.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.violations.map((o,u)=>h.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-sm",children:[h.jsxs("div",{className:"flex justify-between font-semibold text-gray-900",children:[h.jsx("span",{children:o.charge||"Unknown Charge"}),h.jsx("span",{children:o.date})]}),h.jsxs("div",{className:"text-gray-600 mt-1",children:[o.location,"  Penalty: ",o.penalty||"N/A"]})]},u))}):h.jsxs("div",{className:"flex items-center gap-2 text-green-700 bg-green-50 p-3 rounded border border-green-100",children:[h.jsx(kn,{size:18}),h.jsx("span",{className:"text-sm font-medium",children:"Clean Driving Record (No violations listed)"})]})]}),h.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx(Kn,{size:16,className:"text-red-500"})," Accident History"]}),t.accidents&&t.accidents.length>0?h.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.accidents.map((o,u)=>h.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-sm",children:[h.jsxs("div",{className:"flex justify-between font-semibold text-gray-900",children:[h.jsx("span",{children:o.date}),h.jsxs("span",{children:[o.city,", ",o.state]})]}),h.jsxs("p",{className:"text-gray-700 mt-1 italic",children:['"',o.details,'"']}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[o.commercial==="yes"&&h.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-bold uppercase",children:"CMV"}),o.preventable==="yes"&&h.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded font-bold uppercase",children:"Preventable"})]})]},u))}):h.jsxs("div",{className:"flex items-center gap-2 text-green-700 bg-green-50 p-3 rounded border border-green-100",children:[h.jsx(kn,{size:18}),h.jsx("span",{className:"text-sm font-medium",children:"No Accidents Reported"})]})]})]})}),h.jsxs(jn,{title:"Employment History",children:[t.employers&&t.employers.length>0?h.jsx("div",{className:"space-y-4",children:t.employers.map((o,u)=>h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2",children:[h.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Sc,{size:16,className:"text-gray-400"})," ",o.name]}),h.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-white px-2 py-1 border rounded mt-1 sm:mt-0",children:o.dates})]}),h.jsxs("div",{className:"text-sm text-gray-600 grid grid-cols-1 sm:grid-cols-2 gap-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Location:"})," ",o.city,", ",o.state]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Position:"})," ",o.position]}),h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-medium",children:"Reason for Leaving:"})," ",o.reason]}),o.phone&&h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-medium",children:"Contact:"})," ",r(o.phone)]})]})]},u))}):e("No employment history provided."),t.unemployment&&t.unemployment.length>0&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2",children:"Employment Gaps"}),t.unemployment.map((o,u)=>h.jsxs("div",{className:"text-sm text-gray-600 mb-1 pl-2 border-l-2 border-gray-300",children:[h.jsxs("span",{className:"font-medium text-gray-900",children:[o.startDate," - ",o.endDate,":"]})," ",o.details]},u))]})]}),h.jsx(jn,{title:"Supplemental Info",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx(yd,{size:16,className:"text-red-500"})," Emergency Contacts"]}),h.jsxs("div",{className:"space-y-3",children:[t.ec1Name?h.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-sm",children:[h.jsx("p",{className:"font-bold text-gray-900",children:t.ec1Name}),h.jsx("p",{className:"text-gray-600",children:t.ec1Relationship}),h.jsxs("div",{className:"flex items-center gap-1 mt-1 text-blue-600 font-medium",children:[h.jsx(Qs,{size:12})," ",r(t.ec1Phone)]})]}):h.jsx("p",{className:"text-sm text-gray-400 italic",children:"Primary contact missing"}),t.ec2Name&&h.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-sm",children:[h.jsx("p",{className:"font-bold text-gray-900",children:t.ec2Name}),h.jsx("p",{className:"text-gray-600",children:t.ec2Relationship}),h.jsxs("div",{className:"flex items-center gap-1 mt-1 text-blue-600 font-medium",children:[h.jsx(Qs,{size:12})," ",r(t.ec2Phone)]})]})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx($f,{size:16,className:"text-blue-500"})," Custom Questions"]}),t.customAnswers&&Object.keys(t.customAnswers).length>0?h.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:Object.entries(t.customAnswers).map(([o,u],d)=>{const m=()=>!u&&u!==0?h.jsx("span",{className:"text-gray-400 italic",children:"No response"}):typeof u=="string"&&(u.startsWith("http")||u.startsWith("gs://"))?h.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",children:[h.jsx(Ja,{size:14})," View Uploaded File"]}):Array.isArray(u)?u.length===0?h.jsx("span",{className:"text-gray-400 italic",children:"None selected"}):h.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map((x,w)=>h.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded",children:x},w))}):typeof u=="number"?u>=1&&u<=10?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(x=>h.jsx("div",{className:`w-4 h-4 rounded-full ${x<=u?"bg-blue-500":"bg-gray-200"}`},x))}),h.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[u,"/5"]})]}):h.jsx("span",{className:"font-medium text-gray-900",children:u}):h.jsx("span",{className:"font-medium text-gray-900",children:String(u)});return h.jsxs("div",{className:`flex flex-col md:flex-row border-b border-gray-100 last:border-0 ${d%2===0?"bg-white":"bg-gray-50"}`,children:[h.jsx("div",{className:"p-3 md:w-[40%] text-xs font-bold text-gray-700 bg-gray-50/50 md:border-r border-gray-100 flex items-center",children:o}),h.jsx("div",{className:"p-3 md:w-[60%] text-sm",children:m()})]},d)})}):e("No custom questions answered.")]})]})}),(t.schools?.length>0||t.military?.length>0)&&h.jsx(jn,{title:"Education & Military",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.schools?.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx(Ld,{size:16,className:"text-blue-500"})," Driving Schools"]}),t.schools.map((o,u)=>h.jsxs("div",{className:"mb-2 p-2 bg-gray-50 rounded border border-gray-100 text-sm",children:[h.jsx("p",{className:"font-bold text-gray-900",children:o.name}),h.jsxs("p",{className:"text-gray-600 text-xs",children:[o.location,"  ",o.dates]})]},u))]}),t.military?.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx(pd,{size:16,className:"text-blue-900"})," Military Service"]}),t.military.map((o,u)=>h.jsxs("div",{className:"mb-2 p-2 bg-gray-50 rounded border border-gray-100 text-sm",children:[h.jsxs("p",{className:"font-bold text-gray-900",children:[o.branch," (",o.rank,")"]}),h.jsxs("p",{className:"text-gray-600 text-xs",children:[o.start," - ",o.end]}),h.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Discharge: ",o.honorable==="yes"?"Honorable":"Other"]})]},u))]})]})}),h.jsx(jn,{title:"Digital Signature & Consent",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:"Signature"}),t.signature&&t.signature.startsWith("TEXT_SIGNATURE:")?h.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg inline-block min-w-[200px]",children:[h.jsx("p",{className:"font-serif text-2xl italic text-blue-900 transform -rotate-2",children:t.signature.replace("TEXT_SIGNATURE:","")}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-2 uppercase tracking-wider text-center border-t border-gray-300 pt-1",children:"Electronically Signed"})]}):t.signature?h.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg inline-block",children:h.jsx("img",{src:t.signature,alt:"Applicant Signature",className:"max-h-24 object-contain mix-blend-multiply"})}):h.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 text-yellow-700 rounded-lg flex items-center gap-2",children:[h.jsx(Kn,{size:18})," No digital signature on file."]}),h.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center gap-2",children:[h.jsx(ta,{size:16})," Signed on: ",h.jsx("span",{className:"font-medium text-gray-800",children:t["signature-date"]||"Unknown Date"})]})]})})})]})}function Y2({appData:t,dqStatus:e,currentStatus:r,onWorkflowAction:n,dqFiles:a,setActiveSection:s,isEditing:c,onDataChange:o,canEditAllFields:u,onPhoneClick:d}){return t?h.jsxs("div",{className:"space-y-5",children:[h.jsx(Uh,{appData:t}),h.jsx(Hh,{appData:t,dqStatus:e}),h.jsx(Wh,{currentStatus:r,onAction:n}),h.jsx(Gh,{appData:t}),h.jsx($h,{dqFiles:a,onViewDQFile:()=>s("dq")}),h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx(ro,{title:"Personal Information",preview:`${t.firstName||""} ${t.lastName||""}  ${t.city||""}, ${t.state||""}`,defaultOpen:!1,variant:"default",children:h.jsx(H2,{appData:t,isEditing:c,handleDataChange:o,canEditAllFields:u,onPhoneClick:d})}),h.jsx(ro,{title:"Position & Qualifications",preview:`${t.positionApplyingTo||"Driver"}  ${Array.isArray(t.driverType)?t.driverType.join(", "):t.driverType||"N/A"}`,defaultOpen:!1,variant:"default",children:h.jsx(W2,{appData:t,isEditing:c,handleDataChange:o,canEditAllFields:u})}),h.jsx(ro,{title:"Driving Record & Safety",preview:`${t.violations?.length||0} violations  ${t.accidents?.length||0} accidents`,defaultOpen:!1,variant:"default",children:h.jsx(V2,{appData:t})})]})]}):null}function J2({companyId:t,applicationId:e,driverId:r,driverName:n,onClose:a,onOfferSent:s}){const[c,o]=Je.useState(!1),[u,d]=Je.useState(!0),[m,x]=Je.useState({payRate:"",payType:"CPM",startDate:"",orientationDate:"",benefits:[],notes:""});Je.useEffect(()=>{async function g(){const C=await zu(t);if(C&&C.jobOffers){const k=Object.values(C.jobOffers)[0];k&&x(I=>({...I,payRate:k.cpm||"",benefits:k.benefits||[]}))}d(!1)}g()},[t]);const w=async g=>{if(g.preventDefault(),!m.payRate||!m.startDate){alert("Please fill in Pay Rate and Start Date.");return}o(!0);try{const C=Ur(Ar,"companies",t,"applications",e);await Di(C,{status:"Offer Sent",offerDetails:{...m,sentAt:new Date().toISOString()}}),r&&await Yf({recipientId:r,title:"Job Offer Received!",message:"You have received a formal job offer. Tap to review details.",type:"success",link:"/driver/dashboard"}),s(),a()}catch(C){console.error("Error sending offer:",C),alert("Failed to send offer.")}finally{o(!1)}};return u?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/20 z-50",children:h.jsx(Ks,{className:"animate-spin"})}):h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",onClick:a,children:h.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl border border-gray-200 flex flex-col",onClick:g=>g.stopPropagation(),children:[h.jsxs("div",{className:"p-5 border-b border-gray-200 flex justify-between items-center bg-blue-600 rounded-t-xl text-white",children:[h.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[h.jsx(ta,{size:24})," Send Job Offer"]}),h.jsx("button",{onClick:a,className:"p-1 hover:bg-blue-700 rounded-full transition",children:h.jsx(Tl,{size:20})})]}),h.jsxs("div",{className:"p-6 space-y-5",children:[h.jsxs("p",{className:"text-gray-600 text-sm",children:["You are extending a formal offer to ",h.jsx("strong",{className:"text-gray-900",children:n}),". They will receive a notification to accept or decline."]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Pay Rate"}),h.jsxs("div",{className:"relative",children:[h.jsx(Zf,{size:16,className:"absolute left-3 top-3 text-gray-400"}),h.jsx("input",{type:"text",className:"w-full pl-9 p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.65",value:m.payRate,onChange:g=>x({...m,payRate:g.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Pay Type"}),h.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg bg-white",value:m.payType,onChange:g=>x({...m,payType:g.target.value}),children:[h.jsx("option",{value:"CPM",children:"Cents Per Mile"}),h.jsx("option",{value:"Percent",children:"Percent of Load"}),h.jsx("option",{value:"Flat",children:"Weekly Flat Rate"}),h.jsx("option",{value:"Hourly",children:"Hourly"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Start Date"}),h.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-lg",value:m.startDate,onChange:g=>x({...m,startDate:g.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Orientation"}),h.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-lg",value:m.orientationDate,onChange:g=>x({...m,orientationDate:g.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Benefits Included"}),h.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg text-sm h-20",placeholder:"List key benefits (e.g. Medical, Dental, Sign-on Bonus)...",value:Array.isArray(m.benefits)?m.benefits.join(", "):m.benefits,onChange:g=>x({...m,benefits:g.target.value.split(", ")})}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Separate items with a comma."})]})]}),h.jsxs("div",{className:"p-5 border-t border-gray-200 bg-gray-50 rounded-b-xl flex justify-end gap-3",children:[h.jsx("button",{onClick:a,className:"px-5 py-2 text-gray-600 hover:bg-gray-200 font-semibold rounded-lg transition",children:"Cancel"}),h.jsxs("button",{onClick:w,disabled:c,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 shadow-md flex items-center gap-2 disabled:opacity-50",children:[c?h.jsx(Ks,{className:"animate-spin",size:18}):h.jsx(kn,{size:18}),"Send Offer"]})]})]})})}const X2=un.lazy(()=>xi(()=>import("./index-DUf8kwP1.js"),__vite__mapDeps([19,1,2,3,13,10,5,6,7,8,9,18,12,20,21,4,11,14,15,16,17])).then(t=>({default:t.DQFileTab}))),Z2=un.lazy(()=>xi(()=>import("./index-DUf8kwP1.js"),__vite__mapDeps([19,1,2,3,13,10,5,6,7,8,9,18,12,20,21,4,11,14,15,16,17])).then(t=>({default:t.GeneralDocumentsTab}))),K2=un.lazy(()=>xi(()=>import("./index-DUf8kwP1.js"),__vite__mapDeps([19,1,2,3,13,10,5,6,7,8,9,18,12,20,21,4,11,14,15,16,17])).then(t=>({default:t.NotesTab}))),Q2=un.lazy(()=>xi(()=>import("./index-DUf8kwP1.js"),__vite__mapDeps([19,1,2,3,13,10,5,6,7,8,9,18,12,20,21,4,11,14,15,16,17])).then(t=>({default:t.ActivityHistoryTab}))),e5=un.lazy(()=>xi(()=>import("./index-DUf8kwP1.js"),__vite__mapDeps([19,1,2,3,13,10,5,6,7,8,9,18,12,20,21,4,11,14,15,16,17])).then(t=>({default:t.PEVTab})));function t5({companyId:t,applicationId:e,onClosePanel:r,onStatusUpdate:n,isCompanyAdmin:a,onPhoneClick:s}){const c=Je.useId(),o=Je.useRef(null),u=Je.useRef(null),{loading:d,error:m,appData:x,collectionName:w,fileUrls:g,currentStatus:C,isEditing:k,setIsEditing:I,isSaving:S,canEdit:H,teamMembers:W,assignedTo:q,handleAssignChange:le,loadApplication:pe,handleDataChange:ce,handleSaveEdit:G,handleStatusUpdate:F,showDeleteConfirm:ee,setShowDeleteConfirm:L,showMoveModal:E,setShowMoveModal:z,showOfferModal:B,setShowOfferModal:K,activeSection:re,setActiveSection:oe,dqFiles:J,dqStatus:ue,isSuperAdmin:Ae,canEditAllFields:ye,currentAppName:A,driverId:D,handleDownloadPdf:U,handleManagementComplete:V,handleWorkflowAction:Q}=z2(t,e,n,r,s),ie=[{id:"overview",label:"Overview",icon:bs},{id:"contact",label:"Contact",icon:Cl},{id:"notes",label:"Notes",icon:Du},{id:"dq",label:"DQ File",icon:ml},{id:"pev",label:"PEV",icon:bs},{id:"docs",label:"Documents",icon:md},{id:"activity",label:"Activity",icon:ea}],he=()=>{if(d)return h.jsxs("div",{className:"space-y-4","aria-hidden":"true",children:[h.jsx("div",{className:"h-40 rounded-xl bg-gray-200 animate-pulse"}),h.jsx("div",{className:"h-16 rounded-xl bg-gray-200 animate-pulse"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"h-6 w-2/3 bg-gray-200 rounded animate-pulse"}),h.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"}),h.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]})]});if(m)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("p",{className:"text-red-500",children:m})});if(!x)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("p",{className:"text-gray-500",children:"No data available"})});switch(re){case"contact":return h.jsx(un.Suspense,{fallback:h.jsx("div",{className:"h-64 flex center text-gray-400",children:"Loading..."}),children:h.jsx(Pd,{companyId:t,recordId:e,collectionName:w,email:x.email,phone:x.phone,applicantData:x})});case"notes":return h.jsx(un.Suspense,{fallback:h.jsx("div",{className:"h-64 flex center text-gray-400",children:"Loading..."}),children:h.jsx(K2,{companyId:t,applicationId:e,collectionName:w})});case"dq":return h.jsx(un.Suspense,{fallback:h.jsx("div",{className:"h-64 flex center text-gray-400",children:"Loading..."}),children:h.jsx(X2,{companyId:t,applicationId:e,collectionName:w})});case"pev":return h.jsx(un.Suspense,{fallback:h.jsx("div",{className:"h-64 flex center text-gray-400",children:"Loading..."}),children:h.jsx(e5,{companyId:t,applicationId:e,appData:x})});case"docs":return h.jsx(un.Suspense,{fallback:h.jsx("div",{className:"h-64 flex center text-gray-400",children:"Loading..."}),children:h.jsx(Z2,{companyId:t,applicationId:e,appData:x,fileUrls:g,collectionName:w})});case"activity":return h.jsx(un.Suspense,{fallback:h.jsx("div",{className:"h-64 flex center text-gray-400",children:"Loading..."}),children:h.jsx(Q2,{companyId:t,applicationId:e,collectionName:w})});default:return h.jsx(Y2,{appData:x,dqStatus:ue,currentStatus:C,onWorkflowAction:Q,dqFiles:J,setActiveSection:oe,isEditing:k,onDataChange:ce,canEditAllFields:ye,onPhoneClick:s})}};Je.useEffect(()=>{u.current?.focus()},[]);const de=fe=>{fe.key==="Escape"&&r?.()};return h.jsx("div",{className:"fixed inset-0 bg-slate-900/60 z-[60] backdrop-blur-sm flex justify-end transition-opacity duration-300",onClick:r,onKeyDown:de,children:h.jsxs("div",{ref:o,role:"dialog","aria-modal":"true","aria-labelledby":c,tabIndex:-1,className:"bg-gray-50 w-[90%] md:w-[80%] lg:w-[70%] xl:w-[65%] h-full shadow-2xl flex flex-col transform transition-transform duration-300",onClick:fe=>fe.stopPropagation(),children:[h.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex justify-between items-center shrink-0 shadow-sm z-10",children:[h.jsx("span",{id:c,className:"sr-only",children:"Application details"}),h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Assignee:"}),h.jsxs("select",{className:"px-2 py-1 text-sm border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:q,onChange:fe=>le(fe.target.value),disabled:!H,children:[h.jsx("option",{value:"",children:"Unassigned"}),W.map(fe=>h.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]})}),h.jsxs("div",{className:"flex items-center gap-2",children:[!d&&x&&h.jsxs(h.Fragment,{children:[H&&["Approved","Background Check"].includes(C)&&h.jsxs("button",{onClick:()=>K(!0),className:"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition shadow-sm flex items-center gap-2",children:[h.jsx(ta,{size:16})," Offer"]}),h.jsxs("button",{className:"px-3 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 text-sm transition flex items-center gap-2",onClick:U,"aria-label":"Download application PDF",children:[h.jsx(Qf,{size:16})," PDF"]})]}),h.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1"}),h.jsx("button",{ref:u,className:"p-2 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-full transition",onClick:r,"aria-label":"Close application panel",children:h.jsx(Tl,{size:22})})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"p-6 space-y-5",children:[!d&&x?h.jsxs(h.Fragment,{children:[h.jsx(zh,{appData:x,currentStatus:C,handleStatusUpdate:F,canEdit:H,onPhoneClick:s}),h.jsx("div",{className:"sticky top-0 z-10 bg-gray-50/95 backdrop-blur-sm -mx-6 px-6 py-3 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:A||"Application"}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",C]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[x.phone&&h.jsx("button",{onClick:fe=>{window.location.href=`tel:${x.phone}`,s&&s(fe,x)},className:"px-2.5 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-semibold hover:bg-green-200 transition","aria-label":`Call ${x.firstName||"driver"}`,children:"Call"}),x.email&&h.jsx("a",{href:`mailto:${x.email}`,className:"px-2.5 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-semibold hover:bg-gray-200 transition","aria-label":`Email ${x.firstName||"driver"}`,children:"Email"})]})]})})]}):h.jsxs("div",{className:"space-y-4","aria-hidden":"true",children:[h.jsx("div",{className:"h-32 rounded-xl bg-gray-200 animate-pulse"}),h.jsx("div",{className:"h-10 rounded-xl bg-gray-200 animate-pulse"})]}),h.jsx("div",{className:"flex items-center gap-1 p-1 bg-gray-100 rounded-xl border border-gray-200",children:ie.map(fe=>h.jsxs("button",{onClick:()=>oe(fe.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all border-b-2 ${re===fe.id?"bg-white text-gray-900 shadow-sm border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 border-transparent"}`,"aria-current":re===fe.id?"page":void 0,children:[h.jsx(fe.icon,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:fe.label})]},fe.id))}),he()]})}),(H||Ae)&&re==="overview"&&!d&&h.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white flex justify-between items-center shrink-0 z-10",children:[h.jsxs("div",{className:"flex gap-3",children:[Ae&&!k&&h.jsxs("button",{className:"px-4 py-2 bg-indigo-100 text-indigo-700 font-bold rounded-lg hover:bg-indigo-200 transition flex items-center gap-2",onClick:()=>z(!0),children:[h.jsx(Fl,{size:16})," Move"]}),k?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"px-4 py-2 text-gray-600 hover:underline font-medium",onClick:()=>{I(!1),pe()},children:"Cancel"}),h.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition flex items-center gap-2 shadow-md",onClick:G,disabled:S,children:[h.jsx(td,{size:16})," Save"]})]}):h.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-bold rounded-lg hover:bg-gray-100 transition flex items-center gap-2 shadow-sm",onClick:()=>I(!0),children:[h.jsx(ed,{size:16})," Edit"]})]}),!k&&h.jsxs("button",{className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg font-bold transition flex items-center gap-2",onClick:()=>L(!0),children:[h.jsx(rd,{size:16})," Delete"]})]}),ee&&h.jsx(Fd,{appName:A,companyId:t,applicationId:e,collectionName:w,onClose:()=>L(!1),onDeletionComplete:V}),E&&Ae&&h.jsx(Td,{sourceCompanyId:t,applicationId:e,onClose:()=>z(!1),onMoveComplete:V}),B&&h.jsx(J2,{companyId:t,applicationId:e,driverId:D,driverName:A,onClose:()=>K(!1),onOfferSent:()=>{F("Offer Sent"),pe()}})]})})}const x5=Object.freeze(Object.defineProperty({__proto__:null,AccordionSection:ro,ApplicationDetailViewV2:t5,CandidateHero:zh,DQComplianceIndicator:$h,EmploymentTimeline:Gh,QuickFactsBar:Hh,RiskAssessmentBanner:Uh,StatusWorkflowGuide:Wh},Symbol.toStringTag,{value:"Module"}));export{t5 as A,qe as E,jn as S,kt as _,x5 as i,b5 as l};
