const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SuperAdminDashboard-MLuiYKZy.js","assets/CustomQuestionsBuilder-C9bbau8M.js","assets/trash-2-RTc4kdO5.js","assets/plus-DHyG1REA.js","assets/circle-BoyhTIEe.js","assets/shield-alert-CyrU0uX3.js","assets/shield-B8dSCmK2.js","assets/save-xDZOd2sT.js","assets/BulkUploadLayout-DCFrYteR.js","assets/upload-CeDmLZPo.js","assets/useBulkImport-DleduGt8.js","assets/external-link-DG7NPcwU.js","assets/file-text-fIi5thw4.js","assets/pen-DKw8HDfG.js","assets/index-BbXgOzvQ.js","assets/credit-card-DXG0d7j1.js","assets/file-pen-line-CZApjMvZ.js","assets/send-DbngQNm2.js","assets/user-check-BzH4u_-N.js","assets/dollar-sign-DE8xXdSp.js","assets/storage-gYyq0gBL.js","assets/pdfjs-CN6VhWT3.js","assets/CompanyAdminDashboard-DqvPtrQ6.js","assets/form-options-DRTvQM9c.js","assets/check-D3G6pll6.js","assets/clsx-B-dksMZM.js","assets/index-DjK99qPH.js","assets/pen-tool-CnWi3ktp.js","assets/CompanySettings-I1wroi0i.js","assets/beaker-BDw6Lckq.js","assets/history-1Q_UTirS.js","assets/DriverDashboard-DtcJGCV8.js","assets/driverService-BuYSst19.js","assets/applicationId-D0tBiTrd.js","assets/signature-CKsXCBTr.js","assets/confetti.module-oQXWb4Lk.js","assets/DriverApplicationWizard-DtV_ZevW.js","assets/Stepper-Da0qBMt9.js","assets/PublicApplyHandler-CopYuO7_.js","assets/InterestPage-DjrnRccf.js","assets/SigningRoom-BFMEi7XA.js","assets/index-Dyi1V6Cy.js","assets/DocumentsManager-Br-0G_f-.js"])))=>i.map(i=>d[i]);
import{G as UM}from"./pdfjs-CN6VhWT3.js";function VM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var gX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W_={exports:{}},ud={};var b1;function jM(){if(b1)return ud;b1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:o}}return ud.Fragment=e,ud.jsx=n,ud.jsxs=n,ud}var T1;function BM(){return T1||(T1=1,W_.exports=jM()),W_.exports}var T=BM(),Y_={exports:{}},Le={};var w1;function zM(){if(w1)return Le;w1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function z(L,q,re){this.props=L,this.context=q,this.refs=k,this.updater=re||A}z.prototype.isReactComponent={},z.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=z.prototype;function Q(L,q,re){this.props=L,this.context=q,this.refs=k,this.updater=re||A}var Z=Q.prototype=new F;Z.constructor=Q,N(Z,z.prototype),Z.isPureReactComponent=!0;var ue=Array.isArray;function se(){}var x={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(L,q,re){var me=re.ref;return{$$typeof:t,type:L,key:q,ref:me!==void 0?me:null,props:re}}function D(L,q){return O(L.type,q,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function U(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return q[re]})}var M=/\/+/g;function ge(L,q){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):q.toString(36)}function De(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(se,se):(L.status="pending",L.then(function(q){L.status==="pending"&&(L.status="fulfilled",L.value=q)},function(q){L.status==="pending"&&(L.status="rejected",L.reason=q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,q,re,me,ve){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(Oe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case t:case e:Me=!0;break;case y:return Me=L._init,Y(Me(L._payload),q,re,me,ve)}}if(Me)return ve=ve(L),Me=me===""?"."+ge(L,0):me,ue(ve)?(re="",Me!=null&&(re=Me.replace(M,"$&/")+"/"),Y(ve,q,re,"",function(Cn){return Cn})):ve!=null&&(P(ve)&&(ve=D(ve,re+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(M,"$&/")+"/")+Me)),q.push(ve)),1;Me=0;var It=me===""?".":me+":";if(ue(L))for(var gt=0;gt<L.length;gt++)me=L[gt],Oe=It+ge(me,gt),Me+=Y(me,q,re,Oe,ve);else if(gt=w(L),typeof gt=="function")for(L=gt.call(L),gt=0;!(me=L.next()).done;)me=me.value,Oe=It+ge(me,gt++),Me+=Y(me,q,re,Oe,ve);else if(Oe==="object"){if(typeof L.then=="function")return Y(De(L),q,re,me,ve);throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ae(L,q,re){if(L==null)return L;var me=[],ve=0;return Y(L,me,"","",function(Oe){return q.call(re,Oe,ve++)}),me}function te(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},le={map:ae,forEach:function(L,q,re){ae(L,function(){q.apply(this,arguments)},re)},count:function(L){var q=0;return ae(L,function(){q++}),q},toArray:function(L){return ae(L,function(q){return q})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Le.Activity=_,Le.Children=le,Le.Component=z,Le.Fragment=n,Le.Profiler=s,Le.PureComponent=Q,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Le.__COMPILER_RUNTIME={__proto__:null,c:function(L){return x.H.useMemoCache(L)}},Le.cache=function(L){return function(){return L.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(L,q,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=N({},L.props),ve=L.key;if(q!=null)for(Oe in q.key!==void 0&&(ve=""+q.key),q)!I.call(q,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&q.ref===void 0||(me[Oe]=q[Oe]);var Oe=arguments.length-2;if(Oe===1)me.children=re;else if(1<Oe){for(var Me=Array(Oe),It=0;It<Oe;It++)Me[It]=arguments[It+2];me.children=Me}return O(L.type,ve,me)},Le.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Le.createElement=function(L,q,re){var me,ve={},Oe=null;if(q!=null)for(me in q.key!==void 0&&(Oe=""+q.key),q)I.call(q,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ve[me]=q[me]);var Me=arguments.length-2;if(Me===1)ve.children=re;else if(1<Me){for(var It=Array(Me),gt=0;gt<Me;gt++)It[gt]=arguments[gt+2];ve.children=It}if(L&&L.defaultProps)for(me in Me=L.defaultProps,Me)ve[me]===void 0&&(ve[me]=Me[me]);return O(L,Oe,ve)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:d,render:L}},Le.isValidElement=P,Le.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:te}},Le.memo=function(L,q){return{$$typeof:p,type:L,compare:q===void 0?null:q}},Le.startTransition=function(L){var q=x.T,re={};x.T=re;try{var me=L(),ve=x.S;ve!==null&&ve(re,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(se,fe)}catch(Oe){fe(Oe)}finally{q!==null&&re.types!==null&&(q.types=re.types),x.T=q}},Le.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Le.use=function(L){return x.H.use(L)},Le.useActionState=function(L,q,re){return x.H.useActionState(L,q,re)},Le.useCallback=function(L,q){return x.H.useCallback(L,q)},Le.useContext=function(L){return x.H.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L,q){return x.H.useDeferredValue(L,q)},Le.useEffect=function(L,q){return x.H.useEffect(L,q)},Le.useEffectEvent=function(L){return x.H.useEffectEvent(L)},Le.useId=function(){return x.H.useId()},Le.useImperativeHandle=function(L,q,re){return x.H.useImperativeHandle(L,q,re)},Le.useInsertionEffect=function(L,q){return x.H.useInsertionEffect(L,q)},Le.useLayoutEffect=function(L,q){return x.H.useLayoutEffect(L,q)},Le.useMemo=function(L,q){return x.H.useMemo(L,q)},Le.useOptimistic=function(L,q){return x.H.useOptimistic(L,q)},Le.useReducer=function(L,q,re){return x.H.useReducer(L,q,re)},Le.useRef=function(L){return x.H.useRef(L)},Le.useState=function(L){return x.H.useState(L)},Le.useSyncExternalStore=function(L,q,re){return x.H.useSyncExternalStore(L,q,re)},Le.useTransition=function(){return x.H.useTransition()},Le.version="19.2.4",Le}var A1;function G0(){return A1||(A1=1,Y_.exports=zM()),Y_.exports}var j=G0();const Wr=lx(j),yX=VM({__proto__:null,default:Wr},[j]);var K_={exports:{}},dd={},Q_={exports:{}},X_={};var R1;function FM(){return R1||(R1=1,(function(t){function e(Y,ae){var te=Y.length;Y.push(ae);e:for(;0<te;){var fe=te-1>>>1,le=Y[fe];if(0<s(le,ae))Y[fe]=ae,Y[te]=le,te=fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ae=Y[0],te=Y.pop();if(te!==ae){Y[0]=te;e:for(var fe=0,le=Y.length,L=le>>>1;fe<L;){var q=2*(fe+1)-1,re=Y[q],me=q+1,ve=Y[me];if(0>s(re,te))me<le&&0>s(ve,re)?(Y[fe]=ve,Y[me]=te,fe=me):(Y[fe]=re,Y[q]=te,fe=q);else if(me<le&&0>s(ve,te))Y[fe]=ve,Y[me]=te,fe=me;else break e}}return ae}function s(Y,ae){var te=Y.sortIndex-ae.sortIndex;return te!==0?te:Y.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],y=1,_=null,E=3,w=!1,A=!1,N=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Y)r(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(p)}}function ue(Y){if(N=!1,Z(Y),!A)if(n(f)!==null)A=!0,se||(se=!0,U());else{var ae=n(p);ae!==null&&De(ue,ae.startTime-Y)}}var se=!1,x=-1,I=5,O=-1;function D(){return k?!0:!(t.unstable_now()-O<I)}function P(){if(k=!1,se){var Y=t.unstable_now();O=Y;var ae=!0;try{e:{A=!1,N&&(N=!1,F(x),x=-1),w=!0;var te=E;try{t:{for(Z(Y),_=n(f);_!==null&&!(_.expirationTime>Y&&D());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,E=_.priorityLevel;var le=fe(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof le=="function"){_.callback=le,Z(Y),ae=!0;break t}_===n(f)&&r(f),Z(Y)}else r(f);_=n(f)}if(_!==null)ae=!0;else{var L=n(p);L!==null&&De(ue,L.startTime-Y),ae=!1}}break e}finally{_=null,E=te,w=!1}ae=void 0}}finally{ae?U():se=!1}}}var U;if(typeof Q=="function")U=function(){Q(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ge=M.port2;M.port1.onmessage=P,U=function(){ge.postMessage(null)}}else U=function(){z(P,0)};function De(Y,ae){x=z(function(){Y(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var te=E;E=ae;try{return Y()}finally{E=te}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=E;E=Y;try{return ae()}finally{E=te}},t.unstable_scheduleCallback=function(Y,ae,te){var fe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,Y){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=te+le,Y={id:y++,callback:ae,priorityLevel:Y,startTime:te,expirationTime:le,sortIndex:-1},te>fe?(Y.sortIndex=te,e(p,Y),n(f)===null&&Y===n(p)&&(N?(F(x),x=-1):N=!0,De(ue,te-fe))):(Y.sortIndex=le,e(f,Y),A||w||(A=!0,se||(se=!0,U()))),Y},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Y){var ae=E;return function(){var te=E;E=ae;try{return Y.apply(this,arguments)}finally{E=te}}}})(X_)),X_}var I1;function HM(){return I1||(I1=1,Q_.exports=FM()),Q_.exports}var J_={exports:{}},On={};var x1;function qM(){if(x1)return On;x1=1;var t=G0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,On.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},On.flushSync=function(f){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=y,r.d.f()}},On.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},On.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},On.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&r.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},On.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},On.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},On.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},On.requestFormReset=function(f){r.d.r(f)},On.unstable_batchedUpdates=function(f,p){return f(p)},On.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},On.useFormStatus=function(){return c.H.useHostTransitionStatus()},On.version="19.2.4",On}var C1;function $M(){if(C1)return J_.exports;C1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J_.exports=qM(),J_.exports}var N1;function GM(){if(N1)return dd;N1=1;var t=HM(),e=G0(),n=$M();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function p(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return f(m),i;if(g===u)return f(m),a;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=g;else{for(var S=!1,R=m.child;R;){if(R===l){S=!0,l=m,u=g;break}if(R===u){S=!0,u=m,l=g;break}R=R.sibling}if(!S){for(R=g.child;R;){if(R===l){S=!0,l=g,u=m;break}if(R===u){S=!0,u=g,l=m;break}R=R.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function y(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=y(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case ue:return"Suspense";case se:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case Q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case Z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return a=i.displayName||null,a!==null?a:ge(i.type)||"Memo";case I:a=i._payload,i=i._init;try{return ge(i(a))}catch{}}return null}var De=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},fe=[],le=-1;function L(i){return{current:i}}function q(i){0>le||(i.current=fe[le],fe[le]=null,le--)}function re(i,a){le++,fe[le]=i.current,i.current=a}var me=L(null),ve=L(null),Oe=L(null),Me=L(null);function It(i,a){switch(re(Oe,a),re(ve,i),re(me,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?$w(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=$w(a),i=Gw(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(me),re(me,i)}function gt(){q(me),q(ve),q(Oe)}function Cn(i){i.memoizedState!==null&&re(Me,i);var a=me.current,l=Gw(a,i.type);a!==l&&(re(ve,i),re(me,l))}function Ir(i){ve.current===i&&(q(me),q(ve)),Me.current===i&&(q(Me),ad._currentValue=te)}var Fi,js;function nn(i){if(Fi===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Fi=a&&a[1]||"",js=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+i+js}var Un=!1;function pi(i,a){if(!i||Un)return"";Un=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(X){var K=X}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(X){K=X}i.call(oe.prototype)}}else{try{throw Error()}catch(X){K=X}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],R=g[1];if(S&&R){var V=S.split(`
`),W=R.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===W.length)for(u=V.length-1,m=W.length-1;1<=u&&0<=m&&V[u]!==W[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==W[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==W[m]){var ne=`
`+V[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=m);break}}}finally{Un=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?nn(l):""}function _o(i,a){switch(i.tag){case 26:case 27:case 5:return nn(i.type);case 16:return nn("Lazy");case 13:return i.child!==a&&a!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return pi(i.type,!1);case 11:return pi(i.type.render,!1);case 1:return pi(i.type,!0);case 31:return nn("Activity");default:return""}}function Hi(i){try{var a="",l=null;do a+=_o(i,l),l=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var mi=Object.prototype.hasOwnProperty,ze=t.unstable_scheduleCallback,cn=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,Nt=t.unstable_requestPaint,Re=t.unstable_now,gi=t.unstable_getCurrentPriorityLevel,rn=t.unstable_ImmediatePriority,un=t.unstable_UserBlockingPriority,qi=t.unstable_NormalPriority,$f=t.unstable_LowPriority,uu=t.unstable_IdlePriority,Gg=t.log,vo=t.unstable_setDisableYieldValue,Bs=null,Nn=null;function xr(i){if(typeof Gg=="function"&&vo(i),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(Bs,i)}catch{}}var Vn=Math.clz32?Math.clz32:Gf,Wg=Math.log,du=Math.LN2;function Gf(i){return i>>>=0,i===0?32:31-(Wg(i)/du|0)|0}var Eo=256,yi=262144,zs=4194304;function Yr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Cr(i,a,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?m=Yr(u):(S&=R,S!==0?m=Yr(S):l||(l=R&~i,l!==0&&(m=Yr(l))))):(R=u&~g,R!==0?m=Yr(R):S!==0?m=Yr(S):l||(l=u&~i,l!==0&&(m=Yr(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function Fs(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Tl(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var i=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),i}function $i(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Hs(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vn(i,a,l,u,m,g){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,V=i.expirationTimes,W=i.hiddenUpdates;for(l=S&~l;0<l;){var ne=31-Vn(l),oe=1<<ne;R[ne]=0,V[ne]=-1;var K=W[ne];if(K!==null)for(W[ne]=null,ne=0;ne<K.length;ne++){var X=K[ne];X!==null&&(X.lane&=-536870913)}l&=~oe}u!==0&&hu(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~a))}function hu(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Vn(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function qs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-Vn(l),m=1<<u;m&a|i[u]&a&&(i[u]|=a),l&=~m}}function $s(i,a){var l=a&-a;return l=(l&42)!==0?1:pu(l),(l&(i.suspendedLanes|a))!==0?0:l}function pu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function mu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gi(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:m1(i.type))}function Wf(i,a){var l=ae.p;try{return ae.p=i,a()}finally{ae.p=l}}var _i=Math.random().toString(36).slice(2),Dt="__reactFiber$"+_i,En="__reactProps$"+_i,vi="__reactContainer$"+_i,Gs="__reactEvents$"+_i,Ei="__reactListeners$"+_i,Yf="__reactHandles$"+_i,gu="__reactResources$"+_i,Wi="__reactMarker$"+_i;function So(i){delete i[Dt],delete i[En],delete i[Gs],delete i[Ei],delete i[Yf]}function Yi(i){var a=i[Dt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[vi]||l[Dt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Zw(i);i!==null;){if(l=i[Dt])return l;i=Zw(i)}return a}i=l,l=i.parentNode}return null}function Ki(i){if(i=i[Dt]||i[vi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function bo(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Kr(i){var a=i[gu];return a||(a=i[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(i){i[Wi]=!0}var wl=new Set,Ws={};function jn(i,a){Si(i,a),Si(i+"Capture",a)}function Si(i,a){for(Ws[i]=a,i=0;i<a.length;i++)wl.add(a[i])}var Yg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},_u={};function Kf(i){return mi.call(_u,i)?!0:mi.call(yu,i)?!1:Yg.test(i)?_u[i]=!0:(yu[i]=!0,!1)}function Ys(i,a,l){if(Kf(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ks(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Nr(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qf(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kg(i,a,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Al(i){if(!i._valueTracker){var a=Qf(i)?"checked":"value";i._valueTracker=Kg(i,a,""+i[a])}}function vu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=Qf(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function Rl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qi=/[\n"\\]/g;function Mt(i){return i.replace(Qi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qs(i,a,l,u,m,g,S,R){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),a!=null?S==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Bn(a)):i.value!==""+Bn(a)&&(i.value=""+Bn(a)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),a!=null?Il(i,S,Bn(a)):l!=null?Il(i,S,Bn(l)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+Bn(R):i.removeAttribute("name")}function To(i,a,l,u,m,g,S,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Al(i);return}l=l!=null?""+Bn(l):"",a=a!=null?""+Bn(a):l,R||a===i.value||(i.value=a),i.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),Al(i)}function Il(i,a,l){a==="number"&&Rl(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ot(i,a,l,u){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Bn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function wo(i,a,l){if(a!=null&&(a=""+Bn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Bn(l):""}function Xs(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(De(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Bn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),Al(i)}function kr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||Qg.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Xf(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&Eu(i,m,u)}else for(var g in a)a.hasOwnProperty(g)&&Eu(i,g,a[g])}function Su(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(i){return Jg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function dn(){}var xl=null;function Cl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xi=null,ur=null;function Jf(i){var a=Ki(i);if(a&&(i=a.stateNode)){var l=i[En]||null;e:switch(i=a.stateNode,a.type){case"input":if(Qs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var m=u[En]||null;if(!m)throw Error(r(90));Qs(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&vu(u)}break e;case"textarea":wo(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ot(i,!!l.multiple,a,!1)}}}var bu=!1;function Zf(i,a,l){if(bu)return i(a,l);bu=!0;try{var u=i(a);return u}finally{if(bu=!1,(Xi!==null||ur!==null)&&(Kh(),Xi&&(a=Xi,i=ur,ur=Xi=null,Jf(a),i)))for(a=0;a<i.length;a++)Jf(i[a])}}function Qn(i,a){var l=i.stateNode;if(l===null)return null;var u=l[En]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(Qr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Tu=!1}var dr=null,Nl=null,wi=null;function Js(){if(wi)return wi;var i,a=Nl,l=a.length,u,m="value"in dr?dr.value:dr.textContent,g=m.length;for(i=0;i<l&&a[i]===m[i];i++);var S=l-i;for(u=1;u<=S&&a[l-u]===m[g-u];u++);return wi=m.slice(i,1<u?1-u:void 0)}function Ao(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Zs(){return!0}function Tt(){return!1}function kn(i){function a(l,u,m,g,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zs:Tt,this.isPropagationStopped=Tt,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),a}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=kn(Ji),ea=_({},Ji,{view:0,detail:0}),eh=kn(ea),ta,kl,zn,Io=_({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zn&&(zn&&i.type==="mousemove"?(ta=i.screenX-zn.screenX,kl=i.screenY-zn.screenY):kl=ta=0,zn=i),ta)},movementY:function(i){return"movementY"in i?i.movementY:kl}}),th=kn(Io),xo=_({},Io,{dataTransfer:0}),nh=kn(xo),wu=_({},ea,{relatedTarget:0}),na=kn(wu),rh=_({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ol=kn(rh),Zg=_({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ih=kn(Zg),Co=_({},Ji,{data:0}),Au=kn(Co),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Iu[i])?!!a[i]:!1}function ra(){return ah}var oh=_({},ea,{key:function(i){if(i.key){var a=sh[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ao(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ru[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(i){return i.type==="keypress"?Ao(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ao(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lh=kn(oh),Zi=_({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=kn(Zi),ch=_({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),uh=kn(ch),dh=_({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dl=kn(dh),Fn=_({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fh=kn(Fn),hh=_({},Ji,{newState:0,oldState:0}),ia=kn(hh),h=[9,13,27,32],v=Qr&&"CompositionEvent"in window,b=null;Qr&&"documentMode"in document&&(b=document.documentMode);var C=Qr&&"TextEvent"in window&&!b,$=Qr&&(!v||b&&8<b&&11>=b),J=" ",he=!1;function ft(i,a){switch(i){case"keyup":return h.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $t(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function fn(i,a){switch(i){case"compositionend":return $t(a);case"keypress":return a.which!==32?null:(he=!0,J);case"textInput":return i=a.data,i===J&&he?null:i;default:return null}}function hn(i,a){if(He)return i==="compositionend"||!v&&ft(i,a)?(i=Js(),wi=Nl=dr=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $&&a.locale!=="ko"?null:a.data;default:return null}}var sa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!sa[i.type]:a==="textarea"}function No(i,a,l,u){Xi?ur?ur.push(u):ur=[u]:Xi=u,a=np(a,"onChange"),0<a.length&&(l=new Ro("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var es=null,Cu=null;function uD(i){jw(i,0)}function ph(i){var a=bo(i);if(vu(a))return i}function ib(i,a){if(i==="change")return a}var sb=!1;if(Qr){var ey;if(Qr){var ty="oninput"in document;if(!ty){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),ty=typeof ab.oninput=="function"}ey=ty}else ey=!1;sb=ey&&(!document.documentMode||9<document.documentMode)}function ob(){es&&(es.detachEvent("onpropertychange",lb),Cu=es=null)}function lb(i){if(i.propertyName==="value"&&ph(Cu)){var a=[];No(a,Cu,i,Cl(i)),Zf(uD,a)}}function dD(i,a,l){i==="focusin"?(ob(),es=a,Cu=l,es.attachEvent("onpropertychange",lb)):i==="focusout"&&ob()}function fD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ph(Cu)}function hD(i,a){if(i==="click")return ph(a)}function pD(i,a){if(i==="input"||i==="change")return ph(a)}function mD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var fr=typeof Object.is=="function"?Object.is:mD;function Nu(i,a){if(fr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!mi.call(a,m)||!fr(i[m],a[m]))return!1}return!0}function cb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ub(i,a){var l=cb(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cb(l)}}function db(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?db(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function fb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Rl(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Rl(i.document)}return a}function ny(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var gD=Qr&&"documentMode"in document&&11>=document.documentMode,Ml=null,ry=null,ku=null,iy=!1;function hb(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;iy||Ml==null||Ml!==Rl(u)||(u=Ml,"selectionStart"in u&&ny(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ku&&Nu(ku,u)||(ku=u,u=np(ry,"onSelect"),0<u.length&&(a=new Ro("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Ml)))}function ko(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Pl={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},sy={},pb={};Qr&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Oo(i){if(sy[i])return sy[i];if(!Pl[i])return i;var a=Pl[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in pb)return sy[i]=a[l];return i}var mb=Oo("animationend"),gb=Oo("animationiteration"),yb=Oo("animationstart"),yD=Oo("transitionrun"),_D=Oo("transitionstart"),vD=Oo("transitioncancel"),_b=Oo("transitionend"),vb=new Map,ay="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ay.push("scrollEnd");function Xr(i,a){vb.set(i,a),jn(a,[i])}var mh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Or=[],Ll=0,oy=0;function gh(){for(var i=Ll,a=oy=Ll=0;a<i;){var l=Or[a];Or[a++]=null;var u=Or[a];Or[a++]=null;var m=Or[a];Or[a++]=null;var g=Or[a];if(Or[a++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}g!==0&&Eb(l,m,g)}}function yh(i,a,l,u){Or[Ll++]=i,Or[Ll++]=a,Or[Ll++]=l,Or[Ll++]=u,oy|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ly(i,a,l,u){return yh(i,a,l,u),_h(i)}function Do(i,a){return yh(i,null,null,a),_h(i)}function Eb(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&a!==null&&(m=31-Vn(l),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[a]:u.push(a),a.lane=l|536870912),g):null}function _h(i){if(50<Zu)throw Zu=0,y_=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ul={};function ED(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(i,a,l,u){return new ED(i,a,l,u)}function cy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ts(i,a){var l=i.alternate;return l===null?(l=hr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Sb(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function vh(i,a,l,u,m,g){var S=0;if(u=i,typeof i=="function")cy(i)&&(S=1);else if(typeof i=="string")S=AM(i,l,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=hr(31,l,a,m),i.elementType=O,i.lanes=g,i;case N:return Mo(l.children,m,g,a);case k:S=8,m|=24;break;case z:return i=hr(12,l,a,m|2),i.elementType=z,i.lanes=g,i;case ue:return i=hr(13,l,a,m),i.elementType=ue,i.lanes=g,i;case se:return i=hr(19,l,a,m),i.elementType=se,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:S=10;break e;case F:S=9;break e;case Z:S=11;break e;case x:S=14;break e;case I:S=16,u=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=hr(S,l,a,m),a.elementType=i,a.type=u,a.lanes=g,a}function Mo(i,a,l,u){return i=hr(7,i,u,a),i.lanes=l,i}function uy(i,a,l){return i=hr(6,i,null,a),i.lanes=l,i}function bb(i){var a=hr(18,null,null,0);return a.stateNode=i,a}function dy(i,a,l){return a=hr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Tb=new WeakMap;function Dr(i,a){if(typeof i=="object"&&i!==null){var l=Tb.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Hi(a)},Tb.set(i,a),a)}return{value:i,source:a,stack:Hi(a)}}var Vl=[],jl=0,Eh=null,Ou=0,Mr=[],Pr=0,aa=null,Ai=1,Ri="";function ns(i,a){Vl[jl++]=Ou,Vl[jl++]=Eh,Eh=i,Ou=a}function wb(i,a,l){Mr[Pr++]=Ai,Mr[Pr++]=Ri,Mr[Pr++]=aa,aa=i;var u=Ai;i=Ri;var m=32-Vn(u)-1;u&=~(1<<m),l+=1;var g=32-Vn(a)+m;if(30<g){var S=m-m%5;g=(u&(1<<S)-1).toString(32),u>>=S,m-=S,Ai=1<<32-Vn(a)+m|l<<m|u,Ri=g+i}else Ai=1<<g|l<<m|u,Ri=i}function fy(i){i.return!==null&&(ns(i,1),wb(i,1,0))}function hy(i){for(;i===Eh;)Eh=Vl[--jl],Vl[jl]=null,Ou=Vl[--jl],Vl[jl]=null;for(;i===aa;)aa=Mr[--Pr],Mr[Pr]=null,Ri=Mr[--Pr],Mr[Pr]=null,Ai=Mr[--Pr],Mr[Pr]=null}function Ab(i,a){Mr[Pr++]=Ai,Mr[Pr++]=Ri,Mr[Pr++]=aa,Ai=a.id,Ri=a.overflow,aa=i}var Sn=null,wt=null,et=!1,oa=null,Lr=!1,py=Error(r(519));function la(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Du(Dr(a,i)),py}function Rb(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[Dt]=i,a[En]=u,l){case"dialog":We("cancel",a),We("close",a);break;case"iframe":case"object":case"embed":We("load",a);break;case"video":case"audio":for(l=0;l<td.length;l++)We(td[l],a);break;case"source":We("error",a);break;case"img":case"image":case"link":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"input":We("invalid",a),To(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":We("invalid",a);break;case"textarea":We("invalid",a),Xs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Hw(a.textContent,l)?(u.popover!=null&&(We("beforetoggle",a),We("toggle",a)),u.onScroll!=null&&We("scroll",a),u.onScrollEnd!=null&&We("scrollend",a),u.onClick!=null&&(a.onclick=dn),a=!0):a=!1,a||la(i,!0)}function Ib(i){for(Sn=i.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Sn=Sn.return}}function Bl(i){if(i!==Sn)return!1;if(!et)return Ib(i),et=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||O_(i.type,i.memoizedProps)),l=!l),l&&wt&&la(i),Ib(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=Jw(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=Jw(i)}else a===27?(a=wt,ba(i.type)?(i=U_,U_=null,wt=i):wt=a):wt=Sn?Vr(i.stateNode.nextSibling):null;return!0}function Po(){wt=Sn=null,et=!1}function my(){var i=oa;return i!==null&&(tr===null?tr=i:tr.push.apply(tr,i),oa=null),i}function Du(i){oa===null?oa=[i]:oa.push(i)}var gy=L(null),Lo=null,rs=null;function ca(i,a,l){re(gy,a._currentValue),a._currentValue=l}function is(i){i._currentValue=gy.current,q(gy)}function yy(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function _y(i,a,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var V=0;V<a.length;V++)if(R.context===a[V]){g.lanes|=l,R=g.alternate,R!==null&&(R.lanes|=l),yy(g.return,l,i),u||(S=null);break e}g=R.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),yy(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function zl(i,a,l,u){i=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var R=m.type;fr(m.pendingProps.value,S.value)||(i!==null?i.push(R):i=[R])}}else if(m===Me.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(ad):i=[ad])}m=m.return}i!==null&&_y(a,i,l,u),a.flags|=262144}function Sh(i){for(i=i.firstContext;i!==null;){if(!fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Uo(i){Lo=i,rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bn(i){return xb(Lo,i)}function bh(i,a){return Lo===null&&Uo(i),xb(i,a)}function xb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},rs===null){if(i===null)throw Error(r(308));rs=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else rs=rs.next=a;return l}var SD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},bD=t.unstable_scheduleCallback,TD=t.unstable_NormalPriority,Gt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vy(){return{controller:new SD,data:new Map,refCount:0}}function Mu(i){i.refCount--,i.refCount===0&&bD(TD,function(){i.controller.abort()})}var Pu=null,Ey=0,Fl=0,Hl=null;function wD(i,a){if(Pu===null){var l=Pu=[];Ey=0,Fl=T_(),Hl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ey++,a.then(Cb,Cb),a}function Cb(){if(--Ey===0&&Pu!==null){Hl!==null&&(Hl.status="fulfilled");var i=Pu;Pu=null,Fl=0,Hl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function AD(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Nb=Y.S;Y.S=function(i,a){hw=Re(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&wD(i,a),Nb!==null&&Nb(i,a)};var Vo=L(null);function Sy(){var i=Vo.current;return i!==null?i:Et.pooledCache}function Th(i,a){a===null?re(Vo,Vo.current):re(Vo,a.pool)}function kb(){var i=Sy();return i===null?null:{parent:Gt._currentValue,pool:i}}var ql=Error(r(460)),by=Error(r(474)),wh=Error(r(542)),Ah={then:function(){}};function Ob(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Db(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(dn,dn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Pb(i),i;default:if(typeof a.status=="string")a.then(dn,dn);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Pb(i),i}throw Bo=a,ql}}function jo(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Bo=l,ql):l}}var Bo=null;function Mb(){if(Bo===null)throw Error(r(459));var i=Bo;return Bo=null,i}function Pb(i){if(i===ql||i===wh)throw Error(r(483))}var $l=null,Lu=0;function Rh(i){var a=Lu;return Lu+=1,$l===null&&($l=[]),Db($l,i,a)}function Uu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Ih(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Lb(i){function a(H,B){if(i){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function l(H,B){if(!i)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function m(H,B){return H=ts(H,B),H.index=0,H.sibling=null,H}function g(H,B,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function S(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function R(H,B,G,ie){return B===null||B.tag!==6?(B=uy(G,H.mode,ie),B.return=H,B):(B=m(B,G),B.return=H,B)}function V(H,B,G,ie){var Te=G.type;return Te===N?ne(H,B,G.props.children,ie,G.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&jo(Te)===B.type)?(B=m(B,G.props),Uu(B,G),B.return=H,B):(B=vh(G.type,G.key,G.props,null,H.mode,ie),Uu(B,G),B.return=H,B)}function W(H,B,G,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=dy(G,H.mode,ie),B.return=H,B):(B=m(B,G.children||[]),B.return=H,B)}function ne(H,B,G,ie,Te){return B===null||B.tag!==7?(B=Mo(G,H.mode,ie,Te),B.return=H,B):(B=m(B,G),B.return=H,B)}function oe(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=uy(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return G=vh(B.type,B.key,B.props,null,H.mode,G),Uu(G,B),G.return=H,G;case A:return B=dy(B,H.mode,G),B.return=H,B;case I:return B=jo(B),oe(H,B,G)}if(De(B)||U(B))return B=Mo(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return oe(H,Rh(B),G);if(B.$$typeof===Q)return oe(H,bh(H,B),G);Ih(H,B)}return null}function K(H,B,G,ie){var Te=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:R(H,B,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===Te?V(H,B,G,ie):null;case A:return G.key===Te?W(H,B,G,ie):null;case I:return G=jo(G),K(H,B,G,ie)}if(De(G)||U(G))return Te!==null?null:ne(H,B,G,ie,null);if(typeof G.then=="function")return K(H,B,Rh(G),ie);if(G.$$typeof===Q)return K(H,B,bh(H,G),ie);Ih(H,G)}return null}function X(H,B,G,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(G)||null,R(B,H,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return H=H.get(ie.key===null?G:ie.key)||null,V(B,H,ie,Te);case A:return H=H.get(ie.key===null?G:ie.key)||null,W(B,H,ie,Te);case I:return ie=jo(ie),X(H,B,G,ie,Te)}if(De(ie)||U(ie))return H=H.get(G)||null,ne(B,H,ie,Te,null);if(typeof ie.then=="function")return X(H,B,G,Rh(ie),Te);if(ie.$$typeof===Q)return X(H,B,G,bh(B,ie),Te);Ih(B,ie)}return null}function _e(H,B,G,ie){for(var Te=null,lt=null,Ee=B,Be=B=0,Ke=null;Ee!==null&&Be<G.length;Be++){Ee.index>Be?(Ke=Ee,Ee=null):Ke=Ee.sibling;var ct=K(H,Ee,G[Be],ie);if(ct===null){Ee===null&&(Ee=Ke);break}i&&Ee&&ct.alternate===null&&a(H,Ee),B=g(ct,B,Be),lt===null?Te=ct:lt.sibling=ct,lt=ct,Ee=Ke}if(Be===G.length)return l(H,Ee),et&&ns(H,Be),Te;if(Ee===null){for(;Be<G.length;Be++)Ee=oe(H,G[Be],ie),Ee!==null&&(B=g(Ee,B,Be),lt===null?Te=Ee:lt.sibling=Ee,lt=Ee);return et&&ns(H,Be),Te}for(Ee=u(Ee);Be<G.length;Be++)Ke=X(Ee,H,Be,G[Be],ie),Ke!==null&&(i&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Be:Ke.key),B=g(Ke,B,Be),lt===null?Te=Ke:lt.sibling=Ke,lt=Ke);return i&&Ee.forEach(function(Ia){return a(H,Ia)}),et&&ns(H,Be),Te}function Ae(H,B,G,ie){if(G==null)throw Error(r(151));for(var Te=null,lt=null,Ee=B,Be=B=0,Ke=null,ct=G.next();Ee!==null&&!ct.done;Be++,ct=G.next()){Ee.index>Be?(Ke=Ee,Ee=null):Ke=Ee.sibling;var Ia=K(H,Ee,ct.value,ie);if(Ia===null){Ee===null&&(Ee=Ke);break}i&&Ee&&Ia.alternate===null&&a(H,Ee),B=g(Ia,B,Be),lt===null?Te=Ia:lt.sibling=Ia,lt=Ia,Ee=Ke}if(ct.done)return l(H,Ee),et&&ns(H,Be),Te;if(Ee===null){for(;!ct.done;Be++,ct=G.next())ct=oe(H,ct.value,ie),ct!==null&&(B=g(ct,B,Be),lt===null?Te=ct:lt.sibling=ct,lt=ct);return et&&ns(H,Be),Te}for(Ee=u(Ee);!ct.done;Be++,ct=G.next())ct=X(Ee,H,Be,ct.value,ie),ct!==null&&(i&&ct.alternate!==null&&Ee.delete(ct.key===null?Be:ct.key),B=g(ct,B,Be),lt===null?Te=ct:lt.sibling=ct,lt=ct);return i&&Ee.forEach(function(LM){return a(H,LM)}),et&&ns(H,Be),Te}function vt(H,B,G,ie){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var Te=G.key;B!==null;){if(B.key===Te){if(Te=G.type,Te===N){if(B.tag===7){l(H,B.sibling),ie=m(B,G.props.children),ie.return=H,H=ie;break e}}else if(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&jo(Te)===B.type){l(H,B.sibling),ie=m(B,G.props),Uu(ie,G),ie.return=H,H=ie;break e}l(H,B);break}else a(H,B);B=B.sibling}G.type===N?(ie=Mo(G.props.children,H.mode,ie,G.key),ie.return=H,H=ie):(ie=vh(G.type,G.key,G.props,null,H.mode,ie),Uu(ie,G),ie.return=H,H=ie)}return S(H);case A:e:{for(Te=G.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(H,B.sibling),ie=m(B,G.children||[]),ie.return=H,H=ie;break e}else{l(H,B);break}else a(H,B);B=B.sibling}ie=dy(G,H.mode,ie),ie.return=H,H=ie}return S(H);case I:return G=jo(G),vt(H,B,G,ie)}if(De(G))return _e(H,B,G,ie);if(U(G)){if(Te=U(G),typeof Te!="function")throw Error(r(150));return G=Te.call(G),Ae(H,B,G,ie)}if(typeof G.then=="function")return vt(H,B,Rh(G),ie);if(G.$$typeof===Q)return vt(H,B,bh(H,G),ie);Ih(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(l(H,B.sibling),ie=m(B,G),ie.return=H,H=ie):(l(H,B),ie=uy(G,H.mode,ie),ie.return=H,H=ie),S(H)):l(H,B)}return function(H,B,G,ie){try{Lu=0;var Te=vt(H,B,G,ie);return $l=null,Te}catch(Ee){if(Ee===ql||Ee===wh)throw Ee;var lt=hr(29,Ee,null,H.mode);return lt.lanes=ie,lt.return=H,lt}}}var zo=Lb(!0),Ub=Lb(!1),ua=!1;function Ty(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function da(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fa(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ut&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=_h(i),Eb(i,null,l),a}return yh(i,u,a,l),_h(i)}function Vu(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,qs(i,l)}}function Ay(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ry=!1;function ju(){if(Ry){var i=Hl;if(i!==null)throw i}}function Bu(i,a,l,u){Ry=!1;var m=i.updateQueue;ua=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var V=R,W=V.next;V.next=null,S===null?g=W:S.next=W,S=V;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==S&&(R===null?ne.firstBaseUpdate=W:R.next=W,ne.lastBaseUpdate=V))}if(g!==null){var oe=m.baseState;S=0,ne=W=V=null,R=g;do{var K=R.lane&-536870913,X=K!==R.lane;if(X?(Ye&K)===K:(u&K)===K){K!==0&&K===Fl&&(Ry=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var _e=i,Ae=R;K=a;var vt=l;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){oe=_e.call(vt,oe,K);break e}oe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,K=typeof _e=="function"?_e.call(vt,oe,K):_e,K==null)break e;oe=_({},oe,K);break e;case 2:ua=!0}}K=R.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=m.callbacks,X===null?m.callbacks=[K]:X.push(K))}else X={lane:K,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(W=ne=X,V=oe):ne=ne.next=X,S|=K;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;X=R,R=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);ne===null&&(V=oe),m.baseState=V,m.firstBaseUpdate=W,m.lastBaseUpdate=ne,g===null&&(m.shared.lanes=0),ya|=S,i.lanes=S,i.memoizedState=oe}}function Vb(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function jb(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Vb(l[i],a)}var Gl=L(null),xh=L(0);function Bb(i,a){i=hs,re(xh,i),re(Gl,a),hs=i|a.baseLanes}function Iy(){re(xh,hs),re(Gl,Gl.current)}function xy(){hs=xh.current,q(Gl),q(xh)}var pr=L(null),Ur=null;function ha(i){var a=i.alternate;re(Ft,Ft.current&1),re(pr,i),Ur===null&&(a===null||Gl.current!==null||a.memoizedState!==null)&&(Ur=i)}function Cy(i){re(Ft,Ft.current),re(pr,i),Ur===null&&(Ur=i)}function zb(i){i.tag===22?(re(Ft,Ft.current),re(pr,i),Ur===null&&(Ur=i)):pa()}function pa(){re(Ft,Ft.current),re(pr,pr.current)}function mr(i){q(pr),Ur===i&&(Ur=null),q(Ft)}var Ft=L(0);function Ch(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||P_(l)||L_(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ss=0,je=null,yt=null,Wt=null,Nh=!1,Wl=!1,Fo=!1,kh=0,zu=0,Yl=null,RD=0;function Pt(){throw Error(r(321))}function Ny(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!fr(i[l],a[l]))return!1;return!0}function ky(i,a,l,u,m,g){return ss=g,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=i===null||i.memoizedState===null?wT:Gy,Fo=!1,g=l(u,m),Fo=!1,Wl&&(g=Hb(a,l,u,m)),Fb(i),g}function Fb(i){Y.H=qu;var a=yt!==null&&yt.next!==null;if(ss=0,Wt=yt=je=null,Nh=!1,zu=0,Yl=null,a)throw Error(r(300));i===null||Yt||(i=i.dependencies,i!==null&&Sh(i)&&(Yt=!0))}function Hb(i,a,l,u){je=i;var m=0;do{if(Wl&&(Yl=null),zu=0,Wl=!1,25<=m)throw Error(r(301));if(m+=1,Wt=yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=AT,g=a(l,u)}while(Wl);return g}function ID(){var i=Y.H,a=i.useState()[0];return a=typeof a.then=="function"?Fu(a):a,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(je.flags|=1024),a}function Oy(){var i=kh!==0;return kh=0,i}function Dy(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function My(i){if(Nh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Nh=!1}ss=0,Wt=yt=je=null,Wl=!1,zu=kh=0,Yl=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?je.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Ht(){if(yt===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var a=Wt===null?je.memoizedState:Wt.next;if(a!==null)Wt=a,yt=i;else{if(i===null)throw je.alternate===null?Error(r(467)):Error(r(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Wt===null?je.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fu(i){var a=zu;return zu+=1,Yl===null&&(Yl=[]),i=Db(Yl,i,a),a=je,(Wt===null?a.memoizedState:Wt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?wT:Gy),i}function Dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fu(i);if(i.$$typeof===Q)return bn(i)}throw Error(r(438,String(i)))}function Py(i){var a=null,l=je.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Oh(),je.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=D;return a.index++,l}function as(i,a){return typeof a=="function"?a(i):a}function Mh(i){var a=Ht();return Ly(a,yt,i)}function Ly(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}a.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{a=m.next;var R=S=null,V=null,W=a,ne=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Ye&oe)===oe:(ss&oe)===oe){var K=W.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===Fl&&(ne=!0);else if((ss&K)===K){W=W.next,K===Fl&&(ne=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(R=V=oe,S=g):V=V.next=oe,je.lanes|=K,ya|=K;oe=W.action,Fo&&l(g,oe),g=W.hasEagerState?W.eagerState:l(g,oe)}else K={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(R=V=K,S=g):V=V.next=K,je.lanes|=oe,ya|=oe;W=W.next}while(W!==null&&W!==a);if(V===null?S=g:V.next=R,!fr(g,i.memoizedState)&&(Yt=!0,ne&&(l=Hl,l!==null)))throw l;i.memoizedState=g,i.baseState=S,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Uy(i){var a=Ht(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do g=i(g,S.action),S=S.next;while(S!==m);fr(g,a.memoizedState)||(Yt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,u]}function qb(i,a,l){var u=je,m=Ht(),g=et;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var S=!fr((yt||m).memoizedState,l);if(S&&(m.memoizedState=l,Yt=!0),m=m.queue,By(Wb.bind(null,u,m,i),[i]),m.getSnapshot!==a||S||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,Kl(9,{destroy:void 0},Gb.bind(null,u,m,l,a),null),Et===null)throw Error(r(349));g||(ss&127)!==0||$b(u,a,l)}return l}function $b(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=je.updateQueue,a===null?(a=Oh(),je.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Gb(i,a,l,u){a.value=l,a.getSnapshot=u,Yb(a)&&Kb(i)}function Wb(i,a,l){return l(function(){Yb(a)&&Kb(i)})}function Yb(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!fr(i,l)}catch{return!0}}function Kb(i){var a=Do(i,2);a!==null&&nr(a,i,2)}function Vy(i){var a=Hn();if(typeof i=="function"){var l=i;if(i=l(),Fo){xr(!0);try{l()}finally{xr(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},a}function Qb(i,a,l,u){return i.baseState=l,Ly(i,yt,typeof u=="function"?u:as)}function xD(i,a,l,u,m){if(Uh(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};Y.T!==null?l(!0):g.isTransition=!1,u(g),l=a.pending,l===null?(g.next=a.pending=g,Xb(a,g)):(g.next=l.next,a.pending=l.next=g)}}function Xb(i,a){var l=a.action,u=a.payload,m=i.state;if(a.isTransition){var g=Y.T,S={};Y.T=S;try{var R=l(m,u),V=Y.S;V!==null&&V(S,R),Jb(i,a,R)}catch(W){jy(i,a,W)}finally{g!==null&&S.types!==null&&(g.types=S.types),Y.T=g}}else try{g=l(m,u),Jb(i,a,g)}catch(W){jy(i,a,W)}}function Jb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Zb(i,a,u)},function(u){return jy(i,a,u)}):Zb(i,a,l)}function Zb(i,a,l){a.status="fulfilled",a.value=l,eT(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Xb(i,l)))}function jy(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,eT(a),a=a.next;while(a!==u)}i.action=null}function eT(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function tT(i,a){return a}function nT(i,a){if(et){var l=Et.formState;if(l!==null){e:{var u=je;if(et){if(wt){t:{for(var m=wt,g=Lr;m.nodeType!==8;){if(!g){m=null;break t}if(m=Vr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){wt=Vr(m.nextSibling),u=m.data==="F!";break e}}la(u)}u=!1}u&&(a=l[0])}}return l=Hn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tT,lastRenderedState:a},l.queue=u,l=ST.bind(null,je,u),u.dispatch=l,u=Vy(!1),g=$y.bind(null,je,!1,u.queue),u=Hn(),m={state:a,dispatch:null,action:i,pending:null},u.queue=m,l=xD.bind(null,je,m,g,l),m.dispatch=l,u.memoizedState=i,[a,l,!1]}function rT(i){var a=Ht();return iT(a,yt,i)}function iT(i,a,l){if(a=Ly(i,a,tT)[0],i=Mh(as)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Fu(a)}catch(S){throw S===ql?wh:S}else u=a;a=Ht();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(je.flags|=2048,Kl(9,{destroy:void 0},CD.bind(null,m,l),null)),[u,g,i]}function CD(i,a){i.action=a}function sT(i){var a=Ht(),l=yt;if(l!==null)return iT(a,l,i);Ht(),a=a.memoizedState,l=Ht();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function Kl(i,a,l,u){return i={tag:i,create:l,deps:u,inst:a,next:null},a=je.updateQueue,a===null&&(a=Oh(),je.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function aT(){return Ht().memoizedState}function Ph(i,a,l,u){var m=Hn();je.flags|=i,m.memoizedState=Kl(1|a,{destroy:void 0},l,u===void 0?null:u)}function Lh(i,a,l,u){var m=Ht();u=u===void 0?null:u;var g=m.memoizedState.inst;yt!==null&&u!==null&&Ny(u,yt.memoizedState.deps)?m.memoizedState=Kl(a,g,l,u):(je.flags|=i,m.memoizedState=Kl(1|a,g,l,u))}function oT(i,a){Ph(8390656,8,i,a)}function By(i,a){Lh(2048,8,i,a)}function ND(i){je.flags|=4;var a=je.updateQueue;if(a===null)a=Oh(),je.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function lT(i){var a=Ht().memoizedState;return ND({ref:a,nextImpl:i}),function(){if((ut&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function cT(i,a){return Lh(4,2,i,a)}function uT(i,a){return Lh(4,4,i,a)}function dT(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function fT(i,a,l){l=l!=null?l.concat([i]):null,Lh(4,4,dT.bind(null,a,i),l)}function zy(){}function hT(i,a){var l=Ht();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Ny(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function pT(i,a){var l=Ht();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Ny(a,u[1]))return u[0];if(u=i(),Fo){xr(!0);try{i()}finally{xr(!1)}}return l.memoizedState=[u,a],u}function Fy(i,a,l){return l===void 0||(ss&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=mw(),je.lanes|=i,ya|=i,l)}function mT(i,a,l,u){return fr(l,a)?l:Gl.current!==null?(i=Fy(i,l,u),fr(i,a)||(Yt=!0),i):(ss&42)===0||(ss&1073741824)!==0&&(Ye&261930)===0?(Yt=!0,i.memoizedState=l):(i=mw(),je.lanes|=i,ya|=i,a)}function gT(i,a,l,u,m){var g=ae.p;ae.p=g!==0&&8>g?g:8;var S=Y.T,R={};Y.T=R,$y(i,!1,a,l);try{var V=m(),W=Y.S;if(W!==null&&W(R,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=AD(V,u);Hu(i,a,ne,_r(i))}else Hu(i,a,u,_r(i))}catch(oe){Hu(i,a,{then:function(){},status:"rejected",reason:oe},_r())}finally{ae.p=g,S!==null&&R.types!==null&&(S.types=R.types),Y.T=S}}function kD(){}function Hy(i,a,l,u){if(i.tag!==5)throw Error(r(476));var m=yT(i).queue;gT(i,m,a,te,l===null?kD:function(){return _T(i),l(u)})}function yT(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function _T(i){var a=yT(i);a.next===null&&(a=i.alternate.memoizedState),Hu(i,a.next.queue,{},_r())}function qy(){return bn(ad)}function vT(){return Ht().memoizedState}function ET(){return Ht().memoizedState}function OD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=_r();i=da(l);var u=fa(a,i,l);u!==null&&(nr(u,a,l),Vu(u,a,l)),a={cache:vy()},i.payload=a;return}a=a.return}}function DD(i,a,l){var u=_r();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(i)?bT(a,l):(l=ly(i,a,l,u),l!==null&&(nr(l,i,u),TT(l,a,u)))}function ST(i,a,l){var u=_r();Hu(i,a,l,u)}function Hu(i,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uh(i))bT(a,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var S=a.lastRenderedState,R=g(S,l);if(m.hasEagerState=!0,m.eagerState=R,fr(R,S))return yh(i,a,m,0),Et===null&&gh(),!1}catch{}if(l=ly(i,a,m,u),l!==null)return nr(l,i,u),TT(l,a,u),!0}return!1}function $y(i,a,l,u){if(u={lane:2,revertLane:T_(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Uh(i)){if(a)throw Error(r(479))}else a=ly(i,l,u,2),a!==null&&nr(a,i,2)}function Uh(i){var a=i.alternate;return i===je||a!==null&&a===je}function bT(i,a){Wl=Nh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function TT(i,a,l){if((l&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,qs(i,l)}}var qu={readContext:bn,use:Dh,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};qu.useEffectEvent=Pt;var wT={readContext:bn,use:Dh,useCallback:function(i,a){return Hn().memoizedState=[i,a===void 0?null:a],i},useContext:bn,useEffect:oT,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Ph(4194308,4,dT.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Ph(4194308,4,i,a)},useInsertionEffect:function(i,a){Ph(4,2,i,a)},useMemo:function(i,a){var l=Hn();a=a===void 0?null:a;var u=i();if(Fo){xr(!0);try{i()}finally{xr(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=Hn();if(l!==void 0){var m=l(a);if(Fo){xr(!0);try{l(a)}finally{xr(!1)}}}else m=a;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=DD.bind(null,je,i),[u.memoizedState,i]},useRef:function(i){var a=Hn();return i={current:i},a.memoizedState=i},useState:function(i){i=Vy(i);var a=i.queue,l=ST.bind(null,je,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:zy,useDeferredValue:function(i,a){var l=Hn();return Fy(l,i,a)},useTransition:function(){var i=Vy(!1);return i=gT.bind(null,je,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=je,m=Hn();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Et===null)throw Error(r(349));(Ye&127)!==0||$b(u,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,oT(Wb.bind(null,u,g,i),[i]),u.flags|=2048,Kl(9,{destroy:void 0},Gb.bind(null,u,g,l,a),null),l},useId:function(){var i=Hn(),a=Et.identifierPrefix;if(et){var l=Ri,u=Ai;l=(u&~(1<<32-Vn(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=kh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=RD++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:qy,useFormState:nT,useActionState:nT,useOptimistic:function(i){var a=Hn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=$y.bind(null,je,!0,l),l.dispatch=a,[i,a]},useMemoCache:Py,useCacheRefresh:function(){return Hn().memoizedState=OD.bind(null,je)},useEffectEvent:function(i){var a=Hn(),l={impl:i};return a.memoizedState=l,function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Gy={readContext:bn,use:Dh,useCallback:hT,useContext:bn,useEffect:By,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:pT,useReducer:Mh,useRef:aT,useState:function(){return Mh(as)},useDebugValue:zy,useDeferredValue:function(i,a){var l=Ht();return mT(l,yt.memoizedState,i,a)},useTransition:function(){var i=Mh(as)[0],a=Ht().memoizedState;return[typeof i=="boolean"?i:Fu(i),a]},useSyncExternalStore:qb,useId:vT,useHostTransitionStatus:qy,useFormState:rT,useActionState:rT,useOptimistic:function(i,a){var l=Ht();return Qb(l,yt,i,a)},useMemoCache:Py,useCacheRefresh:ET};Gy.useEffectEvent=lT;var AT={readContext:bn,use:Dh,useCallback:hT,useContext:bn,useEffect:By,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:pT,useReducer:Uy,useRef:aT,useState:function(){return Uy(as)},useDebugValue:zy,useDeferredValue:function(i,a){var l=Ht();return yt===null?Fy(l,i,a):mT(l,yt.memoizedState,i,a)},useTransition:function(){var i=Uy(as)[0],a=Ht().memoizedState;return[typeof i=="boolean"?i:Fu(i),a]},useSyncExternalStore:qb,useId:vT,useHostTransitionStatus:qy,useFormState:sT,useActionState:sT,useOptimistic:function(i,a){var l=Ht();return yt!==null?Qb(l,yt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Py,useCacheRefresh:ET};AT.useEffectEvent=lT;function Wy(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Yy={enqueueSetState:function(i,a,l){i=i._reactInternals;var u=_r(),m=da(u);m.payload=a,l!=null&&(m.callback=l),a=fa(i,m,u),a!==null&&(nr(a,i,u),Vu(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=_r(),m=da(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=fa(i,m,u),a!==null&&(nr(a,i,u),Vu(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=_r(),u=da(l);u.tag=2,a!=null&&(u.callback=a),a=fa(i,u,l),a!==null&&(nr(a,i,l),Vu(a,i,l))}};function RT(i,a,l,u,m,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,S):a.prototype&&a.prototype.isPureReactComponent?!Nu(l,u)||!Nu(m,g):!0}function IT(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&Yy.enqueueReplaceState(a,a.state,null)}function Ho(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=_({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function xT(i){mh(i)}function CT(i){console.error(i)}function NT(i){mh(i)}function Vh(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function kT(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ky(i,a,l){return l=da(l),l.tag=3,l.payload={element:null},l.callback=function(){Vh(i,a)},l}function OT(i){return i=da(i),i.tag=3,i}function DT(i,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){kT(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){kT(a,l,u),typeof m!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function MD(i,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&zl(a,l,m,!0),l=pr.current,l!==null){switch(l.tag){case 31:case 13:return Ur===null?Qh():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Ah?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),E_(i,u,m)),!1;case 22:return l.flags|=65536,u===Ah?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),E_(i,u,m)),!1}throw Error(r(435,l.tag))}return E_(i,u,m),Qh(),!1}if(et)return a=pr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==py&&(i=Error(r(422),{cause:u}),Du(Dr(i,l)))):(u!==py&&(a=Error(r(423),{cause:u}),Du(Dr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Dr(u,l),m=Ky(i.stateNode,u,m),Ay(i,m),Lt!==4&&(Lt=2)),!1;var g=Error(r(520),{cause:u});if(g=Dr(g,l),Ju===null?Ju=[g]:Ju.push(g),Lt!==4&&(Lt=2),a===null)return!0;u=Dr(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Ky(l.stateNode,u,i),Ay(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_a===null||!_a.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=OT(m),DT(m,i,l,u),Ay(l,m),!1}l=l.return}while(l!==null);return!1}var Qy=Error(r(461)),Yt=!1;function Tn(i,a,l,u){a.child=i===null?Ub(a,null,l,u):zo(a,i.child,l,u)}function MT(i,a,l,u,m){l=l.render;var g=a.ref;if("ref"in u){var S={};for(var R in u)R!=="ref"&&(S[R]=u[R])}else S=u;return Uo(a),u=ky(i,a,l,S,g,m),R=Oy(),i!==null&&!Yt?(Dy(i,a,m),os(i,a,m)):(et&&R&&fy(a),a.flags|=1,Tn(i,a,u,m),a.child)}function PT(i,a,l,u,m){if(i===null){var g=l.type;return typeof g=="function"&&!cy(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,LT(i,a,g,u,m)):(i=vh(l.type,null,u,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!i_(i,m)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:Nu,l(S,u)&&i.ref===a.ref)return os(i,a,m)}return a.flags|=1,i=ts(g,u),i.ref=a.ref,i.return=a,a.child=i}function LT(i,a,l,u,m){if(i!==null){var g=i.memoizedProps;if(Nu(g,u)&&i.ref===a.ref)if(Yt=!1,a.pendingProps=u=g,i_(i,m))(i.flags&131072)!==0&&(Yt=!0);else return a.lanes=i.lanes,os(i,a,m)}return Xy(i,a,l,u,m)}function UT(i,a,l,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,i!==null){for(u=a.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,a.child=null;return VT(i,a,g,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Th(a,g!==null?g.cachePool:null),g!==null?Bb(a,g):Iy(),zb(a);else return u=a.lanes=536870912,VT(i,a,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Th(a,g.cachePool),Bb(a,g),pa(),a.memoizedState=null):(i!==null&&Th(a,null),Iy(),pa());return Tn(i,a,m,l),a.child}function $u(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function VT(i,a,l,u,m){var g=Sy();return g=g===null?null:{parent:Gt._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Th(a,null),Iy(),zb(a),i!==null&&zl(i,a,u,!0),a.childLanes=m,null}function jh(i,a){return a=zh({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function jT(i,a,l){return zo(a,i.child,null,l),i=jh(a,a.pendingProps),i.flags|=2,mr(a),a.memoizedState=null,i}function PD(i,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(et){if(u.mode==="hidden")return i=jh(a,u),a.lanes=536870912,$u(null,i);if(Cy(a),(i=wt)?(i=Xw(i,Lr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:aa!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},l=bb(i),l.return=a,a.child=l,Sn=a,wt=null)):i=null,i===null)throw la(a);return a.lanes=536870912,null}return jh(a,u)}var g=i.memoizedState;if(g!==null){var S=g.dehydrated;if(Cy(a),m)if(a.flags&256)a.flags&=-257,a=jT(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Yt||zl(i,a,l,!1),m=(l&i.childLanes)!==0,Yt||m){if(u=Et,u!==null&&(S=$s(u,l),S!==0&&S!==g.retryLane))throw g.retryLane=S,Do(i,S),nr(u,i,S),Qy;Qh(),a=jT(i,a,l)}else i=g.treeContext,wt=Vr(S.nextSibling),Sn=a,et=!0,oa=null,Lr=!1,i!==null&&Ab(a,i),a=jh(a,u),a.flags|=4096;return a}return i=ts(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Bh(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Xy(i,a,l,u,m){return Uo(a),l=ky(i,a,l,u,void 0,m),u=Oy(),i!==null&&!Yt?(Dy(i,a,m),os(i,a,m)):(et&&u&&fy(a),a.flags|=1,Tn(i,a,l,m),a.child)}function BT(i,a,l,u,m,g){return Uo(a),a.updateQueue=null,l=Hb(a,u,l,m),Fb(i),u=Oy(),i!==null&&!Yt?(Dy(i,a,g),os(i,a,g)):(et&&u&&fy(a),a.flags|=1,Tn(i,a,l,g),a.child)}function zT(i,a,l,u,m){if(Uo(a),a.stateNode===null){var g=Ul,S=l.contextType;typeof S=="object"&&S!==null&&(g=bn(S)),g=new l(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Yy,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Ty(a),S=l.contextType,g.context=typeof S=="object"&&S!==null?bn(S):Ul,g.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Wy(a,l,S,u),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Yy.enqueueReplaceState(g,g.state,null),Bu(a,u,g,m),ju(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){g=a.stateNode;var R=a.memoizedProps,V=Ho(l,R);g.props=V;var W=g.context,ne=l.contextType;S=Ul,typeof ne=="object"&&ne!==null&&(S=bn(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||W!==S)&&IT(a,g,u,S),ua=!1;var K=a.memoizedState;g.state=K,Bu(a,u,g,m),ju(),W=a.memoizedState,R||K!==W||ua?(typeof oe=="function"&&(Wy(a,l,oe,u),W=a.memoizedState),(V=ua||RT(a,l,V,u,K,W,S))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),g.props=u,g.state=W,g.context=S,u=V):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,wy(i,a),S=a.memoizedProps,ne=Ho(l,S),g.props=ne,oe=a.pendingProps,K=g.context,W=l.contextType,V=Ul,typeof W=="object"&&W!==null&&(V=bn(W)),R=l.getDerivedStateFromProps,(W=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==oe||K!==V)&&IT(a,g,u,V),ua=!1,K=a.memoizedState,g.state=K,Bu(a,u,g,m),ju();var X=a.memoizedState;S!==oe||K!==X||ua||i!==null&&i.dependencies!==null&&Sh(i.dependencies)?(typeof R=="function"&&(Wy(a,l,R,u),X=a.memoizedState),(ne=ua||RT(a,l,ne,u,K,X,V)||i!==null&&i.dependencies!==null&&Sh(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,V)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),g.props=u,g.state=X,g.context=V,u=ne):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),u=!1)}return g=u,Bh(i,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&u?(a.child=zo(a,i.child,null,m),a.child=zo(a,null,l,m)):Tn(i,a,l,m),a.memoizedState=g.state,i=a.child):i=os(i,a,m),i}function FT(i,a,l,u){return Po(),a.flags|=256,Tn(i,a,l,u),a.child}var Jy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zy(i){return{baseLanes:i,cachePool:kb()}}function e_(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=yr),i}function HT(i,a,l){var u=a.pendingProps,m=!1,g=(a.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,i===null){if(et){if(m?ha(a):pa(),(i=wt)?(i=Xw(i,Lr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:aa!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},l=bb(i),l.return=a,a.child=l,Sn=a,wt=null)):i=null,i===null)throw la(a);return L_(i)?a.lanes=32:a.lanes=536870912,null}var R=u.children;return u=u.fallback,m?(pa(),m=a.mode,R=zh({mode:"hidden",children:R},m),u=Mo(u,m,l,null),R.return=a,u.return=a,R.sibling=u,a.child=R,u=a.child,u.memoizedState=Zy(l),u.childLanes=e_(i,S,l),a.memoizedState=Jy,$u(null,u)):(ha(a),t_(a,R))}var V=i.memoizedState;if(V!==null&&(R=V.dehydrated,R!==null)){if(g)a.flags&256?(ha(a),a.flags&=-257,a=n_(i,a,l)):a.memoizedState!==null?(pa(),a.child=i.child,a.flags|=128,a=null):(pa(),R=u.fallback,m=a.mode,u=zh({mode:"visible",children:u.children},m),R=Mo(R,m,l,null),R.flags|=2,u.return=a,R.return=a,u.sibling=R,a.child=u,zo(a,i.child,null,l),u=a.child,u.memoizedState=Zy(l),u.childLanes=e_(i,S,l),a.memoizedState=Jy,a=$u(null,u));else if(ha(a),L_(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var W=S.dgst;S=W,u=Error(r(419)),u.stack="",u.digest=S,Du({value:u,source:null,stack:null}),a=n_(i,a,l)}else if(Yt||zl(i,a,l,!1),S=(l&i.childLanes)!==0,Yt||S){if(S=Et,S!==null&&(u=$s(S,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,Do(i,u),nr(S,i,u),Qy;P_(R)||Qh(),a=n_(i,a,l)}else P_(R)?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,wt=Vr(R.nextSibling),Sn=a,et=!0,oa=null,Lr=!1,i!==null&&Ab(a,i),a=t_(a,u.children),a.flags|=4096);return a}return m?(pa(),R=u.fallback,m=a.mode,V=i.child,W=V.sibling,u=ts(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,W!==null?R=ts(W,R):(R=Mo(R,m,l,null),R.flags|=2),R.return=a,u.return=a,u.sibling=R,a.child=u,$u(null,u),u=a.child,R=i.child.memoizedState,R===null?R=Zy(l):(m=R.cachePool,m!==null?(V=Gt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=kb(),R={baseLanes:R.baseLanes|l,cachePool:m}),u.memoizedState=R,u.childLanes=e_(i,S,l),a.memoizedState=Jy,$u(i.child,u)):(ha(a),l=i.child,i=l.sibling,l=ts(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(S=a.deletions,S===null?(a.deletions=[i],a.flags|=16):S.push(i)),a.child=l,a.memoizedState=null,l)}function t_(i,a){return a=zh({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function zh(i,a){return i=hr(22,i,null,a),i.lanes=0,i}function n_(i,a,l){return zo(a,i.child,null,l),i=t_(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function qT(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),yy(i.return,a,l)}function r_(i,a,l,u,m,g){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:g}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=l,S.tailMode=m,S.treeForkCount=g)}function $T(i,a,l){var u=a.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var S=Ft.current,R=(S&2)!==0;if(R?(S=S&1|2,a.flags|=128):S&=1,re(Ft,S),Tn(i,a,u,l),u=et?Ou:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qT(i,l,a);else if(i.tag===19)qT(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&Ch(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),r_(a,!1,m,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Ch(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}r_(a,!0,l,null,g,u);break;case"together":r_(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function os(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ya|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(zl(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=ts(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=ts(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function i_(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Sh(i)))}function LD(i,a,l){switch(a.tag){case 3:It(a,a.stateNode.containerInfo),ca(a,Gt,i.memoizedState.cache),Po();break;case 27:case 5:Cn(a);break;case 4:It(a,a.stateNode.containerInfo);break;case 10:ca(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Cy(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ha(a),a.flags|=128,null):(l&a.child.childLanes)!==0?HT(i,a,l):(ha(a),i=os(i,a,l),i!==null?i.sibling:null);ha(a);break;case 19:var m=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(zl(i,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return $T(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(Ft,Ft.current),u)break;return null;case 22:return a.lanes=0,UT(i,a,l,a.pendingProps);case 24:ca(a,Gt,i.memoizedState.cache)}return os(i,a,l)}function GT(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Yt=!0;else{if(!i_(i,l)&&(a.flags&128)===0)return Yt=!1,LD(i,a,l);Yt=(i.flags&131072)!==0}else Yt=!1,et&&(a.flags&1048576)!==0&&wb(a,Ou,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(i=jo(a.elementType),a.type=i,typeof i=="function")cy(i)?(u=Ho(i,u),a.tag=1,a=zT(null,a,i,u,l)):(a.tag=0,a=Xy(null,a,i,u,l));else{if(i!=null){var m=i.$$typeof;if(m===Z){a.tag=11,a=MT(null,a,i,u,l);break e}else if(m===x){a.tag=14,a=PT(null,a,i,u,l);break e}}throw a=ge(i)||i,Error(r(306,a,""))}}return a;case 0:return Xy(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=Ho(u,a.pendingProps),zT(i,a,u,m,l);case 3:e:{if(It(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var g=a.memoizedState;m=g.element,wy(i,a),Bu(a,u,null,l);var S=a.memoizedState;if(u=S.cache,ca(a,Gt,u),u!==g.cache&&_y(a,[Gt],l,!0),ju(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=FT(i,a,u,l);break e}else if(u!==m){m=Dr(Error(r(424)),a),Du(m),a=FT(i,a,u,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,wt=Vr(i.firstChild),Sn=a,et=!0,oa=null,Lr=!0,l=Ub(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Po(),u===m){a=os(i,a,l);break e}Tn(i,a,u,l)}a=a.child}return a;case 26:return Bh(i,a),i===null?(l=r1(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,i=a.pendingProps,u=rp(Oe.current).createElement(l),u[Dt]=a,u[En]=i,wn(u,l,i),zt(u),a.stateNode=u):a.memoizedState=r1(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Cn(a),i===null&&et&&(u=a.stateNode=e1(a.type,a.pendingProps,Oe.current),Sn=a,Lr=!0,m=wt,ba(a.type)?(U_=m,wt=Vr(u.firstChild)):wt=m),Tn(i,a,a.pendingProps.children,l),Bh(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&et&&((m=u=wt)&&(u=fM(u,a.type,a.pendingProps,Lr),u!==null?(a.stateNode=u,Sn=a,wt=Vr(u.firstChild),Lr=!1,m=!0):m=!1),m||la(a)),Cn(a),m=a.type,g=a.pendingProps,S=i!==null?i.memoizedProps:null,u=g.children,O_(m,g)?u=null:S!==null&&O_(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=ky(i,a,ID,null,null,l),ad._currentValue=m),Bh(i,a),Tn(i,a,u,l),a.child;case 6:return i===null&&et&&((i=l=wt)&&(l=hM(l,a.pendingProps,Lr),l!==null?(a.stateNode=l,Sn=a,wt=null,i=!0):i=!1),i||la(a)),null;case 13:return HT(i,a,l);case 4:return It(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=zo(a,null,u,l):Tn(i,a,u,l),a.child;case 11:return MT(i,a,a.type,a.pendingProps,l);case 7:return Tn(i,a,a.pendingProps,l),a.child;case 8:return Tn(i,a,a.pendingProps.children,l),a.child;case 12:return Tn(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ca(a,a.type,u.value),Tn(i,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Uo(a),m=bn(m),u=u(m),a.flags|=1,Tn(i,a,u,l),a.child;case 14:return PT(i,a,a.type,a.pendingProps,l);case 15:return LT(i,a,a.type,a.pendingProps,l);case 19:return $T(i,a,l);case 31:return PD(i,a,l);case 22:return UT(i,a,l,a.pendingProps);case 24:return Uo(a),u=bn(Gt),i===null?(m=Sy(),m===null&&(m=Et,g=vy(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:u,cache:m},Ty(a),ca(a,Gt,m)):((i.lanes&l)!==0&&(wy(i,a),Bu(a,null,null,l),ju()),m=i.memoizedState,g=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ca(a,Gt,u)):(u=g.cache,ca(a,Gt,u),u!==m.cache&&_y(a,[Gt],l,!0))),Tn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ls(i){i.flags|=4}function s_(i,a,l,u,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(vw())i.flags|=8192;else throw Bo=Ah,by}else i.flags&=-16777217}function WT(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!l1(a))if(vw())i.flags|=8192;else throw Bo=Ah,by}function Fh(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?fu():536870912,i.lanes|=a,Zl|=a)}function Gu(i,a){if(!et)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function At(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function UD(i,a,l){var u=a.pendingProps;switch(hy(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return At(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),is(Gt),gt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Bl(a)?ls(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,my())),At(a),null;case 26:var m=a.type,g=a.memoizedState;return i===null?(ls(a),g!==null?(At(a),WT(a,g)):(At(a),s_(a,m,null,u,l))):g?g!==i.memoizedState?(ls(a),At(a),WT(a,g)):(At(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&ls(a),At(a),s_(a,m,i,u,l)),null;case 27:if(Ir(a),l=Oe.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&ls(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return At(a),null}i=me.current,Bl(a)?Rb(a):(i=e1(m,u,l),a.stateNode=i,ls(a))}return At(a),null;case 5:if(Ir(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&ls(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return At(a),null}if(g=me.current,Bl(a))Rb(a);else{var S=rp(Oe.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?S.createElement(m,{is:u.is}):S.createElement(m)}}g[Dt]=a,g[En]=u;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=g;e:switch(wn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ls(a)}}return At(a),s_(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&ls(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=Oe.current,Bl(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,m=Sn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Dt]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Hw(i.nodeValue,l)),i||la(a,!0)}else i=rp(i).createTextNode(u),i[Dt]=a,a.stateNode=i}return At(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(u=Bl(a),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dt]=a}else Po(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),i=!1}else l=my(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(mr(a),a):(mr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return At(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Bl(a),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Dt]=a}else Po(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),m=!1}else m=my(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(mr(a),a):(mr(a),null)}return mr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Fh(a,a.updateQueue),At(a),null);case 4:return gt(),i===null&&I_(a.stateNode.containerInfo),At(a),null;case 10:return is(a.type),At(a),null;case 19:if(q(Ft),u=a.memoizedState,u===null)return At(a),null;if(m=(a.flags&128)!==0,g=u.rendering,g===null)if(m)Gu(u,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=Ch(i),g!==null){for(a.flags|=128,Gu(u,!1),i=g.updateQueue,a.updateQueue=i,Fh(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Sb(l,i),l=l.sibling;return re(Ft,Ft.current&1|2),et&&ns(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&Re()>Wh&&(a.flags|=128,m=!0,Gu(u,!1),a.lanes=4194304)}else{if(!m)if(i=Ch(g),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,Fh(a,i),Gu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!et)return At(a),null}else 2*Re()-u.renderingStartTime>Wh&&l!==536870912&&(a.flags|=128,m=!0,Gu(u,!1),a.lanes=4194304);u.isBackwards?(g.sibling=a.child,a.child=g):(i=u.last,i!==null?i.sibling=g:a.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Re(),i.sibling=null,l=Ft.current,re(Ft,m?l&1|2:l&1),et&&ns(a,u.treeForkCount),i):(At(a),null);case 22:case 23:return mr(a),xy(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),l=a.updateQueue,l!==null&&Fh(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&q(Vo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),is(Gt),At(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function VD(i,a){switch(hy(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return is(Gt),gt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ir(a),null;case 31:if(a.memoizedState!==null){if(mr(a),a.alternate===null)throw Error(r(340));Po()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(mr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Po()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return q(Ft),null;case 4:return gt(),null;case 10:return is(a.type),null;case 22:case 23:return mr(a),xy(),i!==null&&q(Vo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return is(Gt),null;case 25:return null;default:return null}}function YT(i,a){switch(hy(a),a.tag){case 3:is(Gt),gt();break;case 26:case 27:case 5:Ir(a);break;case 4:gt();break;case 31:a.memoizedState!==null&&mr(a);break;case 13:mr(a);break;case 19:q(Ft);break;case 10:is(a.type);break;case 22:case 23:mr(a),xy(),i!==null&&q(Vo);break;case 24:is(Gt)}}function Wu(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var g=l.create,S=l.inst;u=g(),S.destroy=u}l=l.next}while(l!==m)}}catch(R){mt(a,a.return,R)}}function ma(i,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var S=u.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,m=a;var V=l,W=R;try{W()}catch(ne){mt(m,V,ne)}}}u=u.next}while(u!==g)}}catch(ne){mt(a,a.return,ne)}}function KT(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{jb(a,l)}catch(u){mt(i,i.return,u)}}}function QT(i,a,l){l.props=Ho(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){mt(i,a,u)}}function Yu(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){mt(i,a,m)}}function Ii(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){mt(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){mt(i,a,m)}else l.current=null}function XT(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){mt(i,i.return,m)}}function a_(i,a,l){try{var u=i.stateNode;aM(u,i.type,l,a),u[En]=a}catch(m){mt(i,i.return,m)}}function JT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ba(i.type)||i.tag===4}function o_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||JT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ba(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function l_(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=dn));else if(u!==4&&(u===27&&ba(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(l_(i,a,l),i=i.sibling;i!==null;)l_(i,a,l),i=i.sibling}function Hh(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&(u===27&&ba(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Hh(i,a,l),i=i.sibling;i!==null;)Hh(i,a,l),i=i.sibling}function ZT(i){var a=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);wn(a,u,l),a[Dt]=i,a[En]=l}catch(g){mt(i,i.return,g)}}var cs=!1,Kt=!1,c_=!1,ew=typeof WeakSet=="function"?WeakSet:Set,pn=null;function jD(i,a){if(i=i.containerInfo,N_=up,i=fb(i),ny(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,R=-1,V=-1,W=0,ne=0,oe=i,K=null;t:for(;;){for(var X;oe!==l||m!==0&&oe.nodeType!==3||(R=S+m),oe!==g||u!==0&&oe.nodeType!==3||(V=S+u),oe.nodeType===3&&(S+=oe.nodeValue.length),(X=oe.firstChild)!==null;)K=oe,oe=X;for(;;){if(oe===i)break t;if(K===l&&++W===m&&(R=S),K===g&&++ne===u&&(V=S),(X=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=X}l=R===-1||V===-1?null:{start:R,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(k_={focusedElem:i,selectionRange:l},up=!1,pn=a;pn!==null;)if(a=pn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,pn=i;else for(;pn!==null;){switch(a=pn,g=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var _e=Ho(l.type,m);i=u.getSnapshotBeforeUpdate(_e,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){mt(l,l.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)M_(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":M_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,pn=i;break}pn=a.return}}function tw(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ds(i,l),u&4&&Wu(5,l);break;case 1:if(ds(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(S){mt(l,l.return,S)}else{var m=Ho(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(S){mt(l,l.return,S)}}u&64&&KT(l),u&512&&Yu(l,l.return);break;case 3:if(ds(i,l),u&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{jb(i,a)}catch(S){mt(l,l.return,S)}}break;case 27:a===null&&u&4&&ZT(l);case 26:case 5:ds(i,l),a===null&&u&4&&XT(l),u&512&&Yu(l,l.return);break;case 12:ds(i,l);break;case 31:ds(i,l),u&4&&iw(i,l);break;case 13:ds(i,l),u&4&&sw(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=YD.bind(null,l),pM(i,l))));break;case 22:if(u=l.memoizedState!==null||cs,!u){a=a!==null&&a.memoizedState!==null||Kt,m=cs;var g=Kt;cs=u,(Kt=a)&&!g?fs(i,l,(l.subtreeFlags&8772)!==0):ds(i,l),cs=m,Kt=g}break;case 30:break;default:ds(i,l)}}function nw(i){var a=i.alternate;a!==null&&(i.alternate=null,nw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&So(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Jn=!1;function us(i,a,l){for(l=l.child;l!==null;)rw(i,a,l),l=l.sibling}function rw(i,a,l){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Bs,l)}catch{}switch(l.tag){case 26:Kt||Ii(l,a),us(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||Ii(l,a);var u=xt,m=Jn;ba(l.type)&&(xt=l.stateNode,Jn=!1),us(i,a,l),rd(l.stateNode),xt=u,Jn=m;break;case 5:Kt||Ii(l,a);case 6:if(u=xt,m=Jn,xt=null,us(i,a,l),xt=u,Jn=m,xt!==null)if(Jn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(l.stateNode)}catch(g){mt(l,a,g)}else try{xt.removeChild(l.stateNode)}catch(g){mt(l,a,g)}break;case 18:xt!==null&&(Jn?(i=xt,Kw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),oc(i)):Kw(xt,l.stateNode));break;case 4:u=xt,m=Jn,xt=l.stateNode.containerInfo,Jn=!0,us(i,a,l),xt=u,Jn=m;break;case 0:case 11:case 14:case 15:ma(2,l,a),Kt||ma(4,l,a),us(i,a,l);break;case 1:Kt||(Ii(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&QT(l,a,u)),us(i,a,l);break;case 21:us(i,a,l);break;case 22:Kt=(u=Kt)||l.memoizedState!==null,us(i,a,l),Kt=u;break;default:us(i,a,l)}}function iw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{oc(i)}catch(l){mt(a,a.return,l)}}}function sw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{oc(i)}catch(l){mt(a,a.return,l)}}function BD(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new ew),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new ew),a;default:throw Error(r(435,i.tag))}}function qh(i,a){var l=BD(i);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=KD.bind(null,i,u);u.then(m,m)}})}function Zn(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=i,S=a,R=S;e:for(;R!==null;){switch(R.tag){case 27:if(ba(R.type)){xt=R.stateNode,Jn=!1;break e}break;case 5:xt=R.stateNode,Jn=!1;break e;case 3:case 4:xt=R.stateNode.containerInfo,Jn=!0;break e}R=R.return}if(xt===null)throw Error(r(160));rw(g,S,m),xt=null,Jn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)aw(a,i),a=a.sibling}var Jr=null;function aw(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zn(a,i),er(i),u&4&&(ma(3,i,i.return),Wu(3,i),ma(5,i,i.return));break;case 1:Zn(a,i),er(i),u&512&&(Kt||l===null||Ii(l,l.return)),u&64&&cs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Jr;if(Zn(a,i),er(i),u&512&&(Kt||l===null||Ii(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Wi]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),wn(g,u,l),g[Dt]=i,zt(g),u=g;break e;case"link":var S=a1("link","href",m).get(u+(l.href||""));if(S){for(var R=0;R<S.length;R++)if(g=S[R],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(R,1);break t}}g=m.createElement(u),wn(g,u,l),m.head.appendChild(g);break;case"meta":if(S=a1("meta","content",m).get(u+(l.content||""))){for(R=0;R<S.length;R++)if(g=S[R],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(R,1);break t}}g=m.createElement(u),wn(g,u,l),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[Dt]=i,zt(g),u=g}i.stateNode=u}else o1(m,i.type,i.stateNode);else i.stateNode=s1(m,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?o1(m,i.type,i.stateNode):s1(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&a_(i,i.memoizedProps,l.memoizedProps)}break;case 27:Zn(a,i),er(i),u&512&&(Kt||l===null||Ii(l,l.return)),l!==null&&u&4&&a_(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Zn(a,i),er(i),u&512&&(Kt||l===null||Ii(l,l.return)),i.flags&32){m=i.stateNode;try{kr(m,"")}catch(_e){mt(i,i.return,_e)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,a_(i,m,l!==null?l.memoizedProps:m)),u&1024&&(c_=!0);break;case 6:if(Zn(a,i),er(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(_e){mt(i,i.return,_e)}}break;case 3:if(ap=null,m=Jr,Jr=ip(a.containerInfo),Zn(a,i),Jr=m,er(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{oc(a.containerInfo)}catch(_e){mt(i,i.return,_e)}c_&&(c_=!1,ow(i));break;case 4:u=Jr,Jr=ip(i.stateNode.containerInfo),Zn(a,i),er(i),Jr=u;break;case 12:Zn(a,i),er(i);break;case 31:Zn(a,i),er(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 13:Zn(a,i),er(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gh=Re()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 22:m=i.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,W=cs,ne=Kt;if(cs=W||m,Kt=ne||V,Zn(a,i),Kt=ne,cs=W,er(i),u&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||V||cs||Kt||qo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(g=V.stateNode,m)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=V.stateNode;var oe=V.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;R.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(_e){mt(V,V.return,_e)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(_e){mt(V,V.return,_e)}}}else if(a.tag===18){if(l===null){V=a;try{var X=V.stateNode;m?Qw(X,!0):Qw(V.stateNode,!1)}catch(_e){mt(V,V.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,qh(i,l))));break;case 19:Zn(a,i),er(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 30:break;case 21:break;default:Zn(a,i),er(i)}}function er(i){var a=i.flags;if(a&2){try{for(var l,u=i.return;u!==null;){if(JT(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=o_(i);Hh(i,g,m);break;case 5:var S=l.stateNode;l.flags&32&&(kr(S,""),l.flags&=-33);var R=o_(i);Hh(i,R,S);break;case 3:case 4:var V=l.stateNode.containerInfo,W=o_(i);l_(i,W,V);break;default:throw Error(r(161))}}catch(ne){mt(i,i.return,ne)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ow(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;ow(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ds(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tw(i,a.alternate,a),a=a.sibling}function qo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ma(4,a,a.return),qo(a);break;case 1:Ii(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&QT(a,a.return,l),qo(a);break;case 27:rd(a.stateNode);case 26:case 5:Ii(a,a.return),qo(a);break;case 22:a.memoizedState===null&&qo(a);break;case 30:qo(a);break;default:qo(a)}i=i.sibling}}function fs(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=i,g=a,S=g.flags;switch(g.tag){case 0:case 11:case 15:fs(m,g,l),Wu(4,g);break;case 1:if(fs(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){mt(u,u.return,W)}if(u=g,m=u.updateQueue,m!==null){var R=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Vb(V[m],R)}catch(W){mt(u,u.return,W)}}l&&S&64&&KT(g),Yu(g,g.return);break;case 27:ZT(g);case 26:case 5:fs(m,g,l),l&&u===null&&S&4&&XT(g),Yu(g,g.return);break;case 12:fs(m,g,l);break;case 31:fs(m,g,l),l&&S&4&&iw(m,g);break;case 13:fs(m,g,l),l&&S&4&&sw(m,g);break;case 22:g.memoizedState===null&&fs(m,g,l),Yu(g,g.return);break;case 30:break;default:fs(m,g,l)}a=a.sibling}}function u_(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Mu(l))}function d_(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Mu(i))}function Zr(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lw(i,a,l,u),a=a.sibling}function lw(i,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(i,a,l,u),m&2048&&Wu(9,a);break;case 1:Zr(i,a,l,u);break;case 3:Zr(i,a,l,u),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Mu(i)));break;case 12:if(m&2048){Zr(i,a,l,u),i=a.stateNode;try{var g=a.memoizedProps,S=g.id,R=g.onPostCommit;typeof R=="function"&&R(S,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){mt(a,a.return,V)}}else Zr(i,a,l,u);break;case 31:Zr(i,a,l,u);break;case 13:Zr(i,a,l,u);break;case 23:break;case 22:g=a.stateNode,S=a.alternate,a.memoizedState!==null?g._visibility&2?Zr(i,a,l,u):Ku(i,a):g._visibility&2?Zr(i,a,l,u):(g._visibility|=2,Ql(i,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&u_(S,a);break;case 24:Zr(i,a,l,u),m&2048&&d_(a.alternate,a);break;default:Zr(i,a,l,u)}}function Ql(i,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=i,S=a,R=l,V=u,W=S.flags;switch(S.tag){case 0:case 11:case 15:Ql(g,S,R,V,m),Wu(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&2?Ql(g,S,R,V,m):Ku(g,S):(ne._visibility|=2,Ql(g,S,R,V,m)),m&&W&2048&&u_(S.alternate,S);break;case 24:Ql(g,S,R,V,m),m&&W&2048&&d_(S.alternate,S);break;default:Ql(g,S,R,V,m)}a=a.sibling}}function Ku(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,m=u.flags;switch(u.tag){case 22:Ku(l,u),m&2048&&u_(u.alternate,u);break;case 24:Ku(l,u),m&2048&&d_(u.alternate,u);break;default:Ku(l,u)}a=a.sibling}}var Qu=8192;function Xl(i,a,l){if(i.subtreeFlags&Qu)for(i=i.child;i!==null;)cw(i,a,l),i=i.sibling}function cw(i,a,l){switch(i.tag){case 26:Xl(i,a,l),i.flags&Qu&&i.memoizedState!==null&&RM(l,Jr,i.memoizedState,i.memoizedProps);break;case 5:Xl(i,a,l);break;case 3:case 4:var u=Jr;Jr=ip(i.stateNode.containerInfo),Xl(i,a,l),Jr=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Qu,Qu=16777216,Xl(i,a,l),Qu=u):Xl(i,a,l));break;default:Xl(i,a,l)}}function uw(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Xu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];pn=u,fw(u,i)}uw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dw(i),i=i.sibling}function dw(i){switch(i.tag){case 0:case 11:case 15:Xu(i),i.flags&2048&&ma(9,i,i.return);break;case 3:Xu(i);break;case 12:Xu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,$h(i)):Xu(i);break;default:Xu(i)}}function $h(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];pn=u,fw(u,i)}uw(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ma(8,a,a.return),$h(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,$h(a));break;default:$h(a)}i=i.sibling}}function fw(i,a){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:ma(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Mu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,pn=u;else e:for(l=i;pn!==null;){u=pn;var m=u.sibling,g=u.return;if(nw(u),u===l){pn=null;break e}if(m!==null){m.return=g,pn=m;break e}pn=g}}}var zD={getCacheForType:function(i){var a=bn(Gt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return bn(Gt).controller.signal}},FD=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,Ge=null,Ye=0,pt=0,gr=null,ga=!1,Jl=!1,f_=!1,hs=0,Lt=0,ya=0,$o=0,h_=0,yr=0,Zl=0,Ju=null,tr=null,p_=!1,Gh=0,hw=0,Wh=1/0,Yh=null,_a=null,sn=0,va=null,ec=null,ps=0,m_=0,g_=null,pw=null,Zu=0,y_=null;function _r(){return(ut&2)!==0&&Ye!==0?Ye&-Ye:Y.T!==null?T_():Gi()}function mw(){if(yr===0)if((Ye&536870912)===0||et){var i=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),yr=i}else yr=536870912;return i=pr.current,i!==null&&(i.flags|=32),yr}function nr(i,a,l){(i===Et&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(tc(i,0),Ea(i,Ye,yr,!1)),Hs(i,l),((ut&2)===0||i!==Et)&&(i===Et&&((ut&2)===0&&($o|=l),Lt===4&&Ea(i,Ye,yr,!1)),xi(i))}function gw(i,a,l){if((ut&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&i.expiredLanes)===0||Fs(i,a),m=u?$D(i,a):v_(i,a,!0),g=u;do{if(m===0){Jl&&!u&&Ea(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!HD(l)){m=v_(i,a,!1),g=!1;continue}if(m===2){if(g=a,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var R=i;m=Ju;var V=R.current.memoizedState.isDehydrated;if(V&&(tc(R,S).flags|=256),S=v_(R,S,!1),S!==2){if(f_&&!V){R.errorRecoveryDisabledLanes|=g,$o|=g,m=4;break e}g=tr,tr=m,g!==null&&(tr===null?tr=g:tr.push.apply(tr,g))}m=S}if(g=!1,m!==2)continue}}if(m===1){tc(i,0),Ea(i,a,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ea(u,a,yr,!ga);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Gh+300-Re(),10<m)){if(Ea(u,a,yr,!ga),Cr(u,0,!0)!==0)break e;ps=a,u.timeoutHandle=Ww(yw.bind(null,u,l,tr,Yh,p_,a,yr,$o,Zl,ga,g,"Throttled",-0,0),m);break e}yw(u,l,tr,Yh,p_,a,yr,$o,Zl,ga,g,null,-0,0)}}break}while(!0);xi(i)}function yw(i,a,l,u,m,g,S,R,V,W,ne,oe,K,X){if(i.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},cw(a,g,oe);var _e=(g&62914560)===g?Gh-Re():(g&4194048)===g?hw-Re():0;if(_e=IM(oe,_e),_e!==null){ps=g,i.cancelPendingCommit=_e(Aw.bind(null,i,a,g,l,u,m,S,R,V,ne,oe,null,K,X)),Ea(i,g,S,!W);return}}Aw(i,a,g,l,u,m,S,R,V)}function HD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!fr(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ea(i,a,l,u){a&=~h_,a&=~$o,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var m=a;0<m;){var g=31-Vn(m),S=1<<g;u[g]=-1,m&=~S}l!==0&&hu(i,l,a)}function Kh(){return(ut&6)===0?(ed(0),!1):!0}function __(){if(Ge!==null){if(pt===0)var i=Ge.return;else i=Ge,rs=Lo=null,My(i),$l=null,Lu=0,i=Ge;for(;i!==null;)YT(i.alternate,i),i=i.return;Ge=null}}function tc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,cM(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ps=0,__(),Et=i,Ge=l=ts(i.current,null),Ye=a,pt=0,gr=null,ga=!1,Jl=Fs(i,a),f_=!1,Zl=yr=h_=$o=ya=Lt=0,tr=Ju=null,p_=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var m=31-Vn(u),g=1<<m;a|=i[m],u&=~g}return hs=a,gh(),l}function _w(i,a){je=null,Y.H=qu,a===ql||a===wh?(a=Mb(),pt=3):a===by?(a=Mb(),pt=4):pt=a===Qy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gr=a,Ge===null&&(Lt=1,Vh(i,Dr(a,i.current)))}function vw(){var i=pr.current;return i===null?!0:(Ye&4194048)===Ye?Ur===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Ur:!1}function Ew(){var i=Y.H;return Y.H=qu,i===null?qu:i}function Sw(){var i=Y.A;return Y.A=zD,i}function Qh(){Lt=4,ga||(Ye&4194048)!==Ye&&pr.current!==null||(Jl=!0),(ya&134217727)===0&&($o&134217727)===0||Et===null||Ea(Et,Ye,yr,!1)}function v_(i,a,l){var u=ut;ut|=2;var m=Ew(),g=Sw();(Et!==i||Ye!==a)&&(Yh=null,tc(i,a)),a=!1;var S=Lt;e:do try{if(pt!==0&&Ge!==null){var R=Ge,V=gr;switch(pt){case 8:__(),S=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(a=!0);var W=pt;if(pt=0,gr=null,nc(i,R,V,W),l&&Jl){S=0;break e}break;default:W=pt,pt=0,gr=null,nc(i,R,V,W)}}qD(),S=Lt;break}catch(ne){_w(i,ne)}while(!0);return a&&i.shellSuspendCounter++,rs=Lo=null,ut=u,Y.H=m,Y.A=g,Ge===null&&(Et=null,Ye=0,gh()),S}function qD(){for(;Ge!==null;)bw(Ge)}function $D(i,a){var l=ut;ut|=2;var u=Ew(),m=Sw();Et!==i||Ye!==a?(Yh=null,Wh=Re()+500,tc(i,a)):Jl=Fs(i,a);e:do try{if(pt!==0&&Ge!==null){a=Ge;var g=gr;t:switch(pt){case 1:pt=0,gr=null,nc(i,a,g,1);break;case 2:case 9:if(Ob(g)){pt=0,gr=null,Tw(a);break}a=function(){pt!==2&&pt!==9||Et!==i||(pt=7),xi(i)},g.then(a,a);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Ob(g)?(pt=0,gr=null,Tw(a)):(pt=0,gr=null,nc(i,a,g,7));break;case 5:var S=null;switch(Ge.tag){case 26:S=Ge.memoizedState;case 5:case 27:var R=Ge;if(S?l1(S):R.stateNode.complete){pt=0,gr=null;var V=R.sibling;if(V!==null)Ge=V;else{var W=R.return;W!==null?(Ge=W,Xh(W)):Ge=null}break t}}pt=0,gr=null,nc(i,a,g,5);break;case 6:pt=0,gr=null,nc(i,a,g,6);break;case 8:__(),Lt=6;break e;default:throw Error(r(462))}}GD();break}catch(ne){_w(i,ne)}while(!0);return rs=Lo=null,Y.H=u,Y.A=m,ut=l,Ge!==null?0:(Et=null,Ye=0,gh(),Lt)}function GD(){for(;Ge!==null&&!Fe();)bw(Ge)}function bw(i){var a=GT(i.alternate,i,hs);i.memoizedProps=i.pendingProps,a===null?Xh(i):Ge=a}function Tw(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=BT(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=BT(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:My(a);default:YT(l,a),a=Ge=Sb(a,hs),a=GT(l,a,hs)}i.memoizedProps=i.pendingProps,a===null?Xh(i):Ge=a}function nc(i,a,l,u){rs=Lo=null,My(a),$l=null,Lu=0;var m=a.return;try{if(MD(i,m,a,l,Ye)){Lt=1,Vh(i,Dr(l,i.current)),Ge=null;return}}catch(g){if(m!==null)throw Ge=m,g;Lt=1,Vh(i,Dr(l,i.current)),Ge=null;return}a.flags&32768?(et||u===1?i=!0:Jl||(Ye&536870912)!==0?i=!1:(ga=i=!0,(u===2||u===9||u===3||u===6)&&(u=pr.current,u!==null&&u.tag===13&&(u.flags|=16384))),ww(a,i)):Xh(a)}function Xh(i){var a=i;do{if((a.flags&32768)!==0){ww(a,ga);return}i=a.return;var l=UD(a.alternate,a,hs);if(l!==null){Ge=l;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=i}while(a!==null);Lt===0&&(Lt=5)}function ww(i,a){do{var l=VD(i.alternate,i);if(l!==null){l.flags&=32767,Ge=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Ge=i;return}Ge=i=l}while(i!==null);Lt=6,Ge=null}function Aw(i,a,l,u,m,g,S,R,V){i.cancelPendingCommit=null;do Jh();while(sn!==0);if((ut&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=oy,vn(i,l,g,S,R,V),i===Et&&(Ge=Et=null,Ye=0),ec=a,va=i,ps=l,m_=g,g_=m,pw=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,QD(qi,function(){return Nw(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=ae.p,ae.p=2,S=ut,ut|=4;try{jD(i,a,l)}finally{ut=S,ae.p=m,Y.T=u}}sn=1,Rw(),Iw(),xw()}}function Rw(){if(sn===1){sn=0;var i=va,a=ec,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=ae.p;ae.p=2;var m=ut;ut|=4;try{aw(a,i);var g=k_,S=fb(i.containerInfo),R=g.focusedElem,V=g.selectionRange;if(S!==R&&R&&R.ownerDocument&&db(R.ownerDocument.documentElement,R)){if(V!==null&&ny(R)){var W=V.start,ne=V.end;if(ne===void 0&&(ne=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(ne,R.value.length);else{var oe=R.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var X=K.getSelection(),_e=R.textContent.length,Ae=Math.min(V.start,_e),vt=V.end===void 0?Ae:Math.min(V.end,_e);!X.extend&&Ae>vt&&(S=vt,vt=Ae,Ae=S);var H=ub(R,Ae),B=ub(R,vt);if(H&&B&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var G=oe.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),Ae>vt?(X.addRange(G),X.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),X.addRange(G))}}}}for(oe=[],X=R;X=X.parentNode;)X.nodeType===1&&oe.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<oe.length;R++){var ie=oe[R];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}up=!!N_,k_=N_=null}finally{ut=m,ae.p=u,Y.T=l}}i.current=a,sn=2}}function Iw(){if(sn===2){sn=0;var i=va,a=ec,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=ae.p;ae.p=2;var m=ut;ut|=4;try{tw(i,a.alternate,a)}finally{ut=m,ae.p=u,Y.T=l}}sn=3}}function xw(){if(sn===4||sn===3){sn=0,Nt();var i=va,a=ec,l=ps,u=pw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?sn=5:(sn=0,ec=va=null,Cw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(_a=null),mu(l),a=a.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Bs,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Y.T,m=ae.p,ae.p=2,Y.T=null;try{for(var g=i.onRecoverableError,S=0;S<u.length;S++){var R=u[S];g(R.value,{componentStack:R.stack})}}finally{Y.T=a,ae.p=m}}(ps&3)!==0&&Jh(),xi(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===y_?Zu++:(Zu=0,y_=i):Zu=0,ed(0)}}function Cw(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Mu(a)))}function Jh(){return Rw(),Iw(),xw(),Nw()}function Nw(){if(sn!==5)return!1;var i=va,a=m_;m_=0;var l=mu(ps),u=Y.T,m=ae.p;try{ae.p=32>l?32:l,Y.T=null,l=g_,g_=null;var g=va,S=ps;if(sn=0,ec=va=null,ps=0,(ut&6)!==0)throw Error(r(331));var R=ut;if(ut|=4,dw(g.current),lw(g,g.current,S,l),ut=R,ed(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Bs,g)}catch{}return!0}finally{ae.p=m,Y.T=u,Cw(i,a)}}function kw(i,a,l){a=Dr(l,a),a=Ky(i.stateNode,a,2),i=fa(i,a,2),i!==null&&(Hs(i,2),xi(i))}function mt(i,a,l){if(i.tag===3)kw(i,i,l);else for(;a!==null;){if(a.tag===3){kw(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_a===null||!_a.has(u))){i=Dr(l,i),l=OT(2),u=fa(a,l,2),u!==null&&(DT(l,u,a,i),Hs(u,2),xi(u));break}}a=a.return}}function E_(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new FD;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(f_=!0,m.add(l),i=WD.bind(null,i,a,l),a.then(i,i))}function WD(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Et===i&&(Ye&l)===l&&(Lt===4||Lt===3&&(Ye&62914560)===Ye&&300>Re()-Gh?(ut&2)===0&&tc(i,0):h_|=l,Zl===Ye&&(Zl=0)),xi(i)}function Ow(i,a){a===0&&(a=fu()),i=Do(i,a),i!==null&&(Hs(i,a),xi(i))}function YD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Ow(i,l)}function KD(i,a){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),Ow(i,l)}function QD(i,a){return ze(i,a)}var Zh=null,rc=null,S_=!1,ep=!1,b_=!1,Sa=0;function xi(i){i!==rc&&i.next===null&&(rc===null?Zh=rc=i:rc=rc.next=i),ep=!0,S_||(S_=!0,JD())}function ed(i,a){if(!b_&&ep){b_=!0;do for(var l=!1,u=Zh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var S=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-Vn(42|i)+1)-1,g&=m&~(S&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Lw(u,g))}else g=Ye,g=Cr(u,u===Et?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Fs(u,g)||(l=!0,Lw(u,g));u=u.next}while(l);b_=!1}}function XD(){Dw()}function Dw(){ep=S_=!1;var i=0;Sa!==0&&lM()&&(i=Sa);for(var a=Re(),l=null,u=Zh;u!==null;){var m=u.next,g=Mw(u,a);g===0?(u.next=null,l===null?Zh=m:l.next=m,m===null&&(rc=l)):(l=u,(i!==0||(g&3)!==0)&&(ep=!0)),u=m}sn!==0&&sn!==5||ed(i),Sa!==0&&(Sa=0)}function Mw(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Vn(g),R=1<<S,V=m[S];V===-1?((R&l)===0||(R&u)!==0)&&(m[S]=Tl(R,a)):V<=a&&(i.expiredLanes|=R),g&=~R}if(a=Et,l=Ye,l=Cr(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===a&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&cn(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Fs(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&cn(u),mu(l)){case 2:case 8:l=un;break;case 32:l=qi;break;case 268435456:l=uu;break;default:l=qi}return u=Pw.bind(null,i),l=ze(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&cn(u),i.callbackPriority=2,i.callbackNode=null,2}function Pw(i,a){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Jh()&&i.callbackNode!==l)return null;var u=Ye;return u=Cr(i,i===Et?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(gw(i,u,a),Mw(i,Re()),i.callbackNode!=null&&i.callbackNode===l?Pw.bind(null,i):null)}function Lw(i,a){if(Jh())return null;gw(i,a,!0)}function JD(){uM(function(){(ut&6)!==0?ze(rn,XD):Dw()})}function T_(){if(Sa===0){var i=Fl;i===0&&(i=Eo,Eo<<=1,(Eo&261888)===0&&(Eo=256)),Sa=i}return Sa}function Uw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:bi(""+i)}function Vw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function ZD(i,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var g=Uw((m[En]||null).action),S=u.submitter;S&&(a=(a=S[En]||null)?Uw(a.formAction):S.getAttribute("formAction"),a!==null&&(g=a,S=null));var R=new Ro("action","action",null,u,m);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Sa!==0){var V=S?Vw(m,S):new FormData(m);Hy(l,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(R.preventDefault(),V=S?Vw(m,S):new FormData(m),Hy(l,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var w_=0;w_<ay.length;w_++){var A_=ay[w_],eM=A_.toLowerCase(),tM=A_[0].toUpperCase()+A_.slice(1);Xr(eM,"on"+tM)}Xr(mb,"onAnimationEnd"),Xr(gb,"onAnimationIteration"),Xr(yb,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(yD,"onTransitionRun"),Xr(_D,"onTransitionStart"),Xr(vD,"onTransitionCancel"),Xr(_b,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(td));function jw(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var S=u.length-1;0<=S;S--){var R=u[S],V=R.instance,W=R.currentTarget;if(R=R.listener,V!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=W;try{g(m)}catch(ne){mh(ne)}m.currentTarget=null,g=V}else for(S=0;S<u.length;S++){if(R=u[S],V=R.instance,W=R.currentTarget,R=R.listener,V!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=W;try{g(m)}catch(ne){mh(ne)}m.currentTarget=null,g=V}}}}function We(i,a){var l=a[Gs];l===void 0&&(l=a[Gs]=new Set);var u=i+"__bubble";l.has(u)||(Bw(a,i,2,!1),l.add(u))}function R_(i,a,l){var u=0;a&&(u|=4),Bw(l,i,u,a)}var tp="_reactListening"+Math.random().toString(36).slice(2);function I_(i){if(!i[tp]){i[tp]=!0,wl.forEach(function(l){l!=="selectionchange"&&(nM.has(l)||R_(l,!1,i),R_(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[tp]||(a[tp]=!0,R_("selectionchange",!1,a))}}function Bw(i,a,l,u){switch(m1(a)){case 2:var m=NM;break;case 8:m=kM;break;default:m=F_}l=m.bind(null,a,l,i),m=void 0,!Tu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function x_(i,a,l,u,m){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var R=u.stateNode.containerInfo;if(R===m)break;if(S===4)for(S=u.return;S!==null;){var V=S.tag;if((V===3||V===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;R!==null;){if(S=Yi(R),S===null)return;if(V=S.tag,V===5||V===6||V===26||V===27){u=g=S;continue e}R=R.parentNode}}u=u.return}Zf(function(){var W=g,ne=Cl(l),oe=[];e:{var K=vb.get(i);if(K!==void 0){var X=Ro,_e=i;switch(i){case"keypress":if(Ao(l)===0)break e;case"keydown":case"keyup":X=lh;break;case"focusin":_e="focus",X=na;break;case"focusout":_e="blur",X=na;break;case"beforeblur":case"afterblur":X=na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=uh;break;case mb:case gb:case yb:X=Ol;break;case _b:X=Dl;break;case"scroll":case"scrollend":X=eh;break;case"wheel":X=fh;break;case"copy":case"cut":case"paste":X=ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=xu;break;case"toggle":case"beforetoggle":X=ia}var Ae=(a&4)!==0,vt=!Ae&&(i==="scroll"||i==="scrollend"),H=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var B=W,G;B!==null;){var ie=B;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||H===null||(ie=Qn(B,H),ie!=null&&Ae.push(nd(B,ie,G))),vt)break;B=B.return}0<Ae.length&&(K=new X(K,_e,null,l,ne),oe.push({event:K,listeners:Ae}))}}if((a&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&l!==xl&&(_e=l.relatedTarget||l.fromElement)&&(Yi(_e)||_e[vi]))break e;if((X||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,X?(_e=l.relatedTarget||l.toElement,X=W,_e=_e?Yi(_e):null,_e!==null&&(vt=o(_e),Ae=_e.tag,_e!==vt||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(X=null,_e=W),X!==_e)){if(Ae=th,ie="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=xu,ie="onPointerLeave",H="onPointerEnter",B="pointer"),vt=X==null?K:bo(X),G=_e==null?K:bo(_e),K=new Ae(ie,B+"leave",X,l,ne),K.target=vt,K.relatedTarget=G,ie=null,Yi(ne)===W&&(Ae=new Ae(H,B+"enter",_e,l,ne),Ae.target=G,Ae.relatedTarget=vt,ie=Ae),vt=ie,X&&_e)t:{for(Ae=rM,H=X,B=_e,G=0,ie=H;ie;ie=Ae(ie))G++;ie=0;for(var Te=B;Te;Te=Ae(Te))ie++;for(;0<G-ie;)H=Ae(H),G--;for(;0<ie-G;)B=Ae(B),ie--;for(;G--;){if(H===B||B!==null&&H===B.alternate){Ae=H;break t}H=Ae(H),B=Ae(B)}Ae=null}else Ae=null;X!==null&&zw(oe,K,X,Ae,!1),_e!==null&&vt!==null&&zw(oe,vt,_e,Ae,!0)}}e:{if(K=W?bo(W):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var lt=ib;else if(Xn(K))if(sb)lt=pD;else{lt=fD;var Ee=dD}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&Su(W.elementType)&&(lt=ib):lt=hD;if(lt&&(lt=lt(i,W))){No(oe,lt,l,ne);break e}Ee&&Ee(i,K,W),i==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Il(K,"number",K.value)}switch(Ee=W?bo(W):window,i){case"focusin":(Xn(Ee)||Ee.contentEditable==="true")&&(Ml=Ee,ry=W,ku=null);break;case"focusout":ku=ry=Ml=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,hb(oe,l,ne);break;case"selectionchange":if(gD)break;case"keydown":case"keyup":hb(oe,l,ne)}var Be;if(v)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else He?ft(i,l)&&(Ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&($&&l.locale!=="ko"&&(He||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&He&&(Be=Js()):(dr=ne,Nl="value"in dr?dr.value:dr.textContent,He=!0)),Ee=np(W,Ke),0<Ee.length&&(Ke=new Au(Ke,i,null,l,ne),oe.push({event:Ke,listeners:Ee}),Be?Ke.data=Be:(Be=$t(l),Be!==null&&(Ke.data=Be)))),(Be=C?fn(i,l):hn(i,l))&&(Ke=np(W,"onBeforeInput"),0<Ke.length&&(Ee=new Au("onBeforeInput","beforeinput",null,l,ne),oe.push({event:Ee,listeners:Ke}),Ee.data=Be)),ZD(oe,i,W,l,ne)}jw(oe,a)})}function nd(i,a,l){return{instance:i,listener:a,currentTarget:l}}function np(i,a){for(var l=a+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Qn(i,l),m!=null&&u.unshift(nd(i,m,g)),m=Qn(i,a),m!=null&&u.push(nd(i,m,g))),i.tag===3)return u;i=i.return}return[]}function rM(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zw(i,a,l,u,m){for(var g=a._reactName,S=[];l!==null&&l!==u;){var R=l,V=R.alternate,W=R.stateNode;if(R=R.tag,V!==null&&V===u)break;R!==5&&R!==26&&R!==27||W===null||(V=W,m?(W=Qn(l,g),W!=null&&S.unshift(nd(l,W,V))):m||(W=Qn(l,g),W!=null&&S.push(nd(l,W,V)))),l=l.return}S.length!==0&&i.push({event:a,listeners:S})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function Fw(i){return(typeof i=="string"?i:""+i).replace(iM,`
`).replace(sM,"")}function Hw(i,a){return a=Fw(a),Fw(i)===a}function _t(i,a,l,u,m,g){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||kr(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&kr(i,""+u);break;case"className":Ks(i,"class",u);break;case"tabIndex":Ks(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(i,l,u);break;case"style":Xf(i,u,g);break;case"data":if(a!=="object"){Ks(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=bi(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&_t(i,a,"name",m.name,m,null),_t(i,a,"formEncType",m.formEncType,m,null),_t(i,a,"formMethod",m.formMethod,m,null),_t(i,a,"formTarget",m.formTarget,m,null)):(_t(i,a,"encType",m.encType,m,null),_t(i,a,"method",m.method,m,null),_t(i,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=bi(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=dn);break;case"onScroll":u!=null&&We("scroll",i);break;case"onScrollEnd":u!=null&&We("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=bi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":We("beforetoggle",i),We("toggle",i),Ys(i,"popover",u);break;case"xlinkActuate":Nr(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nr(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nr(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nr(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nr(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ys(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xg.get(l)||l,Ys(i,l,u))}}function C_(i,a,l,u,m,g){switch(l){case"style":Xf(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?kr(i,u):(typeof u=="number"||typeof u=="bigint")&&kr(i,""+u);break;case"onScroll":u!=null&&We("scroll",i);break;case"onScrollEnd":u!=null&&We("scrollend",i);break;case"onClick":u!=null&&(i.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=i[En]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Ys(i,l,u)}}}function wn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",i),We("load",i);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:_t(i,a,g,S,l,null)}}m&&_t(i,a,"srcSet",l.srcSet,l,null),u&&_t(i,a,"src",l.src,l,null);return;case"input":We("invalid",i);var R=g=S=m=null,V=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":S=ne;break;case"checked":V=ne;break;case"defaultChecked":W=ne;break;case"value":g=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:_t(i,a,u,ne,l,null)}}To(i,g,R,V,W,S,m,!1);return;case"select":We("invalid",i),u=S=g=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":S=R;break;case"multiple":u=R;default:_t(i,a,m,R,l,null)}a=g,l=S,i.multiple=!!u,a!=null?ot(i,!!u,a,!1):l!=null&&ot(i,!!u,l,!0);return;case"textarea":We("invalid",i),g=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(R=l[S],R!=null))switch(S){case"value":u=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:_t(i,a,S,R,l,null)}Xs(i,u,m,g);return;case"option":for(V in l)l.hasOwnProperty(V)&&(u=l[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":_t(i,a,V,u,l,null));return;case"dialog":We("beforetoggle",i),We("toggle",i),We("cancel",i),We("close",i);break;case"iframe":case"object":We("load",i);break;case"video":case"audio":for(u=0;u<td.length;u++)We(td[u],i);break;case"image":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"embed":case"source":case"link":We("error",i),We("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:_t(i,a,W,u,l,null)}return;default:if(Su(a)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&C_(i,a,ne,u,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(u=l[R],u!=null&&_t(i,a,R,u,l,null))}function aM(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,R=null,V=null,W=null,ne=null;for(X in l){var oe=l[X];if(l.hasOwnProperty(X)&&oe!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(X)||_t(i,a,X,null,u,oe)}}for(var K in u){var X=u[K];if(oe=l[K],u.hasOwnProperty(K)&&(X!=null||oe!=null))switch(K){case"type":g=X;break;case"name":m=X;break;case"checked":W=X;break;case"defaultChecked":ne=X;break;case"value":S=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==oe&&_t(i,a,K,X,u,oe)}}Qs(i,S,R,V,W,ne,g,m);return;case"select":X=S=R=K=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(g)||_t(i,a,g,null,u,V)}for(m in u)if(g=u[m],V=l[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":K=g;break;case"defaultValue":R=g;break;case"multiple":S=g;default:g!==V&&_t(i,a,m,g,u,V)}a=R,l=S,u=X,K!=null?ot(i,!!l,K,!1):!!u!=!!l&&(a!=null?ot(i,!!l,a,!0):ot(i,!!l,l?[]:"",!1));return;case"textarea":X=K=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:_t(i,a,R,null,u,m)}for(S in u)if(m=u[S],g=l[S],u.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":K=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&_t(i,a,S,m,u,g)}wo(i,K,X);return;case"option":for(var _e in l)K=l[_e],l.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:_t(i,a,_e,null,u,K));for(V in u)K=u[V],X=l[V],u.hasOwnProperty(V)&&K!==X&&(K!=null||X!=null)&&(V==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":_t(i,a,V,K,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)K=l[Ae],l.hasOwnProperty(Ae)&&K!=null&&!u.hasOwnProperty(Ae)&&_t(i,a,Ae,null,u,K);for(W in u)if(K=u[W],X=l[W],u.hasOwnProperty(W)&&K!==X&&(K!=null||X!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:_t(i,a,W,K,u,X)}return;default:if(Su(a)){for(var vt in l)K=l[vt],l.hasOwnProperty(vt)&&K!==void 0&&!u.hasOwnProperty(vt)&&C_(i,a,vt,void 0,u,K);for(ne in u)K=u[ne],X=l[ne],!u.hasOwnProperty(ne)||K===X||K===void 0&&X===void 0||C_(i,a,ne,K,u,X);return}}for(var H in l)K=l[H],l.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&_t(i,a,H,null,u,K);for(oe in u)K=u[oe],X=l[oe],!u.hasOwnProperty(oe)||K===X||K==null&&X==null||_t(i,a,oe,K,u,X)}function qw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oM(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],g=m.transferSize,S=m.initiatorType,R=m.duration;if(g&&R&&qw(S)){for(S=0,R=m.responseEnd,u+=1;u<l.length;u++){var V=l[u],W=V.startTime;if(W>R)break;var ne=V.transferSize,oe=V.initiatorType;ne&&qw(oe)&&(V=V.responseEnd,S+=ne*(V<R?1:(R-W)/(V-W)))}if(--u,a+=8*(g+S)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var N_=null,k_=null;function rp(i){return i.nodeType===9?i:i.ownerDocument}function $w(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gw(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function O_(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var D_=null;function lM(){var i=window.event;return i&&i.type==="popstate"?i===D_?!1:(D_=i,!0):(D_=null,!1)}var Ww=typeof setTimeout=="function"?setTimeout:void 0,cM=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,uM=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(i){return Yw.resolve(null).then(i).catch(dM)}:Ww;function dM(i){setTimeout(function(){throw i})}function ba(i){return i==="head"}function Kw(i,a){var l=a,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(m),oc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")rd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,rd(l);for(var g=l.firstChild;g;){var S=g.nextSibling,R=g.nodeName;g[Wi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=S}}else l==="body"&&rd(i.ownerDocument.body);l=m}while(l);oc(a)}function Qw(i,a){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function M_(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":M_(l),So(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function fM(i,a,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Wi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Vr(i.nextSibling),i===null)break}return null}function hM(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vr(i.nextSibling),i===null))return null;return i}function Xw(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Vr(i.nextSibling),i===null))return null;return i}function P_(i){return i.data==="$?"||i.data==="$~"}function L_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function pM(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Vr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var U_=null;function Jw(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Vr(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Zw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function e1(i,a,l){switch(a=rp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function rd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);So(i)}var jr=new Map,t1=new Set;function ip(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ms=ae.d;ae.d={f:mM,r:gM,D:yM,C:_M,L:vM,m:EM,X:bM,S:SM,M:TM};function mM(){var i=ms.f(),a=Kh();return i||a}function gM(i){var a=Ki(i);a!==null&&a.tag===5&&a.type==="form"?_T(a):ms.r(i)}var ic=typeof document>"u"?null:document;function n1(i,a,l){var u=ic;if(u&&typeof a=="string"&&a){var m=Mt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),t1.has(m)||(t1.add(m),i={rel:i,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),wn(a,"link",i),zt(a),u.head.appendChild(a)))}}function yM(i){ms.D(i),n1("dns-prefetch",i,null)}function _M(i,a){ms.C(i,a),n1("preconnect",i,a)}function vM(i,a,l){ms.L(i,a,l);var u=ic;if(u&&i&&a){var m='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Mt(l.imageSizes)+'"]')):m+='[href="'+Mt(i)+'"]';var g=m;switch(a){case"style":g=sc(i);break;case"script":g=ac(i)}jr.has(g)||(i=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),jr.set(g,i),u.querySelector(m)!==null||a==="style"&&u.querySelector(id(g))||a==="script"&&u.querySelector(sd(g))||(a=u.createElement("link"),wn(a,"link",i),zt(a),u.head.appendChild(a)))}}function EM(i,a){ms.m(i,a);var l=ic;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ac(i)}if(!jr.has(g)&&(i=_({rel:"modulepreload",href:i},a),jr.set(g,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sd(g)))return}u=l.createElement("link"),wn(u,"link",i),zt(u),l.head.appendChild(u)}}}function SM(i,a,l){ms.S(i,a,l);var u=ic;if(u&&i){var m=Kr(u).hoistableStyles,g=sc(i);a=a||"default";var S=m.get(g);if(!S){var R={loading:0,preload:null};if(S=u.querySelector(id(g)))R.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},l),(l=jr.get(g))&&V_(i,l);var V=S=u.createElement("link");zt(V),wn(V,"link",i),V._p=new Promise(function(W,ne){V.onload=W,V.onerror=ne}),V.addEventListener("load",function(){R.loading|=1}),V.addEventListener("error",function(){R.loading|=2}),R.loading|=4,sp(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:R},m.set(g,S)}}}function bM(i,a){ms.X(i,a);var l=ic;if(l&&i){var u=Kr(l).hoistableScripts,m=ac(i),g=u.get(m);g||(g=l.querySelector(sd(m)),g||(i=_({src:i,async:!0},a),(a=jr.get(m))&&j_(i,a),g=l.createElement("script"),zt(g),wn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function TM(i,a){ms.M(i,a);var l=ic;if(l&&i){var u=Kr(l).hoistableScripts,m=ac(i),g=u.get(m);g||(g=l.querySelector(sd(m)),g||(i=_({src:i,async:!0,type:"module"},a),(a=jr.get(m))&&j_(i,a),g=l.createElement("script"),zt(g),wn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function r1(i,a,l,u){var m=(m=Oe.current)?ip(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=sc(l.href),l=Kr(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=sc(l.href);var g=Kr(m).hoistableStyles,S=g.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=m.querySelector(id(i)))&&!g._p&&(S.instance=g,S.state.loading=5),jr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jr.set(i,l),g||wM(m,i,l,S.state))),a&&u===null)throw Error(r(528,""));return S}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ac(l),l=Kr(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function sc(i){return'href="'+Mt(i)+'"'}function id(i){return'link[rel="stylesheet"]['+i+"]"}function i1(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function wM(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),wn(a,"link",l),zt(a),i.head.appendChild(a))}function ac(i){return'[src="'+Mt(i)+'"]'}function sd(i){return"script[async]"+i}function s1(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(u)return a.instance=u,zt(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),zt(u),wn(u,"style",m),sp(u,l.precedence,i),a.instance=u;case"stylesheet":m=sc(l.href);var g=i.querySelector(id(m));if(g)return a.state.loading|=4,a.instance=g,zt(g),g;u=i1(l),(m=jr.get(m))&&V_(u,m),g=(i.ownerDocument||i).createElement("link"),zt(g);var S=g;return S._p=new Promise(function(R,V){S.onload=R,S.onerror=V}),wn(g,"link",u),a.state.loading|=4,sp(g,l.precedence,i),a.instance=g;case"script":return g=ac(l.src),(m=i.querySelector(sd(g)))?(a.instance=m,zt(m),m):(u=l,(m=jr.get(g))&&(u=_({},l),j_(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),zt(m),wn(m,"link",u),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,sp(u,l.precedence,i));return a.instance}function sp(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,S=0;S<u.length;S++){var R=u[S];if(R.dataset.precedence===a)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function V_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function j_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ap=null;function a1(i,a,l){if(ap===null){var u=new Map,m=ap=new Map;m.set(l,u)}else m=ap,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[Wi]||g[Dt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(a)||"";S=i+S;var R=u.get(S);R?R.push(g):u.set(S,[g])}}return u}function o1(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function AM(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function l1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function RM(i,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=sc(u.href),g=a.querySelector(id(m));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=op.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=g,zt(g);return}g=a.ownerDocument||a,u=i1(u),(m=jr.get(m))&&V_(u,m),g=g.createElement("link"),zt(g);var S=g;S._p=new Promise(function(R,V){S.onload=R,S.onerror=V}),wn(g,"link",u),l.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=op.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var B_=0;function IM(i,a){return i.stylesheets&&i.count===0&&cp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&cp(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+a);0<i.imgBytes&&B_===0&&(B_=62500*oM());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&cp(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>B_?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function op(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lp=null;function cp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lp=new Map,a.forEach(xM,i),lp=null,op.call(i))}function xM(i,a){if(!(a.state.loading&4)){var l=lp.get(i);if(l)var u=l.get(null);else{l=new Map,lp.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=a.instance,S=m.getAttribute("data-precedence"),g=l.get(S)||u,g===u&&l.set(null,m),l.set(S,m),this.count++,u=op.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var ad={$$typeof:Q,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function CM(i,a,l,u,m,g,S,R,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function c1(i,a,l,u,m,g,S,R,V,W,ne,oe){return i=new CM(i,a,l,S,V,W,ne,oe,R),a=1,g===!0&&(a|=24),g=hr(3,null,null,a),i.current=g,g.stateNode=i,a=vy(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:a},Ty(g),i}function u1(i){return i?(i=Ul,i):Ul}function d1(i,a,l,u,m,g){m=u1(m),u.context===null?u.context=m:u.pendingContext=m,u=da(a),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=fa(i,u,a),l!==null&&(nr(l,i,a),Vu(l,i,a))}function f1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function z_(i,a){f1(i,a),(i=i.alternate)&&f1(i,a)}function h1(i){if(i.tag===13||i.tag===31){var a=Do(i,67108864);a!==null&&nr(a,i,67108864),z_(i,67108864)}}function p1(i){if(i.tag===13||i.tag===31){var a=_r();a=pu(a);var l=Do(i,a);l!==null&&nr(l,i,a),z_(i,a)}}var up=!0;function NM(i,a,l,u){var m=Y.T;Y.T=null;var g=ae.p;try{ae.p=2,F_(i,a,l,u)}finally{ae.p=g,Y.T=m}}function kM(i,a,l,u){var m=Y.T;Y.T=null;var g=ae.p;try{ae.p=8,F_(i,a,l,u)}finally{ae.p=g,Y.T=m}}function F_(i,a,l,u){if(up){var m=H_(u);if(m===null)x_(i,a,u,dp,l),g1(i,u);else if(DM(m,i,a,l,u))u.stopPropagation();else if(g1(i,u),a&4&&-1<OM.indexOf(i)){for(;m!==null;){var g=Ki(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Yr(g.pendingLanes);if(S!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var V=1<<31-Vn(S);R.entanglements[1]|=V,S&=~V}xi(g),(ut&6)===0&&(Wh=Re()+500,ed(0))}}break;case 31:case 13:R=Do(g,2),R!==null&&nr(R,g,2),Kh(),z_(g,2)}if(g=H_(u),g===null&&x_(i,a,u,dp,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else x_(i,a,u,null,l)}}function H_(i){return i=Cl(i),q_(i)}var dp=null;function q_(i){if(dp=null,i=Yi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=d(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return dp=i,null}function m1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case rn:return 2;case un:return 8;case qi:case $f:return 32;case uu:return 268435456;default:return 32}default:return 32}}var $_=!1,Ta=null,wa=null,Aa=null,od=new Map,ld=new Map,Ra=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g1(i,a){switch(i){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":od.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(a.pointerId)}}function cd(i,a,l,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},a!==null&&(a=Ki(a),a!==null&&h1(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function DM(i,a,l,u,m){switch(a){case"focusin":return Ta=cd(Ta,i,a,l,u,m),!0;case"dragenter":return wa=cd(wa,i,a,l,u,m),!0;case"mouseover":return Aa=cd(Aa,i,a,l,u,m),!0;case"pointerover":var g=m.pointerId;return od.set(g,cd(od.get(g)||null,i,a,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,ld.set(g,cd(ld.get(g)||null,i,a,l,u,m)),!0}return!1}function y1(i){var a=Yi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Wf(i.priority,function(){p1(l)});return}}else if(a===31){if(a=d(l),a!==null){i.blockedOn=a,Wf(i.priority,function(){p1(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=H_(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);xl=u,l.target.dispatchEvent(u),xl=null}else return a=Ki(l),a!==null&&h1(a),i.blockedOn=l,!1;a.shift()}return!0}function _1(i,a,l){fp(i)&&l.delete(a)}function MM(){$_=!1,Ta!==null&&fp(Ta)&&(Ta=null),wa!==null&&fp(wa)&&(wa=null),Aa!==null&&fp(Aa)&&(Aa=null),od.forEach(_1),ld.forEach(_1)}function hp(i,a){i.blockedOn===a&&(i.blockedOn=null,$_||($_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MM)))}var pp=null;function v1(i){pp!==i&&(pp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pp===i&&(pp=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],m=i[a+2];if(typeof u!="function"){if(q_(u||l)===null)continue;break}var g=Ki(l);g!==null&&(i.splice(a,3),a-=3,Hy(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function oc(i){function a(V){return hp(V,i)}Ta!==null&&hp(Ta,i),wa!==null&&hp(wa,i),Aa!==null&&hp(Aa,i),od.forEach(a),ld.forEach(a);for(var l=0;l<Ra.length;l++){var u=Ra[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ra.length&&(l=Ra[0],l.blockedOn===null);)y1(l),l.blockedOn===null&&Ra.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],S=m[En]||null;if(typeof g=="function")S||v1(l);else if(S){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[En]||null)R=S.formAction;else if(q_(m)!==null)continue}else R=S.action;typeof R=="function"?l[u+1]=R:(l.splice(u,3),u-=3),v1(l)}}}function E1(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function G_(i){this._internalRoot=i}mp.prototype.render=G_.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=_r();d1(l,u,i,a,null,null)},mp.prototype.unmount=G_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;d1(i.current,2,null,i,null,null),Kh(),a[vi]=null}};function mp(i){this._internalRoot=i}mp.prototype.unstable_scheduleHydration=function(i){if(i){var a=Gi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ra.length&&a!==0&&a<Ra[l].priority;l++);Ra.splice(l,0,i),l===0&&y1(i)}};var S1=e.version;if(S1!=="19.2.4")throw Error(r(527,S1,"19.2.4"));ae.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(a),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var PM={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{Bs=gp.inject(PM),Nn=gp}catch{}}return dd.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",m=xT,g=CT,S=NT;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=c1(i,1,!1,null,null,l,u,null,m,g,S,E1),i[vi]=a.current,I_(i),new G_(a)},dd.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,m="",g=xT,S=CT,R=NT,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=c1(i,1,!0,a,l??null,u,m,V,g,S,R,E1),a.context=u1(null),l=a.current,u=_r(),u=pu(u),m=da(u),m.callback=null,fa(l,m,u),l=u,a.current.lanes=l,Hs(a,l),xi(a),i[vi]=a.current,I_(i),new mp(a)},dd.version="19.2.4",dd}var k1;function WM(){if(k1)return K_.exports;k1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K_.exports=GM(),K_.exports}var YM=WM();const KM=lx(YM),QM="modulepreload",XM=function(t){return"/"+t},O1={},Us=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=f(n.map(p=>{if(p=XM(p),p in O1)return;O1[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":QM,y||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((w,A)=>{E.addEventListener("load",w),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};var D1="popstate";function JM(t={}){function e(r,s){let{pathname:o,search:c,hash:d}=r.location;return Lv("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Od(s)}return eP(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZM(){return Math.random().toString(36).substring(2,10)}function M1(t,e){return{usr:t.state,key:t.key,idx:e}}function Lv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$c(e):e,state:n,key:e&&e.key||r||ZM()}}function Od({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),z=k==null?null:k-p;p=k,f&&f({action:d,location:N.location,delta:z})}function E(k,z){d="PUSH";let F=Lv(N.location,k,z);p=y()+1;let Q=M1(F,p),Z=N.createHref(F);try{c.pushState(Q,"",Z)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;s.location.assign(Z)}o&&f&&f({action:d,location:N.location,delta:1})}function w(k,z){d="REPLACE";let F=Lv(N.location,k,z);p=y();let Q=M1(F,p),Z=N.createHref(F);c.replaceState(Q,"",Z),o&&f&&f({action:d,location:N.location,delta:0})}function A(k){return tP(k)}let N={get action(){return d},get location(){return t(s,c)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(D1,_),f=k,()=>{s.removeEventListener(D1,_),f=null}},createHref(k){return e(s,k)},createURL:A,encodeLocation(k){let z=A(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:w,go(k){return c.go(k)}};return N}function tP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Od(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cx(t,e,n="/"){return nP(t,e,n,!1)}function nP(t,e,n,r){let s=typeof e=="string"?$c(e):e,o=ws(s.pathname||"/",n);if(o==null)return null;let c=ux(t);rP(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=pP(o);d=fP(c[f],p,r)}return d}function ux(t,e=[],n=[],r="",s=!1){let o=(c,d,f=s,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;Ct(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=vs([r,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(Ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),ux(c.children,e,E,_,f)),!(c.path==null&&!c.index)&&e.push({path:_,score:uP(_,c.index),routesMeta:E})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let f of dx(c.path))o(c,d,!0,f)}),e}function dx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=dx(r.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function rP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iP=/^:[\w-]+$/,sP=3,aP=2,oP=1,lP=10,cP=-2,P1=t=>t==="*";function uP(t,e){let n=t.split("/"),r=n.length;return n.some(P1)&&(r+=cP),e&&(r+=aP),n.filter(s=>!P1(s)).reduce((s,o)=>s+(iP.test(o)?sP:o===""?oP:lP),r)}function dP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fP(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=lm({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=lm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:vs([o,_.pathname]),pathnameBase:_P(vs([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=vs([o,_.pathnameBase]))}return c}function lm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=d[E]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=d[E];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function hP(t,e=!1,n=!0){Hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ws(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function gP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$c(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=L1(n.substring(1),"/"):o=L1(n,e)):o=e,{pathname:o,search:vP(r),hash:EP(s)}}function L1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Z_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W0(t){let e=yP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Y0(t,e,n,r=!1){let s;typeof t=="string"?s=$c(t):(s={...t},Ct(!s.pathname||!s.pathname.includes("?"),Z_("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),Z_("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),Z_("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}d=_>=0?e[_]:"/"}let f=gP(s,d),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var vs=t=>t.join("/").replace(/\/\/+/g,"/"),_P=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,SP=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function TP(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hx(t,e){let n=t;if(typeof n!="string"||!mP.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(fx)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=ws(c.pathname,e);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:s=!0}catch{Hr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var px=["POST","PUT","PATCH","DELETE"];new Set(px);var wP=["GET",...px];new Set(wP);var Gc=j.createContext(null);Gc.displayName="DataRouter";var Jm=j.createContext(null);Jm.displayName="DataRouterState";var AP=j.createContext(!1),mx=j.createContext({isTransitioning:!1});mx.displayName="ViewTransition";var RP=j.createContext(new Map);RP.displayName="Fetchers";var IP=j.createContext(null);IP.displayName="Await";var Rr=j.createContext(null);Rr.displayName="Navigation";var lf=j.createContext(null);lf.displayName="Location";var ui=j.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var K0=j.createContext(null);K0.displayName="RouteError";var gx="REACT_ROUTER_ERROR",xP="REDIRECT",CP="ROUTE_ERROR_RESPONSE";function NP(t){if(t.startsWith(`${gx}:${xP}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function kP(t){if(t.startsWith(`${gx}:${CP}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new SP(e.status,e.statusText,e.data)}catch{}}function OP(t,{relative:e}={}){Ct(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Rr),{hash:s,pathname:o,search:c}=uf(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:vs([n,o])),r.createHref({pathname:d,search:c,hash:s})}function Wc(){return j.useContext(lf)!=null}function Bi(){return Ct(Wc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(lf).location}var yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _x(t){j.useContext(Rr).static||j.useLayoutEffect(t)}function cf(){let{isDataRoute:t}=j.useContext(ui);return t?GP():DP()}function DP(){Ct(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Gc),{basename:e,navigator:n}=j.useContext(Rr),{matches:r}=j.useContext(ui),{pathname:s}=Bi(),o=JSON.stringify(W0(r)),c=j.useRef(!1);return _x(()=>{c.current=!0}),j.useCallback((f,p={})=>{if(Hr(c.current,yx),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=Y0(f,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,o,s,t])}j.createContext(null);function MP(){let{matches:t}=j.useContext(ui),e=t[t.length-1];return e?e.params:{}}function uf(t,{relative:e}={}){let{matches:n}=j.useContext(ui),{pathname:r}=Bi(),s=JSON.stringify(W0(n));return j.useMemo(()=>Y0(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function PP(t,e){return vx(t,e)}function vx(t,e,n,r,s){Ct(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(Rr),{matches:c}=j.useContext(ui),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let F=_&&_.path||"";Sx(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Bi(),w;if(e){let F=typeof e=="string"?$c(e):e;Ct(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=E;let A=w.pathname||"/",N=A;if(y!=="/"){let F=y.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=cx(t,{pathname:N});Hr(_||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Hr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=BP(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:vs([y,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:vs([y,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,r,s);return e&&z?j.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},z):z}function LP(){let t=$P(),e=bP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,c)}var UP=j.createElement(LP,null),Ex=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=kP(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(ui.Provider,{value:this.props.routeContext},j.createElement(K0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(VP,{error:t},e):e}};Ex.contextType=AP;var ev=new WeakMap;function VP({children:t,error:e}){let{basename:n}=j.useContext(Rr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=NP(e.digest);if(r){let s=ev.get(e);if(s)throw s;let o=hx(r.location,n);if(fx&&!ev.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ev.set(e,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function jP({routeContext:t,match:e,children:n}){let r=j.useContext(Gc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ui.Provider,{value:t},n)}function BP(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let y=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,f=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=y),_.route.id){let{loaderData:E,errors:w}=n,A=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||A){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let p=n&&r?(y,_)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:TP(n.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,E)=>{let w,A=!1,N=null,k=null;n&&(w=c&&_.route.id?c[_.route.id]:void 0,N=_.route.errorElement||UP,d&&(f<0&&E===0?(Sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):f===E&&(A=!0,k=_.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),F=()=>{let Q;return w?Q=N:A?Q=k:_.route.Component?Q=j.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=y,j.createElement(jP,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?j.createElement(Ex,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):F()},null)}function Q0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zP(t){let e=j.useContext(Gc);return Ct(e,Q0(t)),e}function FP(t){let e=j.useContext(Jm);return Ct(e,Q0(t)),e}function HP(t){let e=j.useContext(ui);return Ct(e,Q0(t)),e}function X0(t){let e=HP(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qP(){return X0("useRouteId")}function $P(){let t=j.useContext(K0),e=FP("useRouteError"),n=X0("useRouteError");return t!==void 0?t:e.errors?.[n]}function GP(){let{router:t}=zP("useNavigate"),e=X0("useNavigate"),n=j.useRef(!1);return _x(()=>{n.current=!0}),j.useCallback(async(s,o={})=>{Hr(n.current,yx),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var U1={};function Sx(t,e,n){!e&&!U1[t]&&(U1[t]=!0,Hr(!1,n))}j.memo(WP);function WP({routes:t,future:e,state:n,onError:r}){return vx(t,void 0,n,r,e)}function ja({to:t,replace:e,state:n,relative:r}){Ct(Wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Rr);Hr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(ui),{pathname:c}=Bi(),d=cf(),f=Y0(t,W0(o),c,r==="path"),p=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function $n(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){Ct(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[d,s,o,c]);typeof n=="string"&&(n=$c(n));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:w="default"}=n,A=j.useMemo(()=>{let N=ws(p,d);return N==null?null:{location:{pathname:N,search:y,hash:_,state:E,key:w},navigationType:r}},[d,p,y,_,E,w,r]);return Hr(A!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(Rr.Provider,{value:f},j.createElement(lf.Provider,{children:e,value:A}))}function KP({children:t,location:e}){return PP(Uv(t),e)}function Uv(t,e=[]){let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let o=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Uv(r.props.children,o));return}Ct(r.type===$n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Uv(r.props.children,o)),n.push(c)}),n}var Vp="get",jp="application/x-www-form-urlencoded";function Zm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function QP(t){return Zm(t)&&t.tagName.toLowerCase()==="button"}function XP(t){return Zm(t)&&t.tagName.toLowerCase()==="form"}function JP(t){return Zm(t)&&t.tagName.toLowerCase()==="input"}function ZP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eL(t,e){return t.button===0&&(!e||e==="_self")&&!ZP(t)}function Vv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function tL(t,e){let n=Vv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var yp=null;function nL(){if(yp===null)try{new FormData(document.createElement("form"),0),yp=!1}catch{yp=!0}return yp}var rL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tv(t){return t!=null&&!rL.has(t)?(Hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jp}"`),null):t}function iL(t,e){let n,r,s,o,c;if(XP(t)){let d=t.getAttribute("action");r=d?ws(d,e):null,n=t.getAttribute("method")||Vp,s=tv(t.getAttribute("enctype"))||jp,o=new FormData(t)}else if(QP(t)||JP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ws(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Vp,s=tv(t.getAttribute("formenctype"))||tv(d.getAttribute("enctype"))||jp,o=new FormData(d,t),!nL()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,_)}}else{if(Zm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vp,r=null,s=jp,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sL(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&ws(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function aL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lL(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await aL(o,n);return c.links?c.links():[]}return[]}));return fL(r.flat(1).filter(oL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function V1(t,e,n,r,s,o){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):o==="data"?e.filter((f,p)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function cL(t,e,{includeHydrateFallback:n}={}){return uL(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function uL(t){return[...new Set(t)]}function dL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fL(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(dL(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function bx(){let t=j.useContext(Gc);return J0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hL(){let t=j.useContext(Jm);return J0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Z0=j.createContext(void 0);Z0.displayName="FrameworkContext";function Tx(){let t=j.useContext(Z0);return J0(t,"You must render this element inside a <HydratedRouter> element"),t}function pL(t,e){let n=j.useContext(Z0),[r,s]=j.useState(!1),[o,c]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=j.useRef(null);j.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=z=>{z.forEach(F=>{c(F.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),j.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{s(!0)},A=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:fd(d,w),onBlur:fd(f,A),onMouseEnter:fd(p,w),onMouseLeave:fd(y,A),onTouchStart:fd(_,w)}]:[!1,E,{}]}function fd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mL({page:t,...e}){let{router:n}=bx(),r=j.useMemo(()=>cx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(yL,{page:t,matches:r,...e}):null}function gL(t){let{manifest:e,routeModules:n}=Tx(),[r,s]=j.useState([]);return j.useEffect(()=>{let o=!1;return lL(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function yL({page:t,matches:e,...n}){let r=Bi(),{future:s,manifest:o,routeModules:c}=Tx(),{basename:d}=bx(),{loaderData:f,matches:p}=hL(),y=j.useMemo(()=>V1(t,e,p,o,r,"data"),[t,e,p,o,r]),_=j.useMemo(()=>V1(t,e,p,o,r,"assets"),[t,e,p,o,r]),E=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(e.forEach(F=>{let Q=o.routes[F.route.id];!Q||!Q.hasLoader||(!y.some(Z=>Z.route.id===F.route.id)&&F.route.id in f&&c[F.route.id]?.shouldRevalidate||Q.hasClientLoader?k=!0:N.add(F.route.id))}),N.size===0)return[];let z=sL(t,d,s.unstable_trailingSlashAwareDataRequests,"data");return k&&N.size>0&&z.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[z.pathname+z.search]},[d,s.unstable_trailingSlashAwareDataRequests,f,r,o,y,e,t,c]),w=j.useMemo(()=>cL(_,o),[_,o]),A=gL(_);return j.createElement(j.Fragment,null,E.map(N=>j.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>j.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),A.map(({key:N,link:k})=>j.createElement("link",{key:N,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function _L(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vL&&(window.__reactRouterVersion="7.13.0")}catch{}function EL({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=j.useRef();s.current==null&&(s.current=JM({window:r,v5Compat:!0}));let o=s.current,[c,d]=j.useState({action:o.action,location:o.location}),f=j.useCallback(p=>{n===!1?d(p):j.startTransition(()=>d(p))},[n]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.createElement(YP,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ax=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:d,target:f,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...w},A){let{basename:N,unstable_useTransitions:k}=j.useContext(Rr),z=typeof p=="string"&&wx.test(p),F=hx(p,N);p=F.to;let Q=OP(p,{relative:s}),[Z,ue,se]=pL(r,w),x=wL(p,{replace:c,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:k});function I(D){e&&e(D),D.defaultPrevented||x(D)}let O=j.createElement("a",{...w,...se,href:F.absoluteURL||Q,onClick:F.isExternal||o?e:I,ref:_L(A,ue),target:f,"data-discover":!z&&n==="render"?"true":void 0});return Z&&!z?j.createElement(j.Fragment,null,O,j.createElement(mL,{page:Q})):O});Ax.displayName="Link";var SL=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:d,children:f,...p},y){let _=uf(c,{relative:p.relative}),E=Bi(),w=j.useContext(Jm),{navigator:A,basename:N}=j.useContext(Rr),k=w!=null&&CL(_)&&d===!0,z=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,F=E.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(F=F.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&N&&(Q=ws(Q,N)||Q);const Z=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ue=F===z||!s&&F.startsWith(z)&&F.charAt(Z)==="/",se=Q!=null&&(Q===z||!s&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),x={isActive:ue,isPending:se,isTransitioning:k},I=ue?e:void 0,O;typeof r=="function"?O=r(x):O=[r,ue?"active":null,se?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(x):o;return j.createElement(Ax,{...p,"aria-current":I,className:O,ref:y,style:D,to:c,viewTransition:d},typeof f=="function"?f(x):f)});SL.displayName="NavLink";var bL=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=Vp,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...w},A)=>{let{unstable_useTransitions:N}=j.useContext(Rr),k=IL(),z=xL(d,{relative:p}),F=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&wx.test(d),Z=ue=>{if(f&&f(ue),ue.defaultPrevented)return;ue.preventDefault();let se=ue.nativeEvent.submitter,x=se?.getAttribute("formmethod")||c,I=()=>k(se||ue.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});N&&n!==!1?j.startTransition(()=>I()):I()};return j.createElement("form",{ref:A,method:F,action:z,onSubmit:r?f:Z,...w,"data-discover":!Q&&t==="render"?"true":void 0})});bL.displayName="Form";function TL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rx(t){let e=j.useContext(Gc);return Ct(e,TL(t)),e}function wL(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=cf(),y=Bi(),_=uf(t,{relative:o});return j.useCallback(E=>{if(eL(E,e)){E.preventDefault();let w=n!==void 0?n:Od(y)===Od(_),A=()=>p(t,{replace:w,state:r,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});f?j.startTransition(()=>A()):A()}},[y,p,_,n,r,e,t,s,o,c,d,f])}function _X(t){Hr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Vv(t)),n=j.useRef(!1),r=Bi(),s=j.useMemo(()=>tL(r.search,n.current?null:e.current),[r.search]),o=cf(),c=j.useCallback((d,f)=>{const p=Vv(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,o("?"+p,f)},[o,s]);return[s,c]}var AL=0,RL=()=>`__${String(++AL)}__`;function IL(){let{router:t}=Rx("useSubmit"),{basename:e}=j.useContext(Rr),n=qP(),r=t.fetch,s=t.navigate;return j.useCallback(async(o,c={})=>{let{action:d,method:f,encType:p,formData:y,body:_}=iL(o,e);if(c.navigate===!1){let E=c.fetcherKey||RL();await r(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,s,e,n])}function xL(t,{relative:e}={}){let{basename:n}=j.useContext(Rr),r=j.useContext(ui);Ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...uf(t||".",{relative:e})},c=Bi();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:vs([n,o.pathname])),Od(o)}function CL(t,{relative:e}={}){let n=j.useContext(mx);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rx("useViewTransitionState"),s=uf(t,{relative:e});if(!n.isTransitioning)return!1;let o=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lm(s.pathname,c)!=null||lm(s.pathname,o)!=null}const NL=()=>{};var j1={};const Ix=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,y=o>>2,_=(o&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;f||(w=64,c||(E=64)),r.push(n[y],n[_],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ix(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||p==null||_==null)throw new OL;const E=o<<2|d>>4;if(r.push(E),p!==64){const w=d<<4&240|p>>2;if(r.push(w),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DL=function(t){const e=Ix(t);return xx.encodeByteArray(e,!0)},cm=function(t){return DL(t).replace(/\./g,"")},Cx=function(t){try{return xx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ML(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PL=()=>ML().__FIREBASE_DEFAULTS__,LL=()=>{if(typeof process>"u"||typeof j1>"u")return;const t=j1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cx(t[1]);return e&&JSON.parse(e)},eg=()=>{try{return NL()||PL()||LL()||UL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nx=t=>{var e,n;return(n=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eE=t=>{const e=Nx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kx=()=>{var t;return(t=eg())===null||t===void 0?void 0:t.config},Ox=t=>{var e;return(e=eg())===null||e===void 0?void 0:e[`_${t}`]};class VL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function zi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function df(t){return(await fetch(t,{credentials:"include"})).ok}function Dx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cm(JSON.stringify(n)),cm(JSON.stringify(c)),""].join(".")}const Sd={};function jL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sd))Sd[e]?t.emulator.push(e):t.prod.push(e);return t}function BL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B1=!1;function tg(t,e){if(typeof window>"u"||typeof document>"u"||!zi(window.location.host)||Sd[t]===e||Sd[t]||B1)return;Sd[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=jL().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{B1=!0,c()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=BL(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),k=document.getElementById(N)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;d(Q),y(k,N);const Z=p();f(F,z),Q.append(F,A,k,Z),document.body.appendChild(Q)}o?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function FL(){var t;const e=(t=eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $L(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GL(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WL(){return!FL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YL(){try{return typeof indexedDB=="object"}catch{return!1}}function KL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}const QL="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QL,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?XL(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new di(s,d,r)}}function XL(t,e){return t.replace(JL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JL=/\{\$([^}]+)}/g;function ZL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(z1(o)&&z1(c)){if(!Ja(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function z1(t){return t!==null&&typeof t=="object"}function hf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function yd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function e4(t,e){const n=new t4(t,e);return n.subscribe.bind(n)}class t4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nv),s.error===void 0&&(s.error=nv),s.complete===void 0&&(s.complete=nv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}function at(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yo="[DEFAULT]";class r4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s4(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i4(t){return t===Yo?void 0:t}function s4(t){return t.instantiationMode==="EAGER"}class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const o4={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},l4=Qe.INFO,c4={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},u4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=c4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tE{constructor(e){this.name=e,this._logLevel=l4,this._logHandler=u4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const d4=(t,e)=>e.some(n=>t instanceof n);let F1,H1;function f4(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return H1||(H1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mx=new WeakMap,jv=new WeakMap,Px=new WeakMap,rv=new WeakMap,nE=new WeakMap;function p4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Fa(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Mx.set(n,t)}).catch(()=>{}),nE.set(e,t),e}function m4(t){if(jv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});jv.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Px.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g4(t){Bv=t(Bv)}function y4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iv(this),e,...n);return Px.set(r,e.sort?e.sort():[e]),Fa(r)}:h4().includes(t)?function(...e){return t.apply(iv(this),e),Fa(Mx.get(this))}:function(...e){return Fa(t.apply(iv(this),e))}}function _4(t){return typeof t=="function"?y4(t):(t instanceof IDBTransaction&&m4(t),d4(t,f4())?new Proxy(t,Bv):t)}function Fa(t){if(t instanceof IDBRequest)return p4(t);if(rv.has(t))return rv.get(t);const e=_4(t);return e!==t&&(rv.set(t,e),nE.set(e,t)),e}const iv=t=>nE.get(t);function v4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=Fa(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Fa(c.result),f.oldVersion,f.newVersion,Fa(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const E4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],sv=new Map;function q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sv.get(e))return sv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=S4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||E4.includes(n)))return;const o=async function(c,...d){const f=this.transaction(c,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&f.done]))[0]};return sv.set(e,o),o}g4(t=>({...t,get:(e,n,r)=>q1(e,n)||t.get(e,n,r),has:(e,n)=>!!q1(e,n)||t.has(e,n)}));class b4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function T4(t){const e=t.getComponent();return e?.type==="VERSION"}const zv="@firebase/app",$1="0.13.2";const Rs=new tE("@firebase/app"),w4="@firebase/app-compat",A4="@firebase/analytics-compat",R4="@firebase/analytics",I4="@firebase/app-check-compat",x4="@firebase/app-check",C4="@firebase/auth",N4="@firebase/auth-compat",k4="@firebase/database",O4="@firebase/data-connect",D4="@firebase/database-compat",M4="@firebase/functions",P4="@firebase/functions-compat",L4="@firebase/installations",U4="@firebase/installations-compat",V4="@firebase/messaging",j4="@firebase/messaging-compat",B4="@firebase/performance",z4="@firebase/performance-compat",F4="@firebase/remote-config",H4="@firebase/remote-config-compat",q4="@firebase/storage",$4="@firebase/storage-compat",G4="@firebase/firestore",W4="@firebase/ai",Y4="@firebase/firestore-compat",K4="firebase",Q4="11.10.0";const Fv="[DEFAULT]",X4={[zv]:"fire-core",[w4]:"fire-core-compat",[R4]:"fire-analytics",[A4]:"fire-analytics-compat",[x4]:"fire-app-check",[I4]:"fire-app-check-compat",[C4]:"fire-auth",[N4]:"fire-auth-compat",[k4]:"fire-rtdb",[O4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[M4]:"fire-fn",[P4]:"fire-fn-compat",[L4]:"fire-iid",[U4]:"fire-iid-compat",[V4]:"fire-fcm",[j4]:"fire-fcm-compat",[B4]:"fire-perf",[z4]:"fire-perf-compat",[F4]:"fire-rc",[H4]:"fire-rc-compat",[q4]:"fire-gcs",[$4]:"fire-gcs-compat",[G4]:"fire-fst",[Y4]:"fire-fst-compat",[W4]:"fire-vertex","fire-js":"fire-js",[K4]:"fire-js-all"};const Dd=new Map,J4=new Map,Hv=new Map;function G1(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(Hv.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(const n of Dd.values())G1(n,t);for(const n of J4.values())G1(n,t);return!0}function Yc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t==null?!1:t.settings!==void 0}const Z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new ff("app","Firebase",Z4);class e3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}const hl=Q4;function Lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ha.create("bad-app-name",{appName:String(s)});if(n||(n=kx()),!n)throw Ha.create("no-options");const o=Dd.get(s);if(o){if(Ja(n,o.options)&&Ja(r,o.config))return o;throw Ha.create("duplicate-app",{appName:s})}const c=new a4(s);for(const f of Hv.values())c.addComponent(f);const d=new e3(n,r,c);return Dd.set(s,d),d}function pf(t=Fv){const e=Dd.get(t);if(!e&&t===Fv&&kx())return Lx();if(!e)throw Ha.create("no-app",{appName:t});return e}function t3(){return Array.from(Dd.values())}function zr(t,e,n){var r;let s=(r=X4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}Za(new As(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const n3="firebase-heartbeat-database",r3=1,Md="firebase-heartbeat-store";let av=null;function Ux(){return av||(av=v4(n3,r3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Md)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),av}async function i3(t){try{const n=(await Ux()).transaction(Md),r=await n.objectStore(Md).get(Vx(t));return await n.done,r}catch(e){if(e instanceof di)Rs.warn(e.message);else{const n=Ha.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(n.message)}}}async function W1(t,e){try{const r=(await Ux()).transaction(Md,"readwrite");await r.objectStore(Md).put(e,Vx(t)),await r.done}catch(n){if(n instanceof di)Rs.warn(n.message);else{const r=Ha.create("idb-set",{originalErrorMessage:n?.message});Rs.warn(r.message)}}}function Vx(t){return`${t.name}!${t.options.appId}`}const s3=1024,a3=30;class o3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Y1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>a3){const c=u3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y1(),{heartbeatsToSend:r,unsentEntries:s}=l3(this._heartbeatsCache.heartbeats),o=cm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Rs.warn(n),""}}}function Y1(){return new Date().toISOString().substring(0,10)}function l3(t,e=s3){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),K1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),K1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YL()?KL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return W1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return W1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function K1(t){return cm(JSON.stringify({version:2,heartbeats:t})).length}function u3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function d3(t){Za(new As("platform-logger",e=>new b4(e),"PRIVATE")),Za(new As("heartbeat",e=>new o3(e),"PRIVATE")),zr(zv,$1,t),zr(zv,$1,"esm2017"),zr("fire-js","")}d3("");function rE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f3=jx,Bx=new ff("auth","Firebase",jx());const um=new tE("@firebase/auth");function h3(t,...e){um.logLevel<=Qe.WARN&&um.warn(`Auth (${hl}): ${t}`,...e)}function Bp(t,...e){um.logLevel<=Qe.ERROR&&um.error(`Auth (${hl}): ${t}`,...e)}function li(t,...e){throw iE(t,...e)}function Oi(t,...e){return iE(t,...e)}function zx(t,e,n){const r=Object.assign(Object.assign({},f3()),{[e]:n});return new ff("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return zx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bx.create(t,...e)}function xe(t,e,...n){if(!t)throw iE(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bp(e),new Error(e)}function Is(t,e){t||ys(e)}function qv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p3(){return Q1()==="http:"||Q1()==="https:"}function Q1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function m3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p3()||qL()||"connection"in navigator)?navigator.onLine:!0}function g3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=zL()||$L()}get(){return m3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sE(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const y3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v3=new mf(3e4,6e4);function co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vs(t,e,n,r,s={}){return Hx(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=hf(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},o);return HL()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&zi(t.emulatorConfig.host)&&(p.credentials="include"),Fx.fetch()(await qx(t,t.config.apiHost,n,d),p)})}async function Hx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y3),e);try{const s=new S3(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw _p(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw _p(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw _p(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw _p(t,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zx(t,y,p);li(t,y)}}catch(s){if(s instanceof di)throw s;li(t,"network-request-failed",{message:String(s)})}}async function ng(t,e,n,r,s={}){const o=await Vs(t,e,n,r,s);return"mfaPendingCredential"in o&&li(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function qx(t,e,n,r){const s=`${e}${n}?${r}`,o=t,c=o.config.emulator?sE(t.config,s):`${t.config.apiScheme}://${s}`;return _3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function E3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),v3.get())})}}function _p(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Oi(t,e,r);return s.customData._tokenResponse=n,s}function X1(t){return t!==void 0&&t.enterprise!==void 0}class b3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T3(t,e){return Vs(t,"GET","/v2/recaptchaConfig",co(t,e))}async function w3(t,e){return Vs(t,"POST","/v1/accounts:delete",e)}async function dm(t,e){return Vs(t,"POST","/v1/accounts:lookup",e)}function bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A3(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=aE(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:bd(ov(s.auth_time)),issuedAtTime:bd(ov(s.iat)),expirationTime:bd(ov(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ov(t){return Number(t)*1e3}function aE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const s=Cx(n);return s?JSON.parse(s):(Bp("Failed to decode base64 JWT payload"),null)}catch(s){return Bp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function J1(t){const e=aE(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof di&&R3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class I3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $v{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bd(this.lastLoginAt),this.creationTime=bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Pd(t,dm(n,{idToken:r}));xe(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$x(o.providerUserInfo):[],d=C3(t.providerData,c),f=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!d?.length,y=f?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new $v(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function x3(t){const e=at(t);await fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $x(t){return t.map(e=>{var{providerId:n}=e,r=rE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function N3(t,e){const n=await Hx(t,{},async()=>{const r=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await qx(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&zi(t.emulatorConfig.host)&&(f.credentials="include"),Fx.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k3(t,e){return Vs(t,"POST","/v2/accounts:revokeToken",co(t,e))}class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=J1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await N3(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new bc;return r&&(xe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(xe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return ys("not implemented")}}function xa(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=rE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $v(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pd(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A3(this,e)}reload(){return x3(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await Pd(this,w3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,c,d,f,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(d=n.tenantId)!==null&&d!==void 0?d:void 0,k=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,z=(p=n.createdAt)!==null&&p!==void 0?p:void 0,F=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Q,emailVerified:Z,isAnonymous:ue,providerData:se,stsTokenManager:x}=n;xe(Q&&x,e,"internal-error");const I=bc.fromJSON(this.name,x);xe(typeof Q=="string",e,"internal-error"),xa(_,e.name),xa(E,e.name),xe(typeof Z=="boolean",e,"internal-error"),xe(typeof ue=="boolean",e,"internal-error"),xa(w,e.name),xa(A,e.name),xa(N,e.name),xa(k,e.name),xa(z,e.name),xa(F,e.name);const O=new ri({uid:Q,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:ue,photoURL:A,phoneNumber:w,tenantId:N,stsTokenManager:I,createdAt:z,lastLoginAt:F});return se&&Array.isArray(se)&&(O.providerData=se.map(D=>Object.assign({},D))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new bc;s.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?$x(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,d=new bc;d.updateFromIdToken(r);const f=new ri({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $v(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,p),f}}const Z1=new Map;function _s(t){Is(t instanceof Function,"Expected a class definition");let e=Z1.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z1.set(t,e),e)}class Gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gx.type="NONE";const eA=Gx;function zp(t,e,n){return`firebase:${t}:${e}:${n}`}class Tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=zp(this.userKey,s.apiKey,o),this.fullPersistenceKey=zp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dm(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tc(_s(eA),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||_s(eA);const c=zp(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await dm(e,{idToken:y}).catch(()=>{});if(!E)break;_=await ri._fromGetAccountInfoResponse(e,E,y)}else _=ri._fromJSON(e,y);p!==o&&(d=_),o=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Tc(o,e,r):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Tc(o,e,r))}}function tA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jx(e))return"Blackberry";if(Zx(e))return"Webos";if(Yx(e))return"Safari";if((e.includes("chrome/")||Kx(e))&&!e.includes("edge/"))return"Chrome";if(Xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Wx(t=Ln()){return/firefox\//i.test(t)}function Yx(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kx(t=Ln()){return/crios\//i.test(t)}function Qx(t=Ln()){return/iemobile/i.test(t)}function Xx(t=Ln()){return/android/i.test(t)}function Jx(t=Ln()){return/blackberry/i.test(t)}function Zx(t=Ln()){return/webos/i.test(t)}function oE(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O3(t=Ln()){var e;return oE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D3(){return GL()&&document.documentMode===10}function eC(t=Ln()){return oE(t)||Xx(t)||Zx(t)||Jx(t)||/windows phone/i.test(t)||Qx(t)}function tC(t,e=[]){let n;switch(t){case"Browser":n=tA(Ln());break;case"Worker":n=`${tA(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${r}`}class M3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function P3(t,e={}){return Vs(t,"GET","/v2/passwordPolicy",co(t,e))}const L3=6;class U3{constructor(e){var n,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:L3,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class V3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nA(this),this.idTokenSubscription=new nA(this),this.beforeStateQueue=new M3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dm(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(qa(this));const n=e?at(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P3(this),n=new U3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&h3(`Error while retrieving App Check token: ${n.error}`),n?.token}}function pl(t){return at(t)}class nA{constructor(e){this.auth=e,this.observer=null,this.addObserver=e4(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j3(t){rg=t}function nC(t){return rg.loadJS(t)}function B3(){return rg.recaptchaEnterpriseScript}function z3(){return rg.gapiScript}function F3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class H3{constructor(){this.enterprise=new q3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $3="recaptcha-enterprise",rC="NO_RECAPTCHA";class G3{constructor(e){this.type=$3,this.auth=pl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{T3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new b3(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(f=>{d(f)})})}function s(o,c,d){const f=window.grecaptcha;X1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(rC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H3().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&X1(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=B3();f.length!==0&&(f+=d),nC(f).then(()=>{s(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function rA(t,e,n,r=!1,s=!1){const o=new G3(t);let c;if(s)c=rC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Gv(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rA(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await rA(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}function W3(t,e){const n=Yc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ja(o,e??{}))return s;li(s,"already-initialized")}return n.initialize({options:e})}function Y3(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_s);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function K3(t,e,n){const r=pl(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=iC(e),{host:c,port:d}=Q3(e),f=d===null?"":`:${d}`,p={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Ja(p,r.config.emulator)&&Ja(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,zi(c)?(df(`${o}//${c}${f}`),tg("Auth",!0)):X3()}function iC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q3(t){const e=iC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:iA(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:iA(c)}}}function iA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class lE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function J3(t,e){return Vs(t,"POST","/v1/accounts:signUp",e)}async function Z3(t,e){return ng(t,"POST","/v1/accounts:signInWithPassword",co(t,e))}async function e6(t,e){return Vs(t,"POST","/v1/accounts:sendOobCode",co(t,e))}async function t6(t,e){return e6(t,e)}async function n6(t,e){return ng(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}async function r6(t,e){return ng(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}class Ld extends lE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ld(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ld(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,n,"signInWithPassword",Z3);case"emailLink":return n6(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,r,"signUpPassword",J3);case"emailLink":return r6(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wc(t,e){return ng(t,"POST","/v1/accounts:signInWithIdp",co(t,e))}const i6="http://localhost";class sl extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=rE(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new sl(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return wc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wc(e,n)}buildRequest(){const e={requestUri:i6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hf(n)}return e}}function s6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a6(t){const e=gd(yd(t)).link,n=e?gd(yd(e)).deep_link_id:null,r=gd(yd(t)).deep_link_id;return(r?gd(yd(r)).link:null)||r||n||e||t}class cE{constructor(e){var n,r,s,o,c,d;const f=gd(yd(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,_=s6((s=f.mode)!==null&&s!==void 0?s:null);xe(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=a6(e);try{return new cE(n)}catch{return null}}}class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,n){return Ld._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cE.parseLink(n);return xe(r,"argument-error"),Ld._fromEmailAndCode(e,r.code,r.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gf extends sC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Da extends gf{constructor(){super("facebook.com")}static credential(e){return sl._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.FACEBOOK_SIGN_IN_METHOD="facebook.com";Da.PROVIDER_ID="facebook.com";class Ma extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ma.credential(n,r)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";class Pa extends gf{constructor(){super("github.com")}static credential(e){return sl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";class La extends gf{constructor(){super("twitter.com")}static credential(e,n){return sl._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return La.credential(n,r)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ri._fromIdTokenResponse(e,r,s),c=sA(r);return new xc({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sA(r);return new xc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hm extends di{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hm(e,n,r,s)}}function aC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(t,o,e,r):o})}async function o6(t,e,n=!1){const r=await Pd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",r)}async function l6(t,e,n=!1){const{auth:r}=t;if(Er(r.app))return Promise.reject(qa(r));const s="reauthenticate";try{const o=await Pd(t,aC(r,s,e,t),n);xe(o.idToken,r,"internal-error");const c=aE(o.idToken);xe(c,r,"internal-error");const{sub:d}=c;return xe(t.uid===d,r,"user-mismatch"),xc._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&li(r,"user-mismatch"),o}}async function oC(t,e,n=!1){if(Er(t.app))return Promise.reject(qa(t));const r="signIn",s=await aC(t,r,e),o=await xc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function c6(t,e){return oC(pl(t),e)}async function u6(t){const e=pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d6(t,e,n){const r=pl(t);await Gv(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",t6)}function f6(t,e,n){return Er(t.app)?Promise.reject(qa(t)):c6(at(t),Kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u6(t),r})}function h6(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function p6(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function m6(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function vX(t){return at(t).signOut()}const pm="__sak";class lC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const g6=1e3,y6=10;class cC extends lC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);D3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,y6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const _6=cC;class uC extends lC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uC.type="SESSION";const dC=uC;function v6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async p=>p(n.origin,o)),f=await v6(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];function uE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class E6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const p=uE("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Di(){return window}function S6(t){Di().location.href=t}function fC(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function b6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T6(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w6(){return fC()?self:null}const hC="firebaseLocalStorageDb",A6=1,mm="firebaseLocalStorage",pC="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sg(t,e){return t.transaction([mm],e?"readwrite":"readonly").objectStore(mm)}function R6(){const t=indexedDB.deleteDatabase(hC);return new yf(t).toPromise()}function Wv(){const t=indexedDB.open(hC,A6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mm,{keyPath:pC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mm)?e(r):(r.close(),await R6(),e(await Wv()))})})}async function aA(t,e,n){const r=sg(t,!0).put({[pC]:e,value:n});return new yf(r).toPromise()}async function I6(t,e){const n=sg(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function oA(t,e){const n=sg(t,!0).delete(e);return new yf(n).toPromise()}const x6=800,C6=3;class mC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(w6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await b6(),!this.activeServiceWorker)return;this.sender=new E6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await aA(e,pm,"1"),await oA(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=sg(s,!1).getAll();return new yf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mC.type="LOCAL";const N6=mC;new mf(3e4,6e4);function k6(t,e){return e?_s(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class dE extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O6(t){return oC(t.auth,new dE(t),t.bypassAuthState)}function D6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),l6(n,new dE(t),t.bypassAuthState)}async function M6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),o6(n,new dE(t),t.bypassAuthState)}class gC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O6;case"linkViaPopup":case"linkViaRedirect":return M6;case"reauthViaPopup":case"reauthViaRedirect":return D6;default:li(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P6=new mf(2e3,1e4);class gc extends gC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=uE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P6.get())};e()}}gc.currentPopupAction=null;const L6="pendingRedirect",Fp=new Map;class U6 extends gC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fp.get(this.auth._key());if(!e){try{const r=await V6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fp.set(this.auth._key(),e)}return this.bypassAuthState||Fp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V6(t,e){const n=z6(e),r=B6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function j6(t,e){Fp.set(t._key(),e)}function B6(t){return _s(t._redirectPersistence)}function z6(t){return zp(L6,t.config.apiKey,t.name)}async function F6(t,e,n=!1){if(Er(t.app))return Promise.reject(qa(t));const r=pl(t),s=k6(r,e),c=await new U6(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const H6=600*1e3;class q6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H6&&this.cachedEventUids.clear(),this.cachedEventUids.has(lA(e))}saveEventToCache(e){this.cachedEventUids.add(lA(e)),this.lastProcessedEventTime=Date.now()}}function lA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yC(t);default:return!1}}async function G6(t,e={}){return Vs(t,"GET","/v1/projects",e)}const W6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y6=/^https?/;async function K6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G6(t);for(const n of e)try{if(Q6(n))return}catch{}li(t,"unauthorized-domain")}function Q6(t){const e=qv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Y6.test(n))return!1;if(W6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const X6=new mf(3e4,6e4);function cA(){const t=Di().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J6(t){return new Promise((e,n)=>{var r,s,o;function c(){cA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cA(),n(Oi(t,"network-request-failed"))},timeout:X6.get()})}if(!((s=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Di().gapi)===null||o===void 0)&&o.load)c();else{const d=F3("iframefcb");return Di()[d]=()=>{gapi.load?c():n(Oi(t,"network-request-failed"))},nC(`${z3()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Hp=null,e})}let Hp=null;function Z6(t){return Hp=Hp||J6(t),Hp}const e5=new mf(5e3,15e3),t5="__/auth/iframe",n5="emulator/auth/iframe",r5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s5(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sE(e,n5):`https://${t.config.authDomain}/${t5}`,r={apiKey:e.apiKey,appName:t.name,v:hl},s=i5.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${hf(r).slice(1)}`}async function a5(t){const e=await Z6(t),n=Di().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:s5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r5,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Oi(t,"network-request-failed"),d=Di().setTimeout(()=>{o(c)},e5.get());function f(){Di().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(c)})}))}const o5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l5=500,c5=600,u5="_blank",d5="http://localhost";class uA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f5(t,e,n,r=l5,s=c5){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},o5),{width:r.toString(),height:s.toString(),top:o,left:c}),p=Ln().toLowerCase();n&&(d=Kx(p)?u5:n),Wx(p)&&(e=e||d5,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[w,A])=>`${E}${w}=${A},`,"");if(O3(p)&&d!=="_self")return h5(e||"",d),new uA(null);const _=window.open(e||"",d,y);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new uA(_)}function h5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const p5="__/auth/handler",m5="emulator/auth/handler",g5=encodeURIComponent("fac");async function dA(t,e,n,r,s,o){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hl,eventId:s};if(e instanceof sC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ZL(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof gf){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),p=f?`#${g5}=${encodeURIComponent(f)}`:"";return`${y5(t)}?${hf(d).slice(1)}${p}`}function y5({config:t}){return t.emulator?sE(t,m5):`https://${t.authDomain}/${p5}`}const lv="webStorageSupport";class _5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dC,this._completeRedirectFn=F6,this._overrideRedirectResult=j6}async _openPopup(e,n,r,s){var o;Is((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await dA(e,n,r,qv(),s);return f5(e,c,uE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await dA(e,n,r,qv(),s);return S6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a5(e),r=new q6(e);return n.register("authEvent",s=>(xe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lv,{type:lv},s=>{var o;const c=(o=s?.[0])===null||o===void 0?void 0:o[lv];c!==void 0&&n(!!c),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eC()||Yx()||oE()}}const v5=_5;var fA="@firebase/auth",hA="1.10.8";class E5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b5(t){Za(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(t)},p=new V3(r,s,o,f);return Y3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Za(new As("auth-internal",e=>{const n=pl(e.getProvider("auth").getImmediate());return(r=>new E5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(fA,hA,S5(t)),zr(fA,hA,"esm2017")}const T5=300,w5=Ox("authIdTokenMaxAge")||T5;let pA=null;const A5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w5)return;const s=n?.token;pA!==s&&(pA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function R5(t=pf()){const e=Yc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W3(t,{popupRedirectResolver:v5,persistence:[N6,_6,dC]}),r=Ox("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=A5(o.toString());p6(n,c,()=>c(n.currentUser)),h6(n,d=>c(d))}}const s=Nx("auth");return s&&K3(n,`http://${s}`),n}function I5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}j3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Oi("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",I5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b5("Browser");var x5="firebase",C5="11.10.0";zr(x5,C5,"app");var mA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $a,_C;(function(){var t;function e(x,I){function O(){}O.prototype=I.prototype,x.D=I.prototype,x.prototype=new O,x.prototype.constructor=x,x.C=function(D,P,U){for(var M=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)M[ge-2]=arguments[ge];return I.prototype[P].apply(D,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,I,O){O||(O=0);var D=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)D[P]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(P=0;16>P;++P)D[P]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=x.g[0],O=x.g[1],P=x.g[2];var U=x.g[3],M=I+(U^O&(P^U))+D[0]+3614090360&4294967295;I=O+(M<<7&4294967295|M>>>25),M=U+(P^I&(O^P))+D[1]+3905402710&4294967295,U=I+(M<<12&4294967295|M>>>20),M=P+(O^U&(I^O))+D[2]+606105819&4294967295,P=U+(M<<17&4294967295|M>>>15),M=O+(I^P&(U^I))+D[3]+3250441966&4294967295,O=P+(M<<22&4294967295|M>>>10),M=I+(U^O&(P^U))+D[4]+4118548399&4294967295,I=O+(M<<7&4294967295|M>>>25),M=U+(P^I&(O^P))+D[5]+1200080426&4294967295,U=I+(M<<12&4294967295|M>>>20),M=P+(O^U&(I^O))+D[6]+2821735955&4294967295,P=U+(M<<17&4294967295|M>>>15),M=O+(I^P&(U^I))+D[7]+4249261313&4294967295,O=P+(M<<22&4294967295|M>>>10),M=I+(U^O&(P^U))+D[8]+1770035416&4294967295,I=O+(M<<7&4294967295|M>>>25),M=U+(P^I&(O^P))+D[9]+2336552879&4294967295,U=I+(M<<12&4294967295|M>>>20),M=P+(O^U&(I^O))+D[10]+4294925233&4294967295,P=U+(M<<17&4294967295|M>>>15),M=O+(I^P&(U^I))+D[11]+2304563134&4294967295,O=P+(M<<22&4294967295|M>>>10),M=I+(U^O&(P^U))+D[12]+1804603682&4294967295,I=O+(M<<7&4294967295|M>>>25),M=U+(P^I&(O^P))+D[13]+4254626195&4294967295,U=I+(M<<12&4294967295|M>>>20),M=P+(O^U&(I^O))+D[14]+2792965006&4294967295,P=U+(M<<17&4294967295|M>>>15),M=O+(I^P&(U^I))+D[15]+1236535329&4294967295,O=P+(M<<22&4294967295|M>>>10),M=I+(P^U&(O^P))+D[1]+4129170786&4294967295,I=O+(M<<5&4294967295|M>>>27),M=U+(O^P&(I^O))+D[6]+3225465664&4294967295,U=I+(M<<9&4294967295|M>>>23),M=P+(I^O&(U^I))+D[11]+643717713&4294967295,P=U+(M<<14&4294967295|M>>>18),M=O+(U^I&(P^U))+D[0]+3921069994&4294967295,O=P+(M<<20&4294967295|M>>>12),M=I+(P^U&(O^P))+D[5]+3593408605&4294967295,I=O+(M<<5&4294967295|M>>>27),M=U+(O^P&(I^O))+D[10]+38016083&4294967295,U=I+(M<<9&4294967295|M>>>23),M=P+(I^O&(U^I))+D[15]+3634488961&4294967295,P=U+(M<<14&4294967295|M>>>18),M=O+(U^I&(P^U))+D[4]+3889429448&4294967295,O=P+(M<<20&4294967295|M>>>12),M=I+(P^U&(O^P))+D[9]+568446438&4294967295,I=O+(M<<5&4294967295|M>>>27),M=U+(O^P&(I^O))+D[14]+3275163606&4294967295,U=I+(M<<9&4294967295|M>>>23),M=P+(I^O&(U^I))+D[3]+4107603335&4294967295,P=U+(M<<14&4294967295|M>>>18),M=O+(U^I&(P^U))+D[8]+1163531501&4294967295,O=P+(M<<20&4294967295|M>>>12),M=I+(P^U&(O^P))+D[13]+2850285829&4294967295,I=O+(M<<5&4294967295|M>>>27),M=U+(O^P&(I^O))+D[2]+4243563512&4294967295,U=I+(M<<9&4294967295|M>>>23),M=P+(I^O&(U^I))+D[7]+1735328473&4294967295,P=U+(M<<14&4294967295|M>>>18),M=O+(U^I&(P^U))+D[12]+2368359562&4294967295,O=P+(M<<20&4294967295|M>>>12),M=I+(O^P^U)+D[5]+4294588738&4294967295,I=O+(M<<4&4294967295|M>>>28),M=U+(I^O^P)+D[8]+2272392833&4294967295,U=I+(M<<11&4294967295|M>>>21),M=P+(U^I^O)+D[11]+1839030562&4294967295,P=U+(M<<16&4294967295|M>>>16),M=O+(P^U^I)+D[14]+4259657740&4294967295,O=P+(M<<23&4294967295|M>>>9),M=I+(O^P^U)+D[1]+2763975236&4294967295,I=O+(M<<4&4294967295|M>>>28),M=U+(I^O^P)+D[4]+1272893353&4294967295,U=I+(M<<11&4294967295|M>>>21),M=P+(U^I^O)+D[7]+4139469664&4294967295,P=U+(M<<16&4294967295|M>>>16),M=O+(P^U^I)+D[10]+3200236656&4294967295,O=P+(M<<23&4294967295|M>>>9),M=I+(O^P^U)+D[13]+681279174&4294967295,I=O+(M<<4&4294967295|M>>>28),M=U+(I^O^P)+D[0]+3936430074&4294967295,U=I+(M<<11&4294967295|M>>>21),M=P+(U^I^O)+D[3]+3572445317&4294967295,P=U+(M<<16&4294967295|M>>>16),M=O+(P^U^I)+D[6]+76029189&4294967295,O=P+(M<<23&4294967295|M>>>9),M=I+(O^P^U)+D[9]+3654602809&4294967295,I=O+(M<<4&4294967295|M>>>28),M=U+(I^O^P)+D[12]+3873151461&4294967295,U=I+(M<<11&4294967295|M>>>21),M=P+(U^I^O)+D[15]+530742520&4294967295,P=U+(M<<16&4294967295|M>>>16),M=O+(P^U^I)+D[2]+3299628645&4294967295,O=P+(M<<23&4294967295|M>>>9),M=I+(P^(O|~U))+D[0]+4096336452&4294967295,I=O+(M<<6&4294967295|M>>>26),M=U+(O^(I|~P))+D[7]+1126891415&4294967295,U=I+(M<<10&4294967295|M>>>22),M=P+(I^(U|~O))+D[14]+2878612391&4294967295,P=U+(M<<15&4294967295|M>>>17),M=O+(U^(P|~I))+D[5]+4237533241&4294967295,O=P+(M<<21&4294967295|M>>>11),M=I+(P^(O|~U))+D[12]+1700485571&4294967295,I=O+(M<<6&4294967295|M>>>26),M=U+(O^(I|~P))+D[3]+2399980690&4294967295,U=I+(M<<10&4294967295|M>>>22),M=P+(I^(U|~O))+D[10]+4293915773&4294967295,P=U+(M<<15&4294967295|M>>>17),M=O+(U^(P|~I))+D[1]+2240044497&4294967295,O=P+(M<<21&4294967295|M>>>11),M=I+(P^(O|~U))+D[8]+1873313359&4294967295,I=O+(M<<6&4294967295|M>>>26),M=U+(O^(I|~P))+D[15]+4264355552&4294967295,U=I+(M<<10&4294967295|M>>>22),M=P+(I^(U|~O))+D[6]+2734768916&4294967295,P=U+(M<<15&4294967295|M>>>17),M=O+(U^(P|~I))+D[13]+1309151649&4294967295,O=P+(M<<21&4294967295|M>>>11),M=I+(P^(O|~U))+D[4]+4149444226&4294967295,I=O+(M<<6&4294967295|M>>>26),M=U+(O^(I|~P))+D[11]+3174756917&4294967295,U=I+(M<<10&4294967295|M>>>22),M=P+(I^(U|~O))+D[2]+718787259&4294967295,P=U+(M<<15&4294967295|M>>>17),M=O+(U^(P|~I))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var O=I-this.blockSize,D=this.B,P=this.h,U=0;U<I;){if(P==0)for(;U<=O;)s(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<I;)if(D[P++]=x.charCodeAt(U++),P==this.blockSize){s(this,D),P=0;break}}else for(;U<I;)if(D[P++]=x[U++],P==this.blockSize){s(this,D),P=0;break}}this.h=P,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var O=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=O&255,O/=256;for(this.u(x),x=Array(16),I=O=0;4>I;++I)for(var D=0;32>D;D+=8)x[O++]=this.g[I]>>>D&255;return x};function o(x,I){var O=d;return Object.prototype.hasOwnProperty.call(O,x)?O[x]:O[x]=I(x)}function c(x,I){this.h=I;for(var O=[],D=!0,P=x.length-1;0<=P;P--){var U=x[P]|0;D&&U==I||(O[P]=U,D=!1)}this.g=O}var d={};function f(x){return-128<=x&&128>x?o(x,function(I){return new c([I|0],0>I?-1:0)}):new c([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return k(p(-x));for(var I=[],O=1,D=0;x>=O;D++)I[D]=x/O|0,O*=4294967296;return new c(I,0)}function y(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return k(y(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(I,8)),D=_,P=0;P<x.length;P+=8){var U=Math.min(8,x.length-P),M=parseInt(x.substring(P,P+U),I);8>U?(U=p(Math.pow(I,U)),D=D.j(U).add(p(M))):(D=D.j(O),D=D.add(p(M)))}return D}var _=f(0),E=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(N(this))return-k(this).m();for(var x=0,I=1,O=0;O<this.g.length;O++){var D=this.i(O);x+=(0<=D?D:4294967296+D)*I,I*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(N(this))return"-"+k(this).toString(x);for(var I=p(Math.pow(x,6)),O=this,D="";;){var P=Z(O,I).g;O=z(O,P.j(I));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(x);if(O=P,A(O))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function N(x){return x.h==-1}t.l=function(x){return x=z(this,x),N(x)?-1:A(x)?0:1};function k(x){for(var I=x.g.length,O=[],D=0;D<I;D++)O[D]=~x.g[D];return new c(O,~x.h).add(E)}t.abs=function(){return N(this)?k(this):this},t.add=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],D=0,P=0;P<=I;P++){var U=D+(this.i(P)&65535)+(x.i(P)&65535),M=(U>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);D=M>>>16,U&=65535,M&=65535,O[P]=M<<16|U}return new c(O,O[O.length-1]&-2147483648?-1:0)};function z(x,I){return x.add(k(I))}t.j=function(x){if(A(this)||A(x))return _;if(N(this))return N(x)?k(this).j(k(x)):k(k(this).j(x));if(N(x))return k(this.j(k(x)));if(0>this.l(w)&&0>x.l(w))return p(this.m()*x.m());for(var I=this.g.length+x.g.length,O=[],D=0;D<2*I;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<x.g.length;P++){var U=this.i(D)>>>16,M=this.i(D)&65535,ge=x.i(P)>>>16,De=x.i(P)&65535;O[2*D+2*P]+=M*De,F(O,2*D+2*P),O[2*D+2*P+1]+=U*De,F(O,2*D+2*P+1),O[2*D+2*P+1]+=M*ge,F(O,2*D+2*P+1),O[2*D+2*P+2]+=U*ge,F(O,2*D+2*P+2)}for(D=0;D<I;D++)O[D]=O[2*D+1]<<16|O[2*D];for(D=I;D<2*I;D++)O[D]=0;return new c(O,0)};function F(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function Q(x,I){this.g=x,this.h=I}function Z(x,I){if(A(I))throw Error("division by zero");if(A(x))return new Q(_,_);if(N(x))return I=Z(k(x),I),new Q(k(I.g),k(I.h));if(N(I))return I=Z(x,k(I)),new Q(k(I.g),I.h);if(30<x.g.length){if(N(x)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var O=E,D=I;0>=D.l(x);)O=ue(O),D=ue(D);var P=se(O,1),U=se(D,1);for(D=se(D,2),O=se(O,2);!A(D);){var M=U.add(D);0>=M.l(x)&&(P=P.add(O),U=M),D=se(D,1),O=se(O,1)}return I=z(x,P.j(I)),new Q(P,I)}for(P=_;0<=x.l(I);){for(O=Math.max(1,Math.floor(x.m()/I.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=p(O),M=U.j(I);N(M)||0<M.l(x);)O-=D,U=p(O),M=U.j(I);A(U)&&(U=E),P=P.add(U),x=z(x,M)}return new Q(P,x)}t.A=function(x){return Z(this,x).h},t.and=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],D=0;D<I;D++)O[D]=this.i(D)&x.i(D);return new c(O,this.h&x.h)},t.or=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],D=0;D<I;D++)O[D]=this.i(D)|x.i(D);return new c(O,this.h|x.h)},t.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],D=0;D<I;D++)O[D]=this.i(D)^x.i(D);return new c(O,this.h^x.h)};function ue(x){for(var I=x.g.length+1,O=[],D=0;D<I;D++)O[D]=x.i(D)<<1|x.i(D-1)>>>31;return new c(O,x.h)}function se(x,I){var O=I>>5;I%=32;for(var D=x.g.length-O,P=[],U=0;U<D;U++)P[U]=0<I?x.i(U+O)>>>I|x.i(U+O+1)<<32-I:x.i(U+O);return new c(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_C=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,$a=c}).apply(typeof mA<"u"?mA:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vC,_d,EC,qp,Yv,SC,bC,TC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var b=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var $=h[C];if(!($ in b))break e;b=b[$]}h=h[h.length-1],C=b[h],v=v(C),v!=C&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var b=0,C=!1,$={next:function(){if(!C&&b<h.length){var J=b++;return{value:v(J,h[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(h){return h||function(){return o(this,function(v,b){return b})}});var c=c||{},d=this||self;function f(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,C),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function w(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function A(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(C,$,J){for(var he=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)he[ft-2]=arguments[ft];return v.prototype[$].apply(C,he)}}function N(h){const v=h.length;if(0<v){const b=Array(v);for(let C=0;C<v;C++)b[C]=h[C];return b}return[]}function k(h,v){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(f(C)){const $=h.length||0,J=C.length||0;h.length=$+J;for(let he=0;he<J;he++)h[$+he]=C[he]}else h.push(C)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var ue=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function se(h,v,b){for(const C in h)v.call(b,h[C],C,h)}function x(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function I(h){const v={};for(const b in h)v[b]=h[b];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let b,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(b in C)h[b]=C[b];for(let J=0;J<O.length;J++)b=O[J],Object.prototype.hasOwnProperty.call(C,b)&&(h[b]=C[b])}}function P(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function U(h){d.setTimeout(()=>{throw h},0)}function M(){var h=fe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ge{constructor(){this.h=this.g=null}add(v,b){const C=De.get();C.set(v,b),this.h?this.h.next=C:this.g=C,this.h=C}}var De=new z(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,te=!1,fe=new ge,le=()=>{const h=d.Promise.resolve(void 0);ae=()=>{h.then(L)}};var L=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(b){U(b)}var v=De;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}te=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return h})();function ve(h,v){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ue){e:{try{Z(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ve.aa.h.call(this)}}A(ve,re);var Oe={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),It=0;function gt(h,v,b,C,$){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!C,this.ha=$,this.key=++It,this.da=this.fa=!1}function Cn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ir(h){this.src=h,this.g={},this.h=0}Ir.prototype.add=function(h,v,b,C,$){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var he=js(h,v,C,$);return-1<he?(v=h[he],b||(v.fa=!1)):(v=new gt(v,this.src,J,!!C,$),v.fa=b,h.push(v)),v};function Fi(h,v){var b=v.type;if(b in h.g){var C=h.g[b],$=Array.prototype.indexOf.call(C,v,void 0),J;(J=0<=$)&&Array.prototype.splice.call(C,$,1),J&&(Cn(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function js(h,v,b,C){for(var $=0;$<h.length;++$){var J=h[$];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==C)return $}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),Un={};function pi(h,v,b,C,$){if(Array.isArray(v)){for(var J=0;J<v.length;J++)pi(h,v[J],b,C,$);return null}return b=gi(b),h&&h[Me]?h.K(v,b,p(C)?!!C.capture:!1,$):_o(h,v,b,!1,C,$)}function _o(h,v,b,C,$,J){if(!v)throw Error("Invalid event type");var he=p($)?!!$.capture:!!$,ft=Nt(h);if(ft||(h[nn]=ft=new Ir(h)),b=ft.add(v,b,C,he,J),b.proxy)return b;if(C=Hi(),b.proxy=C,C.src=h,C.listener=b,h.addEventListener)me||($=he),$===void 0&&($=!1),h.addEventListener(v.toString(),C,$);else if(h.attachEvent)h.attachEvent(cn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hi(){function h(b){return v.call(h.src,h.listener,b)}const v=Fe;return h}function mi(h,v,b,C,$){if(Array.isArray(v))for(var J=0;J<v.length;J++)mi(h,v[J],b,C,$);else C=p(C)?!!C.capture:!!C,b=gi(b),h&&h[Me]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],b=js(J,b,C,$),-1<b&&(Cn(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=Nt(h))&&(v=h.g[v.toString()],h=-1,v&&(h=js(v,b,C,$)),(b=-1<h?v[h]:null)&&ze(b))}function ze(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Me])Fi(v.i,h);else{var b=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(b,C,h.capture):v.detachEvent?v.detachEvent(cn(b),C):v.addListener&&v.removeListener&&v.removeListener(C),(b=Nt(v))?(Fi(b,h),b.h==0&&(b.src=null,v[nn]=null)):Cn(h)}}}function cn(h){return h in Un?Un[h]:Un[h]="on"+h}function Fe(h,v){if(h.da)h=!0;else{v=new ve(v,this);var b=h.listener,C=h.ha||h.src;h.fa&&ze(h),h=b.call(C,v)}return h}function Nt(h){return h=h[nn],h instanceof Ir?h:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function gi(h){return typeof h=="function"?h:(h[Re]||(h[Re]=function(v){return h.handleEvent(v)}),h[Re])}function rn(){q.call(this),this.i=new Ir(this),this.M=this,this.F=null}A(rn,q),rn.prototype[Me]=!0,rn.prototype.removeEventListener=function(h,v,b,C){mi(this,h,v,b,C)};function un(h,v){var b,C=h.F;if(C)for(b=[];C;C=C.F)b.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new re(v,h);else if(v instanceof re)v.target=v.target||h;else{var $=v;v=new re(C,h),D(v,$)}if($=!0,b)for(var J=b.length-1;0<=J;J--){var he=v.g=b[J];$=qi(he,C,!0,v)&&$}if(he=v.g=h,$=qi(he,C,!0,v)&&$,$=qi(he,C,!1,v)&&$,b)for(J=0;J<b.length;J++)he=v.g=b[J],$=qi(he,C,!1,v)&&$}rn.prototype.N=function(){if(rn.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],C=0;C<b.length;C++)Cn(b[C]);delete h.g[v],h.h--}}this.F=null},rn.prototype.K=function(h,v,b,C){return this.i.add(String(h),v,!1,b,C)},rn.prototype.L=function(h,v,b,C){return this.i.add(String(h),v,!0,b,C)};function qi(h,v,b,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==b){var ft=he.listener,$t=he.ha||he.src;he.fa&&Fi(h.i,he),$=ft.call($t,C)!==!1&&$}}return $&&!C.defaultPrevented}function $f(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function uu(h){h.g=$f(()=>{h.g=null,h.i&&(h.i=!1,uu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Gg extends q{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(h){q.call(this),this.h=h,this.g={}}A(vo,q);var Bs=[];function Nn(h){se(h.g,function(v,b){this.g.hasOwnProperty(b)&&ze(v)},h),h.g={}}vo.prototype.N=function(){vo.aa.N.call(this),Nn(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=d.JSON.stringify,Vn=d.JSON.parse,Wg=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function du(){}du.prototype.h=null;function Gf(h){return h.h||(h.h=h.i())}function Eo(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zs(){re.call(this,"d")}A(zs,re);function Yr(){re.call(this,"c")}A(Yr,re);var Cr={},Fs=null;function Tl(){return Fs=Fs||new rn}Cr.La="serverreachability";function fu(h){re.call(this,Cr.La,h)}A(fu,re);function $i(h){const v=Tl();un(v,new fu(v))}Cr.STAT_EVENT="statevent";function Hs(h,v){re.call(this,Cr.STAT_EVENT,h),this.stat=v}A(Hs,re);function vn(h){const v=Tl();un(v,new Hs(v,h))}Cr.Ma="timingevent";function hu(h,v){re.call(this,Cr.Ma,h),this.size=v}A(hu,re);function qs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function $s(){this.g=!0}$s.prototype.xa=function(){this.g=!1};function pu(h,v,b,C,$,J){h.info(function(){if(h.g)if(J)for(var he="",ft=J.split("&"),$t=0;$t<ft.length;$t++){var He=ft[$t].split("=");if(1<He.length){var fn=He[0];He=He[1];var hn=fn.split("_");he=2<=hn.length&&hn[1]=="type"?he+(fn+"="+He+"&"):he+(fn+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+v+`
`+b+`
`+he})}function mu(h,v,b,C,$,J,he){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+v+`
`+b+`
`+J+" "+he})}function Gi(h,v,b,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+_i(h,b)+(C?" "+C:"")})}function Wf(h,v){h.info(function(){return"TIMEOUT: "+v})}$s.prototype.info=function(){};function _i(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var C=b[h];if(!(2>C.length)){var $=C[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<$.length;he++)$[he]=""}}}}return xr(b)}catch{return v}}var Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},En={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function Gs(){}A(Gs,du),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},vi=new Gs;function Ei(h,v,b,C){this.j=h,this.i=v,this.l=b,this.R=C||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yf}function Yf(){this.i=null,this.g="",this.h=!1}var gu={},Wi={};function So(h,v,b){h.L=1,h.v=wo(Mt(v)),h.m=b,h.P=!0,Yi(h,null)}function Yi(h,v){h.F=Date.now(),Kr(h),h.A=Mt(h.v);var b=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Xi(b.i,"t",C),h.C=0,b=h.j.J,h.h=new Yf,h.g=uh(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Gg(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,C=h.ca;var $="readystatechange";Array.isArray($)||($&&(Bs[0]=$.toString()),$=Bs);for(var J=0;J<$.length;J++){var he=pi(b,$[J],C||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),$i(),pu(h.i,h.u,h.A,h.l,h.R,h.m)}Ei.prototype.ca=function(h){h=h.target;const v=this.M;v&&zn(h)==3?v.j():this.Y(h)},Ei.prototype.Y=function(h){try{if(h==this.g)e:{const hn=zn(this.g);var v=this.g.Ba();const sa=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||hn!=4||v==7||(v==8||0>=sa?$i(3):$i(2)),wl(this);var b=this.g.Z();this.X=b;t:if(Ki(this)){var C=Io(this.g);h="";var $=C.length,J=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),Ws(this);var he="";break t}this.h.i=new d.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(J&&v==$-1)});C.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=b==200,mu(this.i,this.u,this.A,this.l,this.R,hn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,$t=this.g;if((ft=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ft)){var He=ft;break t}}He=null}if(b=He)Gi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,b);else{this.o=!1,this.s=3,vn(12),jn(this),Ws(this);break e}}if(this.P){b=!0;let Xn;for(;!this.J&&this.C<he.length;)if(Xn=bo(this,he),Xn==Wi){hn==4&&(this.s=4,vn(14),b=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==gu){this.s=4,vn(15),Gi(this.i,this.l,he,"[Invalid Chunk]"),b=!1;break}else Gi(this.i,this.l,Xn,null),Si(this,Xn);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||he.length!=0||this.h.h||(this.s=1,vn(16),b=!1),this.o=this.o&&b,!b)Gi(this.i,this.l,he,"[Invalid Chunked Response]"),jn(this),Ws(this);else if(0<he.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Iu(fn),fn.M=!0,vn(11))}}else Gi(this.i,this.l,he,null),Si(this,he);hn==4&&jn(this),this.o&&!this.J&&(hn==4?oh(this.j,this):(this.o=!1,Kr(this)))}else th(this.g),b==400&&0<he.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),jn(this),Ws(this)}}}catch{}};function Ki(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function bo(h,v){var b=h.C,C=v.indexOf(`
`,b);return C==-1?Wi:(b=Number(v.substring(b,C)),isNaN(b)?gu:(C+=1,C+b>v.length?Wi:(v=v.slice(C,C+b),h.C=C+b,v)))}Ei.prototype.cancel=function(){this.J=!0,jn(this)};function Kr(h){h.S=Date.now()+h.I,zt(h,h.I)}function zt(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qs(E(h.ba,h),v)}function wl(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Ei.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Wf(this.i,this.A),this.L!=2&&($i(),vn(17)),jn(this),this.s=2,Ws(this)):zt(this,this.S-h)};function Ws(h){h.j.G==0||h.J||oh(h.j,h)}function jn(h){wl(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Nn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Si(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Ys(b.h,h))){if(!h.K&&Ys(b.h,h)&&b.G==3){try{var C=b.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)ra(b),na(b);else break e;Ru(b),vn(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=qs(E(b.Za,b),6e3));if(1>=Kf(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Zi(b,11)}else if((h.K||b.g==h)&&ra(b),!F(v))for($=b.Da.g.parse(v),v=0;v<$.length;v++){let He=$[v];if(b.T=He[0],He=He[1],b.G==2)if(He[0]=="c"){b.K=He[1],b.ia=He[2];const fn=He[3];fn!=null&&(b.la=fn,b.j.info("VER="+b.la));const hn=He[4];hn!=null&&(b.Aa=hn,b.j.info("SVER="+b.Aa));const sa=He[5];sa!=null&&typeof sa=="number"&&0<sa&&(C=1.5*sa,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Xn=h.g;if(Xn){const No=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var J=C.h;J.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ks(J,J.h),J.h=null))}if(C.D){const es=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;es&&(C.ya=es,ot(C.I,C.D,es))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var he=h;if(C.qa=ch(C,C.J?C.ia:null,C.W),he.K){Nr(C.h,he);var ft=he,$t=C.L;$t&&(ft.I=$t),ft.B&&(wl(ft),Kr(ft)),C.g=he}else sh(C);0<b.i.length&&Ol(b)}else He[0]!="stop"&&He[0]!="close"||Zi(b,7);else b.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Zi(b,7):wu(b):He[0]!="noop"&&b.l&&b.l.ta(He),b.v=0)}}$i(4)}catch{}}var Yg=class{constructor(h,v){this.g=h,this.map=v}};function yu(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _u(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Kf(h){return h.h?1:h.g?h.g.size:0}function Ys(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ks(h,v){h.g?h.g.add(v):h.h=v}function Nr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}yu.prototype.cancel=function(){if(this.i=Bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return N(h.i)}function Qf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var v=[],b=h.length,C=0;C<b;C++)v.push(h[C]);return v}v=[],b=0;for(C in h)v[b++]=h[C];return v}function Kg(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const C in h)v[b++]=C;return v}}}function Al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Kg(h),C=Qf(h),$=C.length,J=0;J<$;J++)v.call(void 0,C[J],b&&b[J],h)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rl(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var C=h[b].indexOf("="),$=null;if(0<=C){var J=h[b].substring(0,C);$=h[b].substring(C+1)}else J=h[b];v(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Qi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qi){this.h=h.h,Qs(this,h.j),this.o=h.o,this.g=h.g,To(this,h.s),this.l=h.l;var v=h.i,b=new bi;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Il(this,b),this.m=h.m}else h&&(v=String(h).match(vu))?(this.h=!1,Qs(this,v[1]||"",!0),this.o=Xs(v[2]||""),this.g=Xs(v[3]||"",!0),To(this,v[4]),this.l=Xs(v[5]||"",!0),Il(this,v[6]||"",!0),this.m=Xs(v[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Qi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(kr(v,Eu,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(kr(v,Eu,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(kr(b,b.charAt(0)=="/"?Su:Xf,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",kr(b,Jg)),h.join("")};function Mt(h){return new Qi(h)}function Qs(h,v,b){h.j=b?Xs(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function To(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Il(h,v,b){v instanceof bi?(h.i=v,Jf(h.i,h.h)):(b||(v=kr(v,Xg)),h.i=new bi(v,h.h))}function ot(h,v,b){h.i.set(v,b)}function wo(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Xs(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kr(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Qg),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qg(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Eu=/[#\/\?@]/g,Xf=/[#\?:]/g,Su=/[#\?]/g,Xg=/[#\?@]/g,Jg=/#/g;function bi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Rl(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=bi.prototype,t.add=function(h,v){dn(this),this.i=null,h=ur(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function xl(h,v){dn(h),v=ur(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Cl(h,v){return dn(h),v=ur(h,v),h.g.has(v)}t.forEach=function(h,v){dn(this),this.g.forEach(function(b,C){b.forEach(function($){h.call(v,$,C,this)},this)},this)},t.na=function(){dn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let C=0;C<v.length;C++){const $=h[C];for(let J=0;J<$.length;J++)b.push(v[C])}return b},t.V=function(h){dn(this);let v=[];if(typeof h=="string")Cl(this,h)&&(v=v.concat(this.g.get(ur(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},t.set=function(h,v){return dn(this),this.i=null,h=ur(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Xi(h,v,b){xl(h,v),0<b.length&&(h.i=null,h.g.set(ur(h,v),N(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var C=v[b];const J=encodeURIComponent(String(C)),he=this.V(C);for(C=0;C<he.length;C++){var $=J;he[C]!==""&&($+="="+encodeURIComponent(String(he[C]))),h.push($)}}return this.i=h.join("&")};function ur(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Jf(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(b,C){var $=C.toLowerCase();C!=$&&(xl(this,C),Xi(this,$,b))},h)),h.j=v}function bu(h,v){const b=new $s;if(d.Image){const C=new Image;C.onload=w(Qn,b,"TestLoadImage: loaded",!0,v,C),C.onerror=w(Qn,b,"TestLoadImage: error",!1,v,C),C.onabort=w(Qn,b,"TestLoadImage: abort",!1,v,C),C.ontimeout=w(Qn,b,"TestLoadImage: timeout",!1,v,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Zf(h,v){const b=new $s,C=new AbortController,$=setTimeout(()=>{C.abort(),Qn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout($),J.ok?Qn(b,"TestPingServer: ok",!0,v):Qn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Qn(b,"TestPingServer: error",!1,v)})}function Qn(h,v,b,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(b)}catch{}}function Qr(){this.g=new Wg}function Tu(h,v,b){const C=b||"";try{Al(h,function($,J){let he=$;p($)&&(he=xr($)),v.push(C+J+"="+encodeURIComponent(he))})}catch($){throw v.push(C+"type="+encodeURIComponent("_badmap")),$}}function Ti(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Ti,du),Ti.prototype.g=function(){return new dr(this.l,this.j)},Ti.prototype.i=(function(h){return function(){return h}})({});function dr(h,v){rn.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(dr,rn),t=dr.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Js(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?wi(this):Js(this),this.readyState==3&&Nl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,wi(this))},t.Qa=function(h){this.g&&(this.response=h,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Js(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Js(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ao(h){let v="";return se(h,function(b,C){v+=C,v+=":",v+=b,v+=`\r
`}),v}function Zs(h,v,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Ao(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):ot(h,v,b))}function Tt(h){rn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Tt,rn);var kn=/^https?$/i,Ji=["POST","PUT"];t=Tt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?Gf(this.o):Gf(vi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){Ro(this,J);return}if(h=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)b.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())b.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ji,v,void 0))||C||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of b)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kl(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Ro(this,J)}};function Ro(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ea(h),ta(h)}function ea(h){h.A||(h.A=!0,un(h,"complete"),un(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,un(this,"complete"),un(this,"abort"),ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eh(this):this.bb())},t.bb=function(){eh(this)};function eh(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)$f(h.Ea,0,h);else if(un(h,"readystatechange"),zn(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var C;if(C=he===0){var $=String(h.D).match(vu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),C=!kn.test($?$.toLowerCase():"")}b=C}if(b)un(h,"complete"),un(h,"success");else{h.m=6;try{var J=2<zn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",ea(h)}}finally{ta(h)}}}}function ta(h,v){if(h.g){kl(h);const b=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||un(h,"ready");try{b.onreadystatechange=C}catch{}}}function kl(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Vn(v)}};function Io(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function th(h){const v={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(F(h[C]))continue;var b=P(h[C]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[$]||[];v[$]=J,J.push(b)}x(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xo(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function nh(h){this.Aa=0,this.i=[],this.j=new $s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xo("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xo("baseRetryDelayMs",5e3,h),this.cb=xo("retryDelaySeedMs",1e4,h),this.Wa=xo("forwardChannelMaxRetries",2,h),this.wa=xo("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new yu(h&&h.concurrentRequestLimit),this.Da=new Qr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nh.prototype,t.la=8,t.G=1,t.connect=function(h,v,b,C){vn(0),this.W=h,this.H=v||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=ch(this,null,this.W),Ol(this)};function wu(h){if(rh(h),h.G==3){var v=h.U++,b=Mt(h.I);if(ot(b,"SID",h.K),ot(b,"RID",v),ot(b,"TYPE","terminate"),Co(h,b),v=new Ei(h,h.j,v),v.L=2,v.v=wo(Mt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.v,b=!0),b||(v.g=uh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Kr(v)}xu(h)}function na(h){h.g&&(Iu(h),h.g.cancel(),h.g=null)}function rh(h){na(h),h.u&&(d.clearTimeout(h.u),h.u=null),ra(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ol(h){if(!_u(h.h)&&!h.s){h.s=!0;var v=h.Ga;ae||le(),te||(ae(),te=!0),fe.add(v,h),h.B=0}}function Zg(h,v){return Kf(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qs(E(h.Ga,h,v),lh(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Ei(this,this.j,h);let J=this.o;if(this.S&&(J?(J=I(J),D(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Au(this,$,v),b=Mt(this.I),ot(b,"RID",h),ot(b,"CVER",22),this.D&&ot(b,"X-HTTP-Session-Id",this.D),Co(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(Ao(J)))+"&"+v:this.m&&Zs(b,this.m,J)),Ks(this.h,$),this.Ua&&ot(b,"TYPE","init"),this.P?(ot(b,"$req",v),ot(b,"SID","null"),$.T=!0,So($,b,null)):So($,b,v),this.G=2}}else this.G==3&&(h?ih(this,h):this.i.length==0||_u(this.h)||ih(this))};function ih(h,v){var b;v?b=v.l:b=h.U++;const C=Mt(h.I);ot(C,"SID",h.K),ot(C,"RID",b),ot(C,"AID",h.T),Co(h,C),h.m&&h.o&&Zs(C,h.m,h.o),b=new Ei(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Au(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ks(h.h,b),So(b,C,v)}function Co(h,v){h.H&&se(h.H,function(b,C){ot(v,C,b)}),h.l&&Al({},function(b,C){ot(v,C,b)})}function Au(h,v,b){b=Math.min(h.i.length,b);var C=h.l?E(h.l.Na,h.l,h):null;e:{var $=h.i;let J=-1;for(;;){const he=["count="+b];J==-1?0<b?(J=$[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let ft=!0;for(let $t=0;$t<b;$t++){let He=$[$t].g;const fn=$[$t].map;if(He-=J,0>He)J=Math.max(0,$[$t].g-100),ft=!1;else try{Tu(fn,he,"req"+He+"_")}catch{C&&C(fn)}}if(ft){C=he.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,C}function sh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ae||le(),te||(ae(),te=!0),fe.add(v,h),h.v=0}}function Ru(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qs(E(h.Fa,h),lh(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qs(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),na(this),ah(this))};function Iu(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function ah(h){h.g=new Ei(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Mt(h.qa);ot(v,"RID","rpc"),ot(v,"SID",h.K),ot(v,"AID",h.T),ot(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(v,"TO",h.ja),ot(v,"TYPE","xmlhttp"),Co(h,v),h.m&&h.o&&Zs(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=wo(Mt(v)),b.m=null,b.P=!0,Yi(b,h)}t.Za=function(){this.C!=null&&(this.C=null,na(this),Ru(this),vn(19))};function ra(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function oh(h,v){var b=null;if(h.g==v){ra(h),Iu(h),h.g=null;var C=2}else if(Ys(h.h,v))b=v.D,Nr(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;C=Tl(),un(C,new hu(C,b)),Ol(h)}else sh(h);else if($=v.s,$==3||$==0&&0<v.X||!(C==1&&Zg(h,v)||C==2&&Ru(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),$){case 1:Zi(h,5);break;case 4:Zi(h,10);break;case 3:Zi(h,6);break;default:Zi(h,2)}}}function lh(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Zi(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),C=h.Xa;const $=!C;C=new Qi(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qs(C,"https"),wo(C),$?bu(C.toString(),b):Zf(C.toString(),b)}else vn(2);h.G=0,h.l&&h.l.sa(v),xu(h),rh(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function xu(h){if(h.G=0,h.ka=[],h.l){const v=Bn(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function ch(h,v,b){var C=b instanceof Qi?Mt(b):new Qi(b);if(C.g!="")v&&(C.g=v+"."+C.g),To(C,C.s);else{var $=d.location;C=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var J=new Qi(null);C&&Qs(J,C),v&&(J.g=v),$&&To(J,$),b&&(J.l=b),C=J}return b=h.D,v=h.ya,b&&v&&ot(C,b,v),ot(C,"VER",h.la),Co(h,C),C}function uh(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Tt(new Ti({eb:b})):new Tt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dl(){}Dl.prototype.g=function(h,v){return new Fn(h,v)};function Fn(h,v){rn.call(this),this.g=new nh(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!F(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ia(this)}A(Fn,rn),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){wu(this.g)},Fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=xr(h),h=b);v.i.push(new Yg(v.Ya++,h)),v.G==3&&Ol(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,wu(this.g),delete this.g,Fn.aa.N.call(this)};function fh(h){zs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(fh,zs);function hh(){Yr.call(this),this.status=1}A(hh,Yr);function ia(h){this.g=h}A(ia,dh),ia.prototype.ua=function(){un(this.g,"a")},ia.prototype.ta=function(h){un(this.g,new fh(h))},ia.prototype.sa=function(h){un(this.g,new hh)},ia.prototype.ra=function(){un(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,TC=function(){return new Dl},bC=function(){return Tl()},SC=Cr,Yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,qp=Dt,En.COMPLETE="complete",EC=En,Eo.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",rn.prototype.listen=rn.prototype.K,_d=Eo,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,vC=Tt}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});const gA="@firebase/firestore",yA="4.8.0";let Mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let Qc="11.10.0";const al=new tE("@firebase/firestore");function dc(){return al.logLevel}function ye(t,...e){if(al.logLevel<=Qe.DEBUG){const n=e.map(fE);al.debug(`Firestore (${Qc}): ${t}`,...n)}}function xs(t,...e){if(al.logLevel<=Qe.ERROR){const n=e.map(fE);al.error(`Firestore (${Qc}): ${t}`,...n)}}function eo(t,...e){if(al.logLevel<=Qe.WARN){const n=e.map(fE);al.warn(`Firestore (${Qc}): ${t}`,...n)}}function fE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function we(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wC(t,r,n)}function wC(t,e,n){let r=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xs(r),new Error(r)}function tt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||wC(e,s,r)}function Ce(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class AC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mn.UNAUTHENTICATED)))}shutdown(){}}class k5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class O5{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new AC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class D5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _A{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _A(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _A(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function L5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function RC(){return new TextEncoder}class hE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=L5(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function Kv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return $e(r,s);{const o=RC(),c=U5(o.encode(vA(t,n)),o.encode(vA(e,n)));return c!==0?c:$e(r,s)}}n+=r>65535?2:1}return $e(t.length,e.length)}function vA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function U5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return $e(t[n],e[n]);return $e(t.length,e.length)}function Cc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const Qv="__name__";class Ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ci.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return $e(e.length,n.length)}static compareSegments(e,n){const r=Ci.isNumericId(e),s=Ci.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):Kv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $a.fromString(e.substring(4,e.length-2))}}class ht extends Ci{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const V5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Ci{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return V5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new In([Qv])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ht.fromString(e))}static fromName(e){return new be(ht.fromString(e).popFirst(5))}static empty(){return new be(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ht(e.slice()))}}function pE(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j5(t,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EA(t){if(!be.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SA(t){if(be.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ag(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function B5(t,e){if(e<=0)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function _f(t,e){if(!IC(t))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}const bA=-62135596800,TA=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TA);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bA)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TA}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_f(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:en("string",Rt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Rt(0,0))}static max(){return new Ie(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ud=-1;function z5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new to(s,be.empty(),e)}function F5(t){return new to(t.readTime,t.key,Ud)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(Ie.min(),be.empty(),Ud)}static max(){return new to(Ie.max(),be.empty(),Ud)}}function H5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}const q5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==q5)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&n()}),(f=>r(f)))})),c=!0,o===s&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((s=>s?ce.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const p=f;n(e[p]).next((y=>{c[p]=y,++d,d===o&&r(c)}),(y=>s(y)))}}))}static doWhile(e,n){return new ce(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function G5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jc(t){return t.name==="IndexedDbTransactionError"}class og{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}og.ue=-1;const mE=-1;function vf(t){return t==null}function gm(t){return t===0&&1/t==-1/0}function W5(t){return typeof t=="number"&&Number.isInteger(t)&&!gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const xC="";function Y5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wA(e)),e=K5(t.get(n),e);return wA(e)}function K5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case xC:n+="";break;default:n+=o}}return n}function wA(t){return t+xC+""}function AA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q5(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function CC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ot{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=s??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Rn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RA(this.data.getIterator())}getIteratorFrom(e){return new RA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class RA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new br([])}unionWith(e){let n=new on(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class NC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NC("Invalid base64 string: "+o):o}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const X5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=X5.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ro(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}const kC="server_timestamp",OC="__type__",DC="__previous_value__",MC="__local_write_time__";function lg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[OC])===null||n===void 0?void 0:n.stringValue)===kC}function cg(t){const e=t.mapValue.fields[DC];return lg(e)?cg(e):e}function Vd(t){const e=no(t.mapValue.fields[MC].timestampValue);return new Rt(e.seconds,e.nanos)}class J5{constructor(e,n,r,s,o,c,d,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const jd="(default)";class Bd{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new Bd("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}const PC="__type__",Z5="__max__",Sp={mapValue:{}},LC="__vector__",ym="value";function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lg(t)?4:tU(t)?9007199254740991:eU(t)?10:11:we(28295,{value:t})}function Ui(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vd(t).isEqual(Vd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=no(s.timestampValue),d=no(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return ro(s.bytesValue).isEqual(ro(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return qt(s.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return qt(s.integerValue)===qt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=qt(s.doubleValue),d=qt(o.doubleValue);return c===d?gm(c)===gm(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Cc(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(AA(c)!==AA(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Ui(c[f],d[f])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function zd(t,e){return(t.values||[]).find((n=>Ui(n,e)))!==void 0}function Nc(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=qt(o.integerValue||o.doubleValue),f=qt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return IA(t.timestampValue,e.timestampValue);case 4:return IA(Vd(t),Vd(e));case 5:return Kv(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=ro(o),f=ro(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const y=$e(d[p],f[p]);if(y!==0)return y}return $e(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=$e(qt(o.latitude),qt(c.latitude));return d!==0?d:$e(qt(o.longitude),qt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xA(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var d,f,p,y;const _=o.fields||{},E=c.fields||{},w=(d=_[ym])===null||d===void 0?void 0:d.arrayValue,A=(f=E[ym])===null||f===void 0?void 0:f.arrayValue,N=$e(((p=w?.values)===null||p===void 0?void 0:p.length)||0,((y=A?.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:xA(w,A)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Sp.mapValue&&c===Sp.mapValue)return 0;if(o===Sp.mapValue)return 1;if(c===Sp.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=Kv(f[_],y[_]);if(E!==0)return E;const w=Nc(d[f[_]],p[y[_]]);if(w!==0)return w}return $e(f.length,y.length)})(t.mapValue,e.mapValue);default:throw we(23264,{le:n})}}function IA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=no(t),r=no(e),s=$e(n.seconds,r.seconds);return s!==0?s:$e(n.nanos,r.nanos)}function xA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Nc(n[s],r[s]);if(o)return o}return $e(n.length,r.length)}function kc(t){return Xv(t)}function Xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Xv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${Xv(n.fields[c])}`;return s+"}"})(t.mapValue):we(61005,{value:t})}function $p(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cg(t);return e?16+$p(e):16;case 5:return 2*t.stringValue.length;case 6:return ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+$p(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return uo(r.fields,((o,c)=>{s+=o.length+$p(c)})),s})(t.mapValue);default:throw we(13486,{value:t})}}function _m(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jv(t){return!!t&&"integerValue"in t}function gE(t){return!!t&&"arrayValue"in t}function CA(t){return!!t&&"nullValue"in t}function NA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gp(t){return!!t&&"mapValue"in t}function eU(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[PC])===null||n===void 0?void 0:n.stringValue)===LC}function Td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Td(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z5}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(n)}setAll(e){let n=In.emptyPath(),r={},s=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Td(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Gp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){uo(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Wn(Td(this.value))}}function UC(t){const e=[];return uo(t.fields,((n,r)=>{const s=new In([n]);if(Gp(r)){const o=UC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new br(e)}class gn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,Ie.min(),Ie.min(),Ie.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new gn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new gn(e,2,n,Ie.min(),Ie.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ie.min(),Ie.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,n){this.position=e,this.inclusive=n}}function kA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=be.comparator(be.fromName(c.referenceValue),n.key):r=Nc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function nU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class VC{}class Jt extends VC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iU(e,n,r):n==="array-contains"?new oU(e,r):n==="in"?new lU(e,r):n==="not-in"?new cU(e,r):n==="array-contains-any"?new uU(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sU(e,r):new aU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nc(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends VC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ci(e,n)}matches(e){return jC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function jC(t){return t.op==="and"}function BC(t){return rU(t)&&jC(t)}function rU(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function Zv(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+kc(t.value);if(BC(t))return t.filters.map((e=>Zv(e))).join(",");{const e=t.filters.map((n=>Zv(n))).join(",");return`${t.op}(${e})`}}function zC(t,e){return t instanceof Jt?(function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&Ui(r.value,s.value)})(t,e):t instanceof ci?(function(r,s){return s instanceof ci&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,d)=>o&&zC(c,s.filters[d])),!0):!1})(t,e):void we(19439)}function FC(t){return t instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${kc(n.value)}`})(t):t instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(FC).join(" ,")+"}"})(t):"Filter"}class iU extends Jt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class sU extends Jt{constructor(e,n){super(e,"in",n),this.keys=HC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aU extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=HC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>be.fromName(r.referenceValue)))}class oU extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gE(n)&&zd(n.arrayValue,this.value)}}class lU extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zd(this.value.arrayValue,n)}}class cU extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zd(this.value.arrayValue,n)}}class uU extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zd(this.value.arrayValue,r)))}}class dU{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Pe=null}}function DA(t,e=null,n=[],r=[],s=null,o=null,c=null){return new dU(t,e,n,r,s,o,c)}function yE(t){const e=Ce(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Zv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>kc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>kc(r))).join(",")),e.Pe=n}return e.Pe}function _E(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OA(t.startAt,e.startAt)&&OA(t.endAt,e.endAt)}function e0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class fo{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function fU(t,e,n,r,s,o,c,d){return new fo(t,e,n,r,s,o,c,d)}function ug(t){return new fo(t)}function MA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vE(t){return t.collectionGroup!==null}function Ac(t){const e=Ce(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new on(In.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Fd(o,r))})),n.has(In.keyField().canonicalString())||e.Te.push(new Fd(In.keyField(),r))}return e.Te}function Mi(t){const e=Ce(t);return e.Ie||(e.Ie=qC(e,Ac(t))),e.Ie}function hU(t){const e=Ce(t);return e.de||(e.de=qC(e,t.explicitOrderBy)),e.de}function qC(t,e){if(t.limitType==="F")return DA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Fd(s.field,o)}));const n=t.endAt?new Oc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oc(t.startAt.position,t.startAt.inclusive):null;return DA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t0(t,e){const n=t.filters.concat([e]);return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dg(t,e){return _E(Mi(t),Mi(e))&&t.limitType===e.limitType}function $C(t){return`${yE(Mi(t))}|lt:${t.limitType}`}function fc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>FC(s))).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>kc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>kc(s))).join(",")),`Target(${r})`})(Mi(t))}; limitType=${t.limitType})`}function fg(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Ac(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(c,d,f){const p=kA(c,d,f);return c.inclusive?p<=0:p<0})(r.startAt,Ac(r),s)||r.endAt&&!(function(c,d,f){const p=kA(c,d,f);return c.inclusive?p>=0:p>0})(r.endAt,Ac(r),s))})(t,e)}function pU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(const s of Ac(t)){const o=mU(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function mU(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(o,c,d){const f=c.data.field(o),p=d.data.field(o);return f!==null&&p!==null?Nc(f,p):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:t.dir})}}class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return CC(this.inner)}size(){return this.innerSize}}const gU=new Ot(be.comparator);function Cs(){return gU}const WC=new Ot(be.comparator);function vd(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function YC(t){let e=WC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qo(){return wd()}function KC(){return wd()}function wd(){return new ml((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yU=new Ot(be.comparator),_U=new on(be.comparator);function Xe(...t){let e=_U;for(const n of t)e=e.add(n);return e}const vU=new on($e);function EU(){return vU}function EE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gm(e)?"-0":e}}function QC(t){return{integerValue:""+t}}function SU(t,e){return W5(e)?QC(e):EE(t,e)}class hg{constructor(){this._=void 0}}function bU(t,e,n){return t instanceof Hd?(function(s,o){const c={fields:{[OC]:{stringValue:kC},[MC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lg(o)&&(o=cg(o)),o&&(c.fields[DC]=o),{mapValue:c}})(n,e):t instanceof qd?JC(t,e):t instanceof $d?ZC(t,e):(function(s,o){const c=XC(s,o),d=PA(c)+PA(s.Ee);return Jv(c)&&Jv(s.Ee)?QC(d):EE(s.serializer,d)})(t,e)}function TU(t,e,n){return t instanceof qd?JC(t,e):t instanceof $d?ZC(t,e):n}function XC(t,e){return t instanceof Em?(function(r){return Jv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Hd extends hg{}class qd extends hg{constructor(e){super(),this.elements=e}}function JC(t,e){const n=eN(e);for(const r of t.elements)n.some((s=>Ui(s,r)))||n.push(r);return{arrayValue:{values:n}}}class $d extends hg{constructor(e){super(),this.elements=e}}function ZC(t,e){let n=eN(e);for(const r of t.elements)n=n.filter((s=>!Ui(s,r)));return{arrayValue:{values:n}}}class Em extends hg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function PA(t){return qt(t.integerValue||t.doubleValue)}function eN(t){return gE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class wU{constructor(e,n){this.field=e,this.transform=n}}function AU(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof qd&&s instanceof qd||r instanceof $d&&s instanceof $d?Cc(r.elements,s.elements,Ui):r instanceof Em&&s instanceof Em?Ui(r.Ee,s.Ee):r instanceof Hd&&s instanceof Hd})(t.transform,e.transform)}class RU{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pg{}function tN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sf(t.key,Zt.none()):new Ef(t.key,t.data,Zt.none());{const n=t.data,r=Wn.empty();let s=new on(In.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new ho(t.key,r,new br(s.toArray()),Zt.none())}}function IU(t,e,n){t instanceof Ef?(function(s,o,c){const d=s.value.clone(),f=UA(s.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ho?(function(s,o,c){if(!Wp(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=UA(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(nN(s)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ad(t,e,n,r){return t instanceof Ef?(function(o,c,d,f){if(!Wp(o.precondition,c))return d;const p=o.value.clone(),y=VA(o.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ho?(function(o,c,d,f){if(!Wp(o.precondition,c))return d;const p=VA(o.fieldTransforms,f,c),y=c.data;return y.setAll(nN(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,c,d){return Wp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function xU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=XC(r.transform,s||null);o!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,o))}return n||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Cc(r,s,((o,c)=>AU(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ef extends pg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ho extends pg{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UA(t,e,n){const r=new Map;tt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,TU(c,d,n[s]))}return r}function VA(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,bU(o,c,e))}return r}class Sf extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IU(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KC();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const f=tN(c,d);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,((n,r)=>LA(n,r)))&&Cc(this.baseMutations,e.baseMutations,((n,r)=>LA(n,r)))}}class SE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return yU})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new SE(e,n,r,s)}}class NU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kU{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class OU{constructor(e,n){this.count=e,this.unchangedNames=n}}var Qt,nt;function iN(t){switch(t){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function sN(t){if(t===void 0)return xs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Qt.OK:return ee.OK;case Qt.CANCELLED:return ee.CANCELLED;case Qt.UNKNOWN:return ee.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ee.INTERNAL;case Qt.UNAVAILABLE:return ee.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ee.NOT_FOUND;case Qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Qt.ABORTED:return ee.ABORTED;case Qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Qt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:t})}}(nt=Qt||(Qt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";const DU=new $a([4294967295,4294967295],0);function jA(t){const e=RC().encode(t),n=new _C;return n.update(e),new Uint8Array(n.digest())}function BA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $a([n,r],0),new $a([s,o],0)]}class bE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ed(`Invalid padding: ${n}`);if(r<0)throw new Ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ed(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ed(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=$a.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply($a.fromNumber(r)));return s.compare(DU)===1&&(s=new $a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=jA(e),[r,s]=BA(n);for(let o=0;o<this.hashCount;o++){const c=this.pe(r,s,o);if(!this.ye(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new bE(o,s,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.fe===0)return;const n=jA(e),[r,s]=BA(n);for(let o=0;o<this.hashCount;o++){const c=this.pe(r,s,o);this.we(c)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mg{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mg(Ie.min(),s,new Ot($e),Cs(),Xe())}}class bf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bf(r,n,Xe(),Xe(),Xe())}}class Yp{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class aN{constructor(e,n){this.targetId=e,this.De=n}}class oN{constructor(e,n,r=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zA{constructor(){this.ve=0,this.Ce=FA(),this.Fe=xn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Xe(),n=Xe(),r=Xe();return this.Ce.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we(38017,{changeType:o})}})),new bf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=FA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class MU{constructor(e){this.We=e,this.Ge=new Map,this.ze=Cs(),this.je=bp(),this.Je=bp(),this.He=new Ot($e)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,s)=>{this.nt(s)&&n(s)}))}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const o=s.target;if(e0(o))if(r===0){const c=new be(o.path);this.Xe(n,c,gn.newNoDocument(c,Ie.min()))}else tt(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const d=this._t(e),f=d?this.ut(d,e,c):1;if(f!==0){this.rt(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=ro(r).toUint8Array()}catch(f){if(f instanceof NC)return eo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new bE(c,s,o)}catch(f){return eo(f instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,o,null),s++)})),s}Pt(e){const n=new Map;this.Ge.forEach(((o,c)=>{const d=this.st(c);if(d){if(o.current&&e0(d.target)){const f=new be(d.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,gn.newNoDocument(f,e))}o.Ne&&(n.set(c,o.Le()),o.ke())}}));let r=Xe();this.Je.forEach(((o,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.st(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.ze.forEach(((o,c)=>c.setReadTime(e)));const s=new mg(e,n,this.He,this.ze,r);return this.ze=Cs(),this.je=bp(),this.Je=bp(),this.He=new Ot($e),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new zA,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new on($e),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new on($e),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new zA),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function bp(){return new Ot(be.comparator)}function FA(){return new Ot(be.comparator)}const PU={asc:"ASCENDING",desc:"DESCENDING"},LU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UU={and:"AND",or:"OR"};class VU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function n0(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jU(t,e){return Sm(t,e.toTimestamp())}function wr(t){return tt(!!t,49232),Ie.fromTimestamp((function(n){const r=no(n);return new Rt(r.seconds,r.nanos)})(t))}function TE(t,e){return r0(t,e).canonicalString()}function r0(t,e){const n=(function(s){return new ht(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cN(t){const e=ht.fromString(t);return tt(gN(e),10190,{key:e.toString()}),e}function bm(t,e){return TE(t.databaseId,e.path)}function Rd(t,e){const n=cN(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(dN(n))}function uN(t,e){return TE(t.databaseId,e)}function BU(t){const e=cN(t);return e.length===4?ht.emptyPath():dN(e)}function i0(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dN(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HA(t,e,n){return{name:bm(t,e),fields:n.value.mapValue.fields}}function zU(t,e){return"found"in e?(function(r,s){tt(!!s.found,43571),s.found.name,s.found.updateTime;const o=Rd(r,s.found.name),c=wr(s.found.updateTime),d=s.found.createTime?wr(s.found.createTime):Ie.min(),f=new Wn({mapValue:{fields:s.found.fields}});return gn.newFoundDocument(o,c,d,f)})(t,e):"missing"in e?(function(r,s){tt(!!s.missing,3894),tt(!!s.readTime,22933);const o=Rd(r,s.missing),c=wr(s.readTime);return gn.newNoDocument(o,c)})(t,e):we(7234,{result:e})}function FU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,y){return p.useProto3Json?(tt(y===void 0||typeof y=="string",58123),xn.fromBase64String(y||"")):(tt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),xn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?ee.UNKNOWN:sN(p.code);return new de(y,p.message||"")})(c);n=new oN(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rd(t,r.document.name),o=wr(r.document.updateTime),c=r.document.createTime?wr(r.document.createTime):Ie.min(),d=new Wn({mapValue:{fields:r.document.fields}}),f=gn.newFoundDocument(s,o,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Yp(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rd(t,r.document),o=r.readTime?wr(r.readTime):Ie.min(),c=gn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new Yp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rd(t,r.document),o=r.removedTargetIds||[];n=new Yp([],o,s,null)}else{if(!("filter"in e))return we(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new OU(s,o),d=r.targetId;n=new aN(d,c)}}return n}function fN(t,e){let n;if(e instanceof Ef)n={update:HA(t,e.key,e.value)};else if(e instanceof Sf)n={delete:bm(t,e.key)};else if(e instanceof ho)n={update:HA(t,e.key,e.data),updateMask:XU(e.fieldMask)};else{if(!(e instanceof rN))return we(16599,{Rt:e.type});n={verify:bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof Hd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof qd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof $d)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Em)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw we(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:jU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)})(t,e.precondition)),n}function HU(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(s,o){let c=s.updateTime?wr(s.updateTime):wr(o);return c.isEqual(Ie.min())&&(c=wr(o)),new RU(c,s.transformResults||[])})(n,e)))):[]}function qU(t,e){return{documents:[uN(t,e.path)]}}function hN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uN(t,s);const o=(function(p){if(p.length!==0)return mN(ci.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Ua(E.field),direction:YU(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=n0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:n,parent:s}}function $U(t,e,n,r){const{Vt:s,parent:o}=hN(t,e),c={},d=[];let f=0;return n.forEach((p=>{const y="aggregate_"+f++;c[y]=p.alias,p.aggregateType==="count"?d.push({alias:y,count:{}}):p.aggregateType==="avg"?d.push({alias:y,avg:{field:Ua(p.fieldPath)}}):p.aggregateType==="sum"&&d.push({alias:y,sum:{field:Ua(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:s.structuredQuery},parent:s.parent},ft:c,parent:o}}function GU(t){let e=BU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tt(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(_){const E=pN(_);return E instanceof ci&&BC(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(A){return new Fd(hc(A.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,vf(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(_){const E=!!_.before,w=_.values||[];return new Oc(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,w=_.values||[];return new Oc(w,E)})(n.endAt)),fU(e,s,c,o,d,"F",f,p)}function WU(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hc(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=hc(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hc(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hc(n.unaryFilter.field);return Jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jt.create(hc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>pN(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function YU(t){return PU[t]}function KU(t){return LU[t]}function QU(t){return UU[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function hc(t){return In.fromServerFormat(t.fieldPath)}function mN(t){return t instanceof Jt?(function(n){if(n.op==="=="){if(NA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(CA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(CA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:KU(n.op),value:n.value}}})(t):t instanceof ci?(function(n){const r=n.getFilters().map((s=>mN(s)));return r.length===1?r[0]:{compositeFilter:{op:QU(n.op),filters:r}}})(t):we(54877,{filter:t})}function XU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ba{constructor(e,n,r,s,o=Ie.min(),c=Ie.min(),d=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JU{constructor(e){this.gt=e}}function ZU(t){const e=GU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}class eV{constructor(){this.Dn=new tV}addToCollectionParentIndex(e,n){return this.Dn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(to.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class tV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new on(ht.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new on(ht.comparator)).toArray()}}const qA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yN=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(yN,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class Dc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Dc(0)}static ur(){return new Dc(-1)}}const $A="LruGarbageCollector",_N=1048576;function GA([t,e],[n,r]){const s=$e(t,n);return s===0?$e(e,r):s}class nV{constructor(e){this.Tr=e,this.buffer=new on(GA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ye($A,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jc(n)?ye($A,"Ignoring IndexedDB error during garbage collection: ",n):await Xc(n)}await this.Rr(3e5)}))}}class iV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(og.ue);const r=new nV(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(qA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qA):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,o,c,d,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),dc()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function sV(t,e){return new iV(t,e)}class aV{constructor(){this.changes=new ml((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ad(r.mutation,s,br.empty(),Rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const s=Qo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let c=vd();return o.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,s){let o=Cs();const c=wd(),d=(function(){return wd()})();return n.forEach(((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof ho)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ad(y.mutation,p,y.mutation.getFieldMask(),Rt.now())):c.set(p.key,br.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>{var _;return d.set(p,new oV(y,(_=c.get(p))!==null&&_!==void 0?_:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=wd();let s=new Ot(((c,d)=>c-d)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=r.get(f)||br.empty();y=d.applyToLocalView(p,y),r.set(f,y);const _=(s.get(d.batchId)||Xe()).add(f);s=s.insert(d.batchId,_)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,y=f.value,_=KC();y.forEach((E=>{if(!o.has(E)){const w=tN(n.get(E),r.get(E));w!==null&&_.set(E,w),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ce.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ce.resolve(Qo());let d=Ud,f=o;return c.next((p=>ce.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,f,p,Xe()))).next((y=>({batchId:d,changes:YC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let s=vd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=vd();return this.indexManager.getCollectionParents(e,o).next((d=>ce.forEach(d,(f=>{const p=(function(_,E){return new fo(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((c=>{o.forEach(((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,gn.newInvalidDocument(y)))}));let d=vd();return c.forEach(((f,p)=>{const y=o.get(f);y!==void 0&&Ad(y.mutation,p,br.empty(),Rt.now()),fg(n,p)&&(d=d.insert(f,p))})),d}))}}class cV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(s){return{name:s.name,query:ZU(s.bundledQuery),readTime:wr(s.readTime)}})(n)),ce.resolve()}}class uV{constructor(){this.overlays=new Ot(be.comparator),this.kr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return ce.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.wt(e,n,o)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Qo(),o=n.length+1,c=new be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ot(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=Qo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Qo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=s)););return ce.resolve(d)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NU(n,r));let o=this.kr.get(n);o===void 0&&(o=Xe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}class dV{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class wE{constructor(){this.qr=new on(mn.Qr),this.$r=new on(mn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new be(new ht([])),r=new mn(n,e),s=new mn(n,e+1),o=[];return this.$r.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new be(new ht([])),r=new mn(n,e),s=new mn(n,e+1);let o=Xe();return this.$r.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new mn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return be.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class fV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new on(mn.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CU(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Yr=this.Yr.add(new mn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?mE:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],(c=>{const d=this.Zr(c.Hr);o.push(d)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on($e);return n.forEach((s=>{const o=new mn(s,0),c=new mn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],(d=>{r=r.add(d.Hr)}))})),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const c=new mn(new be(o),0);let d=new on($e);return this.Yr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Hr)),!0)}),c),ce.resolve(this.ei(d))}ei(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){tt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(n.mutations,(s=>{const o=new mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new mn(n,0),s=this.Yr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hV{constructor(e){this.ni=e,this.docs=(function(){return new Ot(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():gn.newInvalidDocument(s))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Cs();const c=n.path,d=new be(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||H5(F5(y),r)<=0||(s.has(y.key)||fg(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){we(9500)}ri(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pV(this)}getSize(e){return ce.resolve(this.size)}}class pV extends aV{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}class mV{constructor(e){this.persistence=e,this.ii=new ml((n=>yE(n)),_E),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new wE,this.targetCount=0,this._i=Dc.ar()}forEachTarget(e,n){return this.ii.forEach(((r,s)=>n(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ce.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.hr(n),ce.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ii.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ce.waitFor(o).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.oi.containsKey(n))}}class vN{constructor(e,n){this.ai={},this.overlays={},this.ui=new og(0),this.ci=!1,this.ci=!0,this.li=new dV,this.referenceDelegate=e(this),this.hi=new mV(this),this.indexManager=new eV,this.remoteDocumentCache=(function(s){return new hV(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new JU(n),this.Ti=new cV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new fV(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new gV(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ce.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class gV extends $5{constructor(e){super(),this.currentSequenceNumber=e}}class AE{constructor(e){this.persistence=e,this.Ai=new wE,this.Ri=null}static Vi(e){return new AE(e)}get mi(){if(this.Ri)return this.Ri;throw we(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,(r=>{const s=be.fromPath(r);return this.fi(e,s).next((o=>{o||n.removeEntry(s,Ie.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ce.or([()=>ce.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Tm{constructor(e,n){this.persistence=e,this.gi=new ml((r=>Y5(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=sV(this,n)}static Vi(e,n){return new Tm(e,n)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return ce.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((o=>o?ce.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,(c=>this.Sr(e,c,n).next((d=>{d||(r++,o.removeEntry(c,Ie.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$p(e.data.value)),n}Sr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class RE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Xe(),s=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new RE(e,n.fromCache,r,s)}}class yV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _V{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return WL()?8:G5(Ln())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ps(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ys(e,n,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new yV;return this.ws(e,n,c).next((d=>{if(o.result=d,this.Rs)return this.Ss(e,n,c,d.size)}))})).next((()=>o.result))}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(dc()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",fc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(dc()<=Qe.DEBUG&&ye("QueryEngine","Query:",fc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(dc()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",fc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ce.resolve())}ps(e,n){if(MA(n))return ce.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=vm(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Xe(...o);return this.gs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(n,d);return this.Ds(n,p,c,f.readTime)?this.ps(e,vm(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ys(e,n,r,s){return MA(n)||s.isEqual(Ie.min())?ce.resolve(null):this.gs.getDocuments(e,r).next((o=>{const c=this.bs(n,o);return this.Ds(n,c,r,s)?ce.resolve(null):(dc()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fc(n)),this.vs(e,c,n,z5(s,Ud)).next((d=>d)))}))}bs(e,n){let r=new on(GC(e));return n.forEach(((s,o)=>{fg(e,o)&&(r=r.add(o))})),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,r){return dc()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",fc(n)),this.gs.getDocumentsMatchingQuery(e,n,to.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const IE="LocalStore",vV=3e8;class EV{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ot($e),this.Ms=new ml((o=>yE(o)),_E),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function SV(t,e,n,r){return new EV(t,e,n,r)}async function EN(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let f=Xe();for(const p of s){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Bs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function bV(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,y){const _=p.batch,E=_.keys();let w=ce.resolve();return E.forEach((A=>{w=w.next((()=>y.getEntry(f,A))).next((N=>{const k=p.docVersions.get(A);tt(k!==null,48541),N.version.compareTo(k)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),y.addEntry(N)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Xe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function SN(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function TV(t,e){const n=Ce(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const d=[];e.targetChanges.forEach(((y,_)=>{const E=s.get(_);if(!E)return;d.push(n.hi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>n.hi.addMatchingKeys(o,y.addedDocuments,_))));let w=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(xn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),s=s.insert(_,w),(function(N,k,z){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=vV?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,w,y)&&d.push(n.hi.updateTargetData(o,w))}));let f=Cs(),p=Xe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),d.push(wV(o,c,e.documentUpdates).next((y=>{f=y.Ls,p=y.ks}))),!r.isEqual(Ie.min())){const y=n.hi.getLastRemoteSnapshotVersion(o).next((_=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(y)}return ce.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,p))).next((()=>f))})).then((o=>(n.Fs=s,o)))}function wV(t,e,n){let r=Xe(),s=Xe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Cs();return n.forEach(((d,f)=>{const p=o.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ye(IE,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Ls:c,ks:s}}))}function AV(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=mE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function RV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.hi.getTargetData(r,e).next((o=>o?(s=o,ce.resolve(s)):n.hi.allocateTargetId(r).next((c=>(s=new Ba(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function s0(t,e,n){const r=Ce(t),s=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Jc(c))throw c;ye(IE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function WA(t,e,n){const r=Ce(t);let s=Ie.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,y){const _=Ce(f),E=_.Ms.get(y);return E!==void 0?ce.resolve(_.Fs.get(E)):_.hi.getTargetData(p,y)})(r,c,Mi(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?s:Ie.min(),n?o:Xe()))).next((d=>(IV(r,pU(e),d),{documents:d,qs:o})))))}function IV(t,e,n){let r=t.xs.get(e)||Ie.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.xs.set(e,r)}class YA{constructor(){this.activeTargetIds=EU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xV{constructor(){this.Fo=new YA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new YA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CV{xo(e){}shutdown(){}}const KA="ConnectivityMonitor";class QA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ye(KA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ye(KA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tp=null;function a0(){return Tp===null?Tp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tp++,"0x"+Tp.toString(16)}const cv="RestConnection",NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const c=a0(),d=this.Go(e,n.toUriEncodedString());ye(cv,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,s,o);const{host:p}=new URL(d),y=zi(p);return this.jo(e,d,f,r,y).then((_=>(ye(cv,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw eo(cv,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}Jo(e,n,r,s,o,c){return this.Wo(e,n,r,s,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Go(e,n){const r=NV[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}class OV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Dn="WebChannelConnection";class DV extends kV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,o){const c=a0();return new Promise(((d,f)=>{const p=new vC;p.setWithCredentials(!0),p.listenOnce(EC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qp.NO_ERROR:const _=p.getResponseJson();ye(Dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case qp.TIMEOUT:ye(Dn,`RPC '${e}' ${c} timed out`),f(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case qp.HTTP_ERROR:const E=p.getStatus();if(ye(Dn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const N=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(F)>=0?F:ee.UNKNOWN})(A.status);f(new de(N,A.message))}else f(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new de(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{c_:e,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ye(Dn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);ye(Dn,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",y,r,15)}))}P_(e,n,r){const s=a0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=TC(),d=bC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=o.join("");ye(Dn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const _=c.createWebChannel(y,f);this.T_(_);let E=!1,w=!1;const A=new OV({Ho:k=>{w?ye(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(E||(ye(Dn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ye(Dn,`RPC '${e}' stream ${s} sending:`,k),_.send(k))},Yo:()=>_.close()}),N=(k,z,F)=>{k.listen(z,(Q=>{try{F(Q)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return N(_,_d.EventType.OPEN,(()=>{w||(ye(Dn,`RPC '${e}' stream ${s} transport opened.`),A.s_())})),N(_,_d.EventType.CLOSE,(()=>{w||(w=!0,ye(Dn,`RPC '${e}' stream ${s} transport closed`),A.__(),this.I_(_))})),N(_,_d.EventType.ERROR,(k=>{w||(w=!0,eo(Dn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),A.__(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),N(_,_d.EventType.MESSAGE,(k=>{var z;if(!w){const F=k.data[0];tt(!!F,16349);const Q=F,Z=Q?.error||((z=Q[0])===null||z===void 0?void 0:z.error);if(Z){ye(Dn,`RPC '${e}' stream ${s} received error:`,Z);const ue=Z.status;let se=(function(O){const D=Qt[O];if(D!==void 0)return sN(D)})(ue),x=Z.message;se===void 0&&(se=ee.INTERNAL,x="Unknown error status: "+ue+" with message "+Z.message),w=!0,A.__(new de(se,x)),_.close()}else ye(Dn,`RPC '${e}' stream ${s} received:`,F),A.a_(F)}})),N(d,SC.STAT_EVENT,(k=>{k.stat===Yv.PROXY?ye(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Yv.NOPROXY&&ye(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.o_()}),0),A}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function uv(){return typeof document<"u"?document:null}function gg(t){return new VU(t,!0)}class xE{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const XA="PersistentStream";class bN{constructor(e,n,r,s,o,c,d,f){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xE(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===n&&this.W_(r,s)}),(r=>{e((()=>{const s=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ye(XA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ye(XA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MV extends bN{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=FU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ie.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?wr(c.readTime):Ie.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=i0(this.serializer),n.addTarget=(function(o,c){let d;const f=c.target;if(d=e0(f)?{documents:qU(o,f)}:{query:hN(o,f).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=lN(o,c.resumeToken);const p=n0(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Sm(o,c.snapshotVersion.toTimestamp());const p=n0(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=WU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=i0(this.serializer),n.removeTarget=e,this.k_(n)}}class PV extends bN{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=HU(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=i0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>fN(this.serializer,r)))};this.k_(n)}}class LV{}class UV extends LV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,r0(n,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ee.UNKNOWN,o.toString())}))}Jo(e,n,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Jo(e,r0(n,r),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ee.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class VV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xs(n),this._a=!1):ye("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const ol="RemoteStore";class jV{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((c=>{r.enqueueAndForget((async()=>{gl(this)&&(ye(ol,"Restarting streams for network reachability change."),await(async function(f){const p=Ce(f);p.Ia.add(4),await Tf(p),p.Aa.set("Unknown"),p.Ia.delete(4),await yg(p)})(this))}))})),this.Aa=new VV(r,s)}}async function yg(t){if(gl(t))for(const e of t.da)await e(!0)}async function Tf(t){for(const e of t.da)await e(!1)}function TN(t,e){const n=Ce(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),OE(n)?kE(n):Zc(n).x_()&&NE(n,e))}function CE(t,e){const n=Ce(t),r=Zc(n);n.Ta.delete(e),r.x_()&&wN(n,e),n.Ta.size===0&&(r.x_()?r.B_():gl(n)&&n.Aa.set("Unknown"))}function NE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zc(t).H_(e)}function wN(t,e){t.Ra.$e(e),Zc(t).Y_(e)}function kE(t){t.Ra=new MU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Zc(t).start(),t.Aa.aa()}function OE(t){return gl(t)&&!Zc(t).M_()&&t.Ta.size>0}function gl(t){return Ce(t).Ia.size===0}function AN(t){t.Ra=void 0}async function BV(t){t.Aa.set("Online")}async function zV(t){t.Ta.forEach(((e,n)=>{NE(t,e)}))}async function FV(t,e){AN(t),OE(t)?(t.Aa.la(e),kE(t)):t.Aa.set("Unknown")}async function HV(t,e,n){if(t.Aa.set("Online"),e instanceof oN&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ta.delete(d),s.Ra.removeTarget(d))})(t,e)}catch(r){ye(ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wm(t,r)}else if(e instanceof Yp?t.Ra.Ye(e):e instanceof aN?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ie.min()))try{const r=await SN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Ra.Pt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ta.get(p);y&&o.Ta.set(p,y.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const y=o.Ta.get(f);if(!y)return;o.Ta.set(f,y.withResumeToken(xn.EMPTY_BYTE_STRING,y.snapshotVersion)),wN(o,f);const _=new Ba(y.target,f,p,y.sequenceNumber);NE(o,_)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){ye(ol,"Failed to raise snapshot:",r),await wm(t,r)}}async function wm(t,e,n){if(!Jc(e))throw e;t.Ia.add(1),await Tf(t),t.Aa.set("Offline"),n||(n=()=>SN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(ol,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await yg(t)}))}function RN(t,e){return e().catch((n=>wm(t,n,e)))}async function _g(t){const e=Ce(t),n=so(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:mE;for(;qV(e);)try{const s=await AV(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,$V(e,s)}catch(s){await wm(e,s)}IN(e)&&xN(e)}function qV(t){return gl(t)&&t.Pa.length<10}function $V(t,e){t.Pa.push(e);const n=so(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function IN(t){return gl(t)&&!so(t).M_()&&t.Pa.length>0}function xN(t){so(t).start()}async function GV(t){so(t).na()}async function WV(t){const e=so(t);for(const n of t.Pa)e.X_(n.mutations)}async function YV(t,e,n){const r=t.Pa.shift(),s=SE.from(r,e,n);await RN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await _g(t)}async function KV(t,e){e&&so(t).Z_&&await(async function(r,s){if((function(c){return iN(c)&&c!==ee.ABORTED})(s.code)){const o=r.Pa.shift();so(r).N_(),await RN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await _g(r)}})(t,e),IN(t)&&xN(t)}async function JA(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ye(ol,"RemoteStore received new credentials");const r=gl(n);n.Ia.add(3),await Tf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await yg(n)}async function QV(t,e){const n=Ce(t);e?(n.Ia.delete(2),await yg(n)):e||(n.Ia.add(2),await Tf(n),n.Aa.set("Unknown"))}function Zc(t){return t.Va||(t.Va=(function(n,r,s){const o=Ce(n);return o.ia(),new MV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:BV.bind(null,t),e_:zV.bind(null,t),n_:FV.bind(null,t),J_:HV.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),OE(t)?kE(t):t.Aa.set("Unknown")):(await t.Va.stop(),AN(t))}))),t.Va}function so(t){return t.ma||(t.ma=(function(n,r,s){const o=Ce(n);return o.ia(),new PV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:GV.bind(null,t),n_:KV.bind(null,t),ea:WV.bind(null,t),ta:YV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await _g(t)):(await t.ma.stop(),t.Pa.length>0&&(ye(ol,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}class DE{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new DE(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ME(t,e){if(xs("AsyncQueue",`${e}: ${t}`),Jc(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Rc{static emptySet(e){return new Rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=vd(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ZA{constructor(){this.fa=new Ot(be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):we(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Mc{constructor(e,n,r,s,o,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Mc(e,n,Rc.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class XV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class JV{constructor(){this.queries=eR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Ce(n),o=s.queries;s.queries=eR(),o.forEach(((c,d)=>{for(const f of d.wa)f.onError(r)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function eR(){return new ml((t=>$C(t)),dg)}async function PE(t,e){const n=Ce(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new XV,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=ME(c,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&UE(n)}async function LE(t,e){const n=Ce(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.wa.indexOf(e);c>=0&&(o.wa.splice(c,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZV(t,e){const n=Ce(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.wa)d.Ca(s)&&(r=!0);c.ya=s}}r&&UE(n)}function ej(t,e,n){const r=Ce(t),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(n);r.queries.delete(e)}function UE(t){t.Da.forEach((e=>{e.next()}))}var o0,tR;(tR=o0||(o0={})).Fa="default",tR.Cache="cache";class VE{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==o0.Cache}}class CN{constructor(e){this.key=e}}class NN{constructor(e){this.key=e}}class tj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Xe(),this.mutatedKeys=Xe(),this.Xa=GC(e),this.eu=new Rc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new ZA,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const E=s.get(y),w=fg(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;E&&w?E.data.isEqual(w.data)?A!==N&&(r.track({type:3,doc:w}),k=!0):this.iu(E,w)||(r.track({type:2,doc:w}),k=!0,(f&&this.Xa(w,f)>0||p&&this.Xa(w,p)<0)&&(d=!0)):!E&&w?(r.track({type:0,doc:w}),k=!0):E&&!w&&(r.track({type:1,doc:E}),k=!0,(f||p)&&(d=!0)),k&&(w?(c=c.add(w),o=N?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{eu:c,ru:r,Ds:d,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort(((y,_)=>(function(w,A){const N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{At:k})}};return N(w)-N(A)})(y.type,_.type)||this.Xa(y.doc,_.doc))),this.su(r),s=s!=null&&s;const d=n&&!s?this.ou():[],f=this.Za.size===0&&this.current&&!s?1:0,p=f!==this.Ya;return this.Ya=f,c.length!==0||p?{snapshot:new Mc(this.query,e.eu,o,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ZA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Xe(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new NN(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new CN(r))})),n}uu(e){this.Ha=e.qs,this.Za=Xe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Mc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jE="SyncEngine";class nj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rj{constructor(e){this.key=e,this.lu=!1}}class ij{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new ml((d=>$C(d)),dg),this.Tu=new Map,this.Iu=new Set,this.du=new Ot(be.comparator),this.Eu=new Map,this.Au=new wE,this.Ru={},this.Vu=new Map,this.mu=Dc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function sj(t,e,n=!0){const r=LN(t);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await kN(r,e,n,!0),s}async function aj(t,e){const n=LN(t);await kN(n,e,!0,!1)}async function kN(t,e,n,r){const s=await RV(t.localStore,Mi(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await oj(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&TN(t.remoteStore,s),d}async function oj(t,e,n,r,s){t.gu=(_,E,w)=>(async function(N,k,z,F){let Q=k.view.nu(z);Q.Ds&&(Q=await WA(N.localStore,k.query,!1).then((({documents:x})=>k.view.nu(x,Q))));const Z=F&&F.targetChanges.get(k.targetId),ue=F&&F.targetMismatches.get(k.targetId)!=null,se=k.view.applyChanges(Q,N.isPrimaryClient,Z,ue);return rR(N,k.targetId,se._u),se.snapshot})(t,_,E,w);const o=await WA(t.localStore,e,!0),c=new tj(e,o.qs),d=c.nu(o.documents),f=bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,f);rR(t,n,p._u);const y=new nj(e,n,c);return t.Pu.set(e,y),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),p.snapshot}async function lj(t,e,n){const r=Ce(t),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter((c=>!dg(c,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await s0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&CE(r.remoteStore,s.targetId),l0(r,s.targetId)})).catch(Xc)):(l0(r,s.targetId),await s0(r.localStore,s.targetId,!0))}async function cj(t,e){const n=Ce(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),CE(n.remoteStore,r.targetId))}async function uj(t,e,n){const r=yj(t);try{const s=await(function(c,d){const f=Ce(c),p=Rt.now(),y=d.reduce(((w,A)=>w.add(A.key)),Xe());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let A=Cs(),N=Xe();return f.Os.getEntries(w,y).next((k=>{A=k,A.forEach(((z,F)=>{F.isValidDocument()||(N=N.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,A))).next((k=>{_=k;const z=[];for(const F of d){const Q=xU(F,_.get(F.key).overlayedDocument);Q!=null&&z.push(new ho(F.key,Q,UC(Q.value.mapValue),Zt.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,z,d)})).next((k=>{E=k;const z=k.applyToLocalDocumentSet(_,N);return f.documentOverlayCache.saveOverlays(w,k.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:YC(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,d,f){let p=c.Ru[c.currentUser.toKey()];p||(p=new Ot($e)),p=p.insert(d,f),c.Ru[c.currentUser.toKey()]=p})(r,s.batchId,n),await wf(r,s.changes),await _g(r.remoteStore)}catch(s){const o=ME(s,"Failed to persist write");n.reject(o)}}async function ON(t,e){const n=Ce(t);try{const r=await TV(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=n.Eu.get(o);c&&(tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?tt(c.lu,14607):s.removedDocuments.size>0&&(tt(c.lu,42227),c.lu=!1))})),await wf(n,r,e)}catch(r){await Xc(r)}}function nR(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const f=Ce(c);f.onlineState=d;let p=!1;f.queries.forEach(((y,_)=>{for(const E of _.wa)E.va(d)&&(p=!0)})),p&&UE(f)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dj(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let c=new Ot(be.comparator);c=c.insert(o,gn.newNoDocument(o,Ie.min()));const d=Xe().add(o),f=new mg(Ie.min(),new Map,new Ot($e),c,d);await ON(r,f),r.du=r.du.remove(o),r.Eu.delete(e),BE(r)}else await s0(r.localStore,e,!1).then((()=>l0(r,e,n))).catch(Xc)}async function fj(t,e){const n=Ce(t),r=e.batch.batchId;try{const s=await bV(n.localStore,e);MN(n,r,null),DN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wf(n,s)}catch(s){await Xc(s)}}async function hj(t,e,n){const r=Ce(t);try{const s=await(function(c,d){const f=Ce(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,d).next((_=>(tt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);MN(r,e,n),DN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wf(r,s)}catch(s){await Xc(s)}}function DN(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function MN(t,e,n){const r=Ce(t);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function l0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||PN(t,r)}))}function PN(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(CE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),BE(t))}function rR(t,e,n){for(const r of n)r instanceof CN?(t.Au.addReference(r.key,e),pj(t,r)):r instanceof NN?(ye(jE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||PN(t,r.key)):we(19791,{yu:r})}function pj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ye(jE,"New document in limbo: "+n),t.Iu.add(r),BE(t))}function BE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new be(ht.fromString(e)),r=t.mu.next();t.Eu.set(r,new rj(n)),t.du=t.du.insert(n,r),TN(t.remoteStore,new Ba(Mi(ug(n.path)),r,"TargetPurposeLimboResolution",og.ue))}}async function wf(t,e,n){const r=Ce(t),s=[],o=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,f)=>{c.push(r.gu(f,e,n).then((p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=RE.Es(f.targetId,p);o.push(_)}})))})),await Promise.all(c),r.hu.J_(s),await(async function(f,p){const y=Ce(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ce.forEach(p,(E=>ce.forEach(E.Is,(w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w))).next((()=>ce.forEach(E.ds,(w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))))))}catch(_){if(!Jc(_))throw _;ye(IE,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.Fs.get(E),A=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(A);y.Fs=y.Fs.insert(E,N)}}})(r.localStore,o))}async function mj(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ye(jE,"User change. New user:",e.toKey());const r=await EN(n.localStore,e);n.currentUser=e,(function(o,c){o.Vu.forEach((d=>{d.forEach((f=>{f.reject(new de(ee.CANCELLED,c))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wf(n,r.Bs)}}function gj(t,e){const n=Ce(t),r=n.Eu.get(e);if(r&&r.lu)return Xe().add(r.key);{let s=Xe();const o=n.Tu.get(e);if(!o)return s;for(const c of o){const d=n.Pu.get(c);s=s.unionWith(d.view.tu)}return s}}function LN(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ON.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dj.bind(null,e),e.hu.J_=ZV.bind(null,e.eventManager),e.hu.pu=ej.bind(null,e.eventManager),e}function yj(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hj.bind(null,e),e}class Am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return SV(this.persistence,new _V,e.initialUser,this.serializer)}Du(e){return new vN(AE.Vi,this.serializer)}bu(e){return new xV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Am.provider={build:()=>new Am};class UN extends Am{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){tt(this.persistence.referenceDelegate instanceof Tm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rV(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new vN((r=>Tm.Vi(r,n)),this.serializer)}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mj.bind(null,this.syncEngine),await QV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JV})()}createDatastore(e){const n=gg(e.databaseInfo.databaseId),r=(function(o){return new DV(o)})(e.databaseInfo);return(function(o,c,d,f){return new UV(o,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,c,d){return new jV(r,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>nR(this.syncEngine,n,0)),(function(){return QA.C()?new QA:new CV})())}createSyncEngine(e,n){return(function(s,o,c,d,f,p,y){const _=new ij(s,o,c,d,f,p);return y&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Ce(s);ye(ol,"RemoteStore shutting down."),o.Ia.add(5),await Tf(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class _j{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,o){const c=Ce(s),d={documents:o.map((_=>bm(c.serializer,_)))},f=await c.Jo("BatchGetDocuments",c.serializer.databaseId,ht.emptyPath(),d,o.length),p=new Map;f.forEach((_=>{const E=zU(c.serializer,_);p.set(E.key.toString(),E)}));const y=[];return o.forEach((_=>{const E=p.get(_.toString());tt(!!E,55234,{key:_}),y.push(E)})),y})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=be.fromPath(r);this.mutations.push(new rN(s,this.precondition(s)))})),await(async function(r,s){const o=Ce(r),c={writes:s.map((d=>fN(o.serializer,d)))};await o.Wo("Commit",o.serializer.databaseId,ht.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw we(50498,{Wu:e.constructor.name});n=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new de(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ie.min())?Zt.exists(!1):Zt.updateTime(n):Zt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ie.min()))throw new de(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(n)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vj{constructor(e,n,r,s,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=o,this.Gu=r.maxAttempts,this.F_=new xE(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new _j(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Hu(s)}))))})).catch((r=>{this.Hu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!vf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!iN(n)}return!1}}const ao="FirestoreClient";class Ej{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mn.UNAUTHENTICATED,this.clientId=hE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ye(ao,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(ao,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ME(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dv(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await EN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{eo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{ye("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{eo("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),t._offlineComponents=e}async function iR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sj(t);ye(ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>JA(e.remoteStore,s))),t._onlineComponents=e}async function Sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ao,"Using user provided OfflineComponentProvider");try{await dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await dv(t,new Am)}}else ye(ao,"Using default OfflineComponentProvider"),await dv(t,new UN(void 0));return t._offlineComponents}async function FE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ao,"Using user provided OnlineComponentProvider"),await iR(t,t._uninitializedComponentsProvider._online)):(ye(ao,"Using default OnlineComponentProvider"),await iR(t,new Rm))),t._onlineComponents}function bj(t){return FE(t).then((e=>e.syncEngine))}function VN(t){return FE(t).then((e=>e.datastore))}async function Im(t){const e=await FE(t),n=e.eventManager;return n.onListen=sj.bind(null,e.syncEngine),n.onUnlisten=lj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cj.bind(null,e.syncEngine),n}function Tj(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,f,p){const y=new zE({next:E=>{y.Ou(),c.enqueueAndForget((()=>LE(o,_)));const w=E.docs.has(d);!w&&E.fromCache?p.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new VE(ug(d.path),y,{includeMetadataChanges:!0,ka:!0});return PE(o,_)})(await Im(t),t.asyncQueue,e,n,r))),r.promise}function wj(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,f,p){const y=new zE({next:E=>{y.Ou(),c.enqueueAndForget((()=>LE(o,_))),E.fromCache&&f.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new VE(d,y,{includeMetadataChanges:!0,ka:!0});return PE(o,_)})(await Im(t),t.asyncQueue,e,n,r))),r.promise}function Aj(t,e,n){const r=new ai;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await VN(t);r.resolve((async function(c,d,f){var p;const y=Ce(c),{request:_,ft:E,parent:w}=$U(y.serializer,hU(d),f);y.connection.Qo||delete _.parent;const A=(await y.Jo("RunAggregationQuery",y.serializer.databaseId,w,_,1)).filter((k=>!!k.result));tt(A.length===1,64727);const N=(p=A[0].result)===null||p===void 0?void 0:p.aggregateFields;return Object.keys(N).reduce(((k,z)=>(k[E[z]]=N[z],k)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}function jN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const sR=new Map;const BN="firestore.googleapis.com",aR=!0;class oR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BN,this.ssl=aR}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:aR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_N)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new N5;switch(r.type){case"firstParty":return new M5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sR.get(n);r&&(ye("ComponentProvider","Removing Datastore"),sR.delete(n),r.terminate())})(this),Promise.resolve()}}function Rj(t,e,n,r={}){var s;t=yn(t,Af);const o=zi(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(df(`https://${f}`),tg("Firestore",!0)),c.host!==BN&&c.host!==f&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:r});if(!Ja(p,d)&&(t._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Mn.MOCK_USER;else{y=Dx(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Mn(E)}t._authCredentials=new k5(new AC(y,_))}}class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_f(n,kt._jsonSchema))return new kt(e,r||null,new be(ht.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:en("string",kt._jsonSchemaVersion),referencePath:en("string")};class Ga extends fi{constructor(e,n,r){super(e,n,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new be(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function Ns(t,e,...n){if(t=at(t),pE("collection","path",e),t instanceof Af){const r=ht.fromString(e,...n);return SA(r),new Ga(t,null,r)}{if(!(t instanceof kt||t instanceof Ga))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return SA(r),new Ga(t.firestore,null,r)}}function bX(t,e){if(t=yn(t,Af),pE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fi(t,null,(function(r){return new fo(ht.emptyPath(),r)})(e))}function qr(t,e,...n){if(t=at(t),arguments.length===1&&(e=hE.newId()),pE("doc","path",e),t instanceof Af){const r=ht.fromString(e,...n);return EA(r),new kt(t,null,new be(r))}{if(!(t instanceof kt||t instanceof Ga))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return EA(r),new kt(t.firestore,t instanceof Ga?t.converter:null,new be(r))}}const lR="AsyncQueue";class cR{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xE(this,"async_queue_retry"),this.oc=()=>{const r=uv();r&&ye(lR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new ai;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Jc(e))throw e;ye(lR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,xs("INTERNAL UNHANDLED ERROR: ",uR(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=DE.createAndSchedule(this,e,n,r,(o=>this.lc(o)));return this.ec.push(s),s}ac(){this.tc&&we(47125,{hc:uR(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function uR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function dR(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class $r extends Af{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cR,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cR(e),this._firestoreClient=void 0,await e}}}function Ij(t,e,n){n||(n=jd);const r=Yc(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Ja(o,e))return s;throw new de(ee.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new de(ee.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_N)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&zi(e.host)&&df(e.host),r.initialize({options:e,instanceIdentifier:n})}function xj(t,e){const n=typeof t=="object"?t:pf(),r=typeof t=="string"?t:jd,s=Yc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=eE("firestore");o&&Rj(s,...o)}return s}function yl(t){if(t._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cj(t),t._firestoreClient}function Cj(t){var e,n,r;const s=t._freezeSettings(),o=(function(d,f,p,y){return new J5(d,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,jN(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Ej(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}})(t._componentsProvider))}class Nj{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class kj{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(xn.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_f(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:en("string",Sr._jsonSchemaVersion),bytes:en("string")};class _l{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function TX(){return new _l(Qv)}class vg{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(_f(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:en("string",Pi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_f(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:en("string",Li._jsonSchemaVersion),vectorValues:en("object")};const Oj=/^__.*__$/;class Dj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ef(e,this.data,n,this.fieldTransforms)}}class zN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ec:t})}}class HE{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new HE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(FN(this.Ec)&&Oj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Mj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gg(e)}Dc(e,n,r,s=!1){return new HE({Ec:e,methodName:n,bc:r,path:In.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vl(t){const e=t._freezeSettings(),n=gg(t._databaseId);return new Mj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Eg(t,e,n,r,s,o={}){const c=t.Dc(o.merge||o.mergeFields?2:0,e,n,s);WE("Data must be an object, but it was:",c,r);const d=qN(r,c);let f,p;if(o.merge)f=new br(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=c0(e,_,n);if(!c.contains(E))throw new de(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);GN(y,E)||y.push(E)}f=new br(y),p=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=c.fieldTransforms;return new Dj(new Wn(d),f,p)}class Sg extends vg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sg}}class qE extends vg{_toFieldTransform(e){return new wU(e.path,new Hd)}isEqual(e){return e instanceof qE}}function $E(t,e,n,r){const s=t.Dc(1,e,n);WE("Data must be an object, but it was:",s,r);const o=[],c=Wn.empty();uo(r,((f,p)=>{const y=YE(e,f,n);p=at(p);const _=s.gc(y);if(p instanceof Sg)o.push(y);else{const E=Rf(p,_);E!=null&&(o.push(y),c.set(y,E))}}));const d=new br(o);return new zN(c,d,s.fieldTransforms)}function GE(t,e,n,r,s,o){const c=t.Dc(1,e,n),d=[c0(e,r,n)],f=[s];if(o.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(c0(e,o[E])),f.push(o[E+1]);const p=[],y=Wn.empty();for(let E=d.length-1;E>=0;--E)if(!GN(p,d[E])){const w=d[E];let A=f[E];A=at(A);const N=c.gc(w);if(A instanceof Sg)p.push(w);else{const k=Rf(A,N);k!=null&&(p.push(w),y.set(w,k))}}const _=new br(p);return new zN(y,_,c.fieldTransforms)}function HN(t,e,n,r=!1){return Rf(n,t.Dc(r?4:3,e))}function Rf(t,e){if($N(t=at(t)))return WE("Unsupported field value:",e,t),qN(t,e);if(t instanceof vg)return(function(r,s){if(!FN(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const d of r){let f=Rf(d,s.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Sm(s.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sm(s.serializer,o)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:lN(s.serializer,r._byteString)};if(r instanceof kt){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Li)return(function(c,d){return{mapValue:{fields:{[PC]:{stringValue:LC},[ym]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.wc("VectorValues must only contain numeric values.");return EE(d.serializer,p)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${ag(r)}`)})(t,e)}function qN(t,e){const n={};return CC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,((r,s)=>{const o=Rf(s,e.Vc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function $N(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Pi||t instanceof Sr||t instanceof kt||t instanceof vg||t instanceof Li)}function WE(t,e,n){if(!$N(n)||!IC(n)){const r=ag(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function c0(t,e,n){if((e=at(e))instanceof _l)return e._internalPath;if(typeof e=="string")return YE(t,e);throw xm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pj=new RegExp("[~\\*/\\[\\]]");function YE(t,e,n){if(e.search(Pj)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _l(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xm(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new de(ee.INVALID_ARGUMENT,d+t+f)}function GN(t,e){return t.some((n=>n.isEqual(e)))}class Gd{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lj extends Gd{data(){return super.data()}}function bg(t,e){return typeof e=="string"?YE(t,e):e instanceof _l?e._internalPath:e._delegate._internalPath}function WN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KE{}class Tg extends KE{}function wg(t,e,...n){let r=[];e instanceof KE&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((f=>f instanceof QE)).length,d=o.filter((f=>f instanceof Ag)).length;if(c>1||c>0&&d>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ag extends Tg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ag(e,n,r)}_apply(e){const n=this._parse(e);return YN(e._query,n),new fi(e.firestore,e.converter,t0(e._query,n))}_parse(e){const n=vl(e.firestore);return(function(o,c,d,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){hR(_,y);const A=[];for(const N of _)A.push(fR(f,o,N));E={arrayValue:{values:A}}}else E=fR(f,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||hR(_,y),E=HN(d,c,_,y==="in"||y==="not-in");return Jt.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wd(t,e,n){const r=e,s=bg("where",t);return Ag._create(s,r,n)}class QE extends KE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let c=s;const d=o.getFlattenedFilters();for(const f of d)YN(c,f),c=t0(c,f)})(e._query,n),new fi(e.firestore,e.converter,t0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class XE extends Tg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new XE(e,n)}_apply(e){const n=(function(s,o,c){if(s.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fd(o,c)})(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,(function(s,o){const c=s.explicitOrderBy.concat([o]);return new fo(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function wX(t,e="asc"){const n=e,r=bg("orderBy",t);return XE._create(r,n)}class JE extends Tg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new JE(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,vm(e._query,this._limit,this._limitType))}}function AX(t){return B5("limit",t),JE._create("limit",t,"F")}class ZE extends Tg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ZE(e,n,r)}_apply(e){const n=Uj(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,(function(s,o){return new fo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)})(e._query,n))}}function RX(...t){return ZE._create("startAfter",t,!1)}function Uj(t,e,n,r){if(n[0]=at(n[0]),n[0]instanceof Gd)return(function(o,c,d,f,p){if(!f)throw new de(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const y=[];for(const _ of Ac(o))if(_.field.isKeyField())y.push(_m(c,f.key));else{const E=f.data.field(_.field);if(lg(E))throw new de(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const w=_.field.canonicalString();throw new de(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}y.push(E)}return new Oc(y,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=vl(t.firestore);return(function(c,d,f,p,y,_){const E=c.explicitOrderBy;if(y.length>E.length)throw new de(ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<y.length;A++){const N=y[A];if(E[A].field.isKeyField()){if(typeof N!="string")throw new de(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof N}`);if(!vE(c)&&N.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${N}' contains a slash.`);const k=c.path.child(ht.fromString(N));if(!be.isDocumentKey(k))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const z=new be(k);w.push(_m(d,z))}else{const k=HN(f,p,N);w.push(k)}}return new Oc(w,_)})(t._query,t.firestore._databaseId,s,e,n,r)}}function fR(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!be.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _m(t,new be(r))}if(n instanceof kt)return _m(t,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(n)}.`)}function hR(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YN(t,e){const n=(function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KN{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ym].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((c=>qt(c.doubleValue)));return new Li(o)}convertGeoPoint(e){return new Pi(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}convertTimestamp(e){const n=no(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);tt(gN(r),9688,{name:e});const s=new Bd(r.get(1),r.get(3)),o=new be(r.popFirst(5));return s.isEqual(n)||xs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function Rg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vj extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function jj(){return new Nj("count")}class yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends Gd{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:en("string",Wa._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Kp extends Wa{data(e={}){return super.data(e)}}class Zo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new yc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Kp(this._firestore,this._userDataWriter,r.key,r,new yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const f=new Kp(s._firestore,s._userDataWriter,d.doc.key,d.doc,new yc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const f=new Kp(s._firestore,s._userDataWriter,d.doc.key,d.doc,new yc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Bj(d.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}function Yd(t){t=yn(t,kt);const e=yn(t.firestore,$r);return Tj(yl(e),t._key).then((n=>XN(e,t,n)))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:en("string",Zo._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class If extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function xf(t){t=yn(t,fi);const e=yn(t.firestore,$r),n=yl(e),r=new If(e);return WN(t._query),wj(n,t._query).then((s=>new Zo(e,r,t,s)))}function zj(t,e,n){t=yn(t,kt);const r=yn(t.firestore,$r),s=Rg(t.converter,e,n);return Cf(r,[Eg(vl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zt.none())])}function eS(t,e,n,...r){t=yn(t,kt);const s=yn(t.firestore,$r),o=vl(s);let c;return c=typeof(e=at(e))=="string"||e instanceof _l?GE(o,"updateDoc",t._key,e,n,r):$E(o,"updateDoc",t._key,e),Cf(s,[c.toMutation(t._key,Zt.exists(!0))])}function Fj(t){return Cf(yn(t.firestore,$r),[new Sf(t._key,Zt.none())])}function QN(t,e){const n=yn(t.firestore,$r),r=qr(t),s=Rg(t.converter,e);return Cf(n,[Eg(vl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then((()=>r))}function IX(t,...e){var n,r,s;t=at(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||dR(e[c])||(o=e[c++]);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(dR(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[c+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let f,p,y;if(t instanceof kt)p=yn(t.firestore,$r),y=ug(t._key.path),f={next:_=>{e[c]&&e[c](XN(p,t,_))},error:e[c+1],complete:e[c+2]};else{const _=yn(t,fi);p=yn(_.firestore,$r),y=_._query;const E=new If(p);f={next:w=>{e[c]&&e[c](new Zo(p,E,_,w))},error:e[c+1],complete:e[c+2]},WN(t._query)}return(function(E,w,A,N){const k=new zE(N),z=new VE(w,k,A);return E.asyncQueue.enqueueAndForget((async()=>PE(await Im(E),z))),()=>{k.Ou(),E.asyncQueue.enqueueAndForget((async()=>LE(await Im(E),z)))}})(yl(p),y,d,f)}function Cf(t,e){return(function(r,s){const o=new ai;return r.asyncQueue.enqueueAndForget((async()=>uj(await bj(r),s,o))),o.promise})(yl(t),e)}function XN(t,e,n){const r=n.docs.get(e._key),s=new If(t);return new Wa(t,s,e._key,r,new yc(n.hasPendingWrites,n.fromCache),e.converter)}function pR(t){return Hj(t,{count:jj()})}function Hj(t,e){const n=yn(t.firestore,$r),r=yl(n),s=Q5(e,((o,c)=>new kU(c,o.aggregateType,o._internalFieldPath)));return Aj(r,t._query,s).then((o=>(function(d,f,p){const y=new If(d);return new kj(f,y,p)})(n,t,o)))}class qj{constructor(e){this.kind="memory",this._onlineComponentProvider=Rm.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new UN(void 0)}}toJSON(){return{kind:this.kind}}}function $j(t){return new qj(t)}const Gj={maxAttempts:5};class Wj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vl(e)}set(e,n,r){this._verifyNotCommitted();const s=za(e,this._firestore),o=Rg(s.converter,n,r),c=Eg(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(c.toMutation(s._key,Zt.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=za(e,this._firestore);let c;return c=typeof(n=at(n))=="string"||n instanceof _l?GE(this._dataReader,"WriteBatch.update",o._key,n,r,s):$E(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,Zt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=za(e,this._firestore);return this._mutations=this._mutations.concat(new Sf(n._key,Zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function za(t,e){if((t=at(t)).firestore!==e)throw new de(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Yj{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=vl(e)}get(e){const n=za(e,this._firestore),r=new Vj(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return we(24041);const o=s[0];if(o.isFoundDocument())return new Gd(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Gd(this._firestore,r,n._key,null,n.converter);throw we(18433,{doc:o})}))}set(e,n,r){const s=za(e,this._firestore),o=Rg(s.converter,n,r),c=Eg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,c),this}update(e,n,r,...s){const o=za(e,this._firestore);let c;return c=typeof(n=at(n))=="string"||n instanceof _l?GE(this._dataReader,"Transaction.update",o._key,n,r,s):$E(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,c),this}delete(e){const n=za(e,this._firestore);return this._transaction.delete(n._key),this}}class Kj extends Yj{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=za(e,this._firestore),r=new If(this._firestore);return super.get(e).then((s=>new Wa(this._firestore,r,n._key,s._document,new yc(!1,!1),n.converter)))}}function xX(t,e,n){t=yn(t,$r);const r=Object.assign(Object.assign({},Gj),n);return(function(o){if(o.maxAttempts<1)throw new de(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,c,d){const f=new ai;return o.asyncQueue.enqueueAndForget((async()=>{const p=await VN(o);new vj(o.asyncQueue,p,d,c,f).zu()})),f.promise})(yl(t),(s=>e(new Kj(t,s))),r)}function Qj(){return new qE("serverTimestamp")}function CX(t){return yl(t=yn(t,$r)),new Wj(t,(e=>Cf(t,e)))}(function(e,n=!0){(function(s){Qc=s})(hl),Za(new As("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new $r(new O5(r.getProvider("auth-internal")),new P5(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(p.options.projectId,y)})(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),zr(gA,yA,e),zr(gA,yA,"esm2017")})();const JN="firebasestorage.googleapis.com",ZN="storageBucket",Xj=120*1e3,Jj=600*1e3;class Bt extends di{constructor(e,n,r=0){super(fv(e),`Firebase Storage: ${n} (${fv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function fv(t){return"storage/"+t}function tS(){const t="An unknown error occurred, please check the error payload for server response.";return new Bt(jt.UNKNOWN,t)}function Zj(t){return new Bt(jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function e9(t){return new Bt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(jt.UNAUTHENTICATED,t)}function n9(){return new Bt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r9(t){return new Bt(jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function i9(){return new Bt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new Bt(jt.CANCELED,"User canceled the upload/download.")}function a9(t){return new Bt(jt.INVALID_URL,"Invalid URL '"+t+"'.")}function o9(t){return new Bt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function l9(){return new Bt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZN+"' property when initializing the app?")}function c9(){return new Bt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u9(){return new Bt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d9(t){return new Bt(jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function u0(t){return new Bt(jt.INVALID_ARGUMENT,t)}function ek(){return new Bt(jt.APP_DELETED,"The Firebase app was deleted.")}function f9(t){return new Bt(jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Id(t,e){return new Bt(jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hd(t){throw new Bt(jt.INTERNAL_ERROR,"Internal error: "+t)}class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw o9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),f={bucket:1,path:3};function p(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${s}/o${E}`,"i"),A={bucket:1,path:3},N=n===JN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",z=new RegExp(`^https?://${N}/${s}/${k}`,"i"),Q=[{regex:d,indices:f,postModify:o},{regex:w,indices:A,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let Z=0;Z<Q.length;Z++){const ue=Q[Z],se=ue.regex.exec(e);if(se){const x=se[ue.indices.bucket];let I=se[ue.indices.path];I||(I=""),r=new Tr(x,I),ue.postModify(r);break}}if(r==null)throw a9(e);return r}}class h9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function p9(t,e,n){let r=1,s=null,o=null,c=!1,d=0;function f(){return d===2}let p=!1;function y(...k){p||(p=!0,e.apply(null,k))}function _(k){s=setTimeout(()=>{s=null,t(w,f())},k)}function E(){o&&clearTimeout(o)}function w(k,...z){if(p){E();return}if(k){E(),y.call(null,k,...z);return}if(f()||c){E(),y.call(null,k,...z);return}r<64&&(r*=2);let Q;d===1?(d=2,Q=0):Q=(r+Math.random())*1e3,_(Q)}let A=!1;function N(k){A||(A=!0,E(),!p&&(s!==null?(k||(d=2),clearTimeout(s),_(0)):k||(d=1)))}return _(0),o=setTimeout(()=>{c=!0,N(!0)},n),N}function m9(t){t(!1)}function g9(t){return t!==void 0}function y9(t){return typeof t=="object"&&!Array.isArray(t)}function nS(t){return typeof t=="string"||t instanceof String}function mR(t){return rS()&&t instanceof Blob}function rS(){return typeof Blob<"u"}function gR(t,e,n,r){if(r<e)throw u0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw u0(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ig(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var el;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(el||(el={}));function _9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}class v9{constructor(e,n,r,s,o,c,d,f,p,y,_,E=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,N)=>{this.resolve_=A,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===el.NO_ERROR,f=o.getStatus();if(!d||_9(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===el.ABORT;r(!1,new wp(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new wp(p,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());g9(f)?o(f):o()}catch(f){c(f)}else if(d!==null){const f=tS();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(s.canceled){const f=this.appDelete_?ek():s9();c(f)}else{const f=i9();c(f)}};this.canceled_?n(!1,new wp(!1,null,!0)):this.backoffId_=p9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function E9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function S9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w9(t,e,n,r,s,o,c=!0,d=!1){const f=tk(t.urlParams),p=t.url+f,y=Object.assign({},t.headers);return b9(y,e),E9(y,n),S9(y,o),T9(y,r),new v9(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,d)}function A9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R9(...t){const e=A9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rS())return new Blob(t);throw new Bt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function I9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function x9(t){if(typeof atob>"u")throw d9("base-64");return atob(t)}const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hv{constructor(e,n){this.data=e,this.contentType=n||null}}function nk(t,e){switch(t){case ii.RAW:return new hv(rk(e));case ii.BASE64:case ii.BASE64URL:return new hv(ik(t,e));case ii.DATA_URL:return new hv(N9(e),k9(e))}throw tS()}function rk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function C9(t){let e;try{e=decodeURIComponent(t)}catch{throw Id(ii.DATA_URL,"Malformed data URL.")}return rk(e)}function ik(t,e){switch(t){case ii.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Id(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Id(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=x9(e)}catch(s){throw s.message.includes("polyfill")?s:Id(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class sk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Id(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=O9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N9(t){const e=new sk(t);return e.base64?ik(ii.BASE64,e.rest):C9(e.rest)}function k9(t){return new sk(t).contentType}function O9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Va{constructor(e,n){let r=0,s="";mR(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(mR(this.data_)){const r=this.data_,s=I9(r,e,n);return s===null?null:new Va(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Va(r,!0)}}static getBlob(...e){if(rS()){const n=e.map(r=>r instanceof Va?r.data_:r);return new Va(R9.apply(null,n))}else{const n=e.map(c=>nS(c)?nk(ii.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)s[o++]=c[d]}),new Va(s,!0)}}uploadData(){return this.data_}}function ak(t){let e;try{e=JSON.parse(t)}catch{return null}return y9(e)?e:null}function D9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ok(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function P9(t,e){return e}class qn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||P9}}let Ap=null;function L9(t){return!nS(t)||t.length<2?t:ok(t)}function lk(){if(Ap)return Ap;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(o,c){return L9(c)}const n=new qn("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const s=new qn("size");return s.xform=r,t.push(s),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),Ap=t,Ap}function U9(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Tr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function V9(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return U9(r,t),r}function ck(t,e,n){const r=ak(e);return r===null?null:V9(t,r,n)}function j9(t,e,n,r){const s=ak(e);if(s===null||!nS(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(p=>{const y=t.bucket,_=t.fullPath,E="/b/"+c(y)+"/o/"+c(_),w=Ig(E,n,r),A=tk({alt:"media",token:p});return w+A})[0]}function B9(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class iS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function uk(t){if(!t)throw tS()}function z9(t,e){function n(r,s){const o=ck(t,s,e);return uk(o!==null),o}return n}function F9(t,e){function n(r,s){const o=ck(t,s,e);return uk(o!==null),j9(o,s,t.host,t._protocol)}return n}function dk(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=n9():s=t9():n.getStatus()===402?s=e9(t.bucket):n.getStatus()===403?s=r9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function fk(t){const e=dk(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=Zj(t.path)),o.serverResponse=s.serverResponse,o}return n}function H9(t,e,n){const r=e.fullServerUrl(),s=Ig(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,d=new iS(s,o,F9(t,n),c);return d.errorHandler=fk(e),d}function q9(t,e){const n=e.fullServerUrl(),r=Ig(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function c(f,p){}const d=new iS(r,s,c,o);return d.successCodes=[200,204],d.errorHandler=fk(e),d}function $9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function G9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$9(null,e)),r}function W9(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Q="";for(let Z=0;Z<2;Z++)Q=Q+Math.random().toString().slice(2);return Q}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const p=G9(e,r,s),y=B9(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",w=Va.getBlob(_,r,E);if(w===null)throw c9();const A={name:p.fullPath},N=Ig(o,t.host,t._protocol),k="POST",z=t.maxUploadRetryTime,F=new iS(N,k,z9(t,n),z);return F.urlParams=A,F.headers=c,F.body=w.uploadData(),F.errorHandler=dk(e),F}class Y9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=el.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=el.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=el.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw hd("cannot .send() more than once");if(zi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K9 extends Y9{initXhr(){this.xhr_.responseType="text"}}function sS(){return new K9}class ll{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ll(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ok(this._location.path)}get storage(){return this._service}get parent(){const e=D9(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new ll(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f9(e)}}function hk(t,e,n){t._throwIfRoot("uploadBytes");const r=W9(t.storage,t._location,lk(),new Va(e,!0),n);return t.storage.makeRequestWithTokens(r,sS).then(s=>({metadata:s,ref:t}))}function Q9(t,e,n=ii.RAW,r){t._throwIfRoot("uploadString");const s=nk(n,e),o=Object.assign({},r);return o.contentType==null&&s.contentType!=null&&(o.contentType=s.contentType),hk(t,s.data,o)}function X9(t){t._throwIfRoot("getDownloadURL");const e=H9(t.storage,t._location,lk());return t.storage.makeRequestWithTokens(e,sS).then(n=>{if(n===null)throw u9();return n})}function J9(t){t._throwIfRoot("deleteObject");const e=q9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,sS)}function Z9(t,e){const n=M9(t._location.path,e),r=new Tr(t._location.bucket,n);return new ll(t.storage,r)}function e8(t){return/^[A-Za-z]+:\/\//.test(t)}function t8(t,e){return new ll(t,e)}function pk(t,e){if(t instanceof aS){const n=t;if(n._bucket==null)throw l9();const r=new ll(n,n._bucket);return e!=null?pk(r,e):r}else return e!==void 0?Z9(t,e):t}function n8(t,e){if(e&&e8(e)){if(t instanceof aS)return t8(t,e);throw u0("To use ref(service, url), the first argument must be a Storage instance.")}else return pk(t,e)}function yR(t,e){const n=e?.[ZN];return n==null?null:Tr.makeFromBucketSpec(n,t)}function r8(t,e,n,r={}){t.host=`${e}:${n}`;const s=zi(e);s&&(df(`https://${t.host}/b`),tg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Dx(o,t.app.options.projectId))}class aS{constructor(e,n,r,s,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=JN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xj,this._maxUploadRetryTime=Jj,this._requests=new Set,s!=null?this._bucket=Tr.makeFromBucketSpec(s,this._host):this._bucket=yR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=yR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ll(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new h9(ek());{const c=w9(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const _R="@firebase/storage",vR="0.13.14";const mk="storage";function NX(t,e,n){return t=at(t),hk(t,e,n)}function kX(t,e,n,r){return t=at(t),Q9(t,e,n,r)}function OX(t){return t=at(t),X9(t)}function DX(t){return t=at(t),J9(t)}function MX(t,e){return t=at(t),n8(t,e)}function i8(t=pf(),e){t=at(t);const r=Yc(t,mk).getImmediate({identifier:e}),s=eE("storage");return s&&s8(r,...s),r}function s8(t,e,n,r={}){r8(t,e,n,r)}function a8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new aS(n,r,s,e,hl)}function o8(){Za(new As(mk,a8,"PUBLIC").setMultipleInstances(!0)),zr(_R,vR,""),zr(_R,vR,"esm2017")}o8();const l8="type.googleapis.com/google.protobuf.Int64Value",c8="type.googleapis.com/google.protobuf.UInt64Value";function gk(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Cm(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Cm(e));if(typeof t=="function"||typeof t=="object")return gk(t,e=>Cm(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Pc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case l8:case c8:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Pc(e)):typeof t=="function"||typeof t=="object"?gk(t,e=>Pc(e)):t}const oS="functions";const ER={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sr extends di{constructor(e,n,r){super(`${oS}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,sr.prototype)}}function u8(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Nm(t,e){let n=u8(t),r=n,s;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!ER[c])return new sr("internal","internal");n=ER[c],r=c}const d=o.message;typeof d=="string"&&(r=d),s=o.details,s!==void 0&&(s=Pc(s))}}catch{}return n==="ok"?null:new sr(n,r,s)}class d8{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Er(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}const d0="us-central1",f8=/^data: (.*?)(?:\n|$)/;function h8(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new sr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class p8{constructor(e,n,r,s,o=d0,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new d8(e,n,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=d0}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function m8(t,e,n){const r=zi(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(df(t.emulatorOrigin),tg("Functions",!0))}function g8(t,e,n){const r=s=>v8(t,e,s,n||{});return r.stream=(s,o)=>E8(t,e,s,o),r}function y8(t,e,n){const r=s=>_k(t,e,s,n||{});return r.stream=(s,o)=>vk(t,e,s,o||{}),r}async function _8(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function yk(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function v8(t,e,n,r){const s=t._url(e);return _k(t,s,n,r)}async function _k(t,e,n,r){n=Cm(n);const s={data:n},o=await yk(t,r),c=r.timeout||7e4,d=h8(c),f=await Promise.race([_8(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new sr("cancelled","Firebase Functions instance was deleted.");const p=Nm(f.status,f.json);if(p)throw p;if(!f.json)throw new sr("internal","Response is not valid JSON object.");let y=f.json.data;if(typeof y>"u"&&(y=f.json.result),typeof y>"u")throw new sr("internal","Response is missing data field.");return{data:Pc(y)}}function E8(t,e,n,r){const s=t._url(e);return vk(t,s,n,r||{})}async function vk(t,e,n,r){var s;n=Cm(n);const o={data:n},c=await yk(t,r);c["Content-Type"]="application/json",c.Accept="text/event-stream";let d;try{d=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:c,signal:r?.signal})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const N=new sr("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const A=Nm(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let f,p;const y=new Promise((w,A)=>{f=w,p=A});(s=r?.signal)===null||s===void 0||s.addEventListener("abort",()=>{const w=new sr("cancelled","Request was cancelled.");p(w)});const _=d.body.getReader(),E=S8(_,f,p,r?.signal);return{stream:{[Symbol.asyncIterator](){const w=E.getReader();return{async next(){const{value:A,done:N}=await w.read();return{value:A,done:N}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:y}}function S8(t,e,n,r){const s=(c,d)=>{const f=c.match(f8);if(!f)return;const p=f[1];try{const y=JSON.parse(p);if("result"in y){e(Pc(y.result));return}if("message"in y){d.enqueue(Pc(y.message));return}if("error"in y){const _=Nm(0,y);d.error(_),n(_);return}}catch(y){if(y instanceof sr){d.error(y),n(y);return}}},o=new TextDecoder;return new ReadableStream({start(c){let d="";return f();async function f(){if(r?.aborted){const p=new sr("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:y}=await t.read();if(y){d.trim()&&s(d.trim(),c),c.close();return}if(r?.aborted){const E=new sr("cancelled","Request was cancelled");c.error(E),n(E),await t.cancel();return}d+=o.decode(p,{stream:!0});const _=d.split(`
`);d=_.pop()||"";for(const E of _)E.trim()&&s(E.trim(),c);return f()}catch(p){const y=p instanceof sr?p:Nm(0,null);c.error(y),n(y)}}},cancel(){return t.cancel()}})}const SR="@firebase/functions",bR="0.12.9";const b8="auth-internal",T8="app-check-internal",w8="messaging-internal";function A8(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(b8),c=n.getProvider(w8),d=n.getProvider(T8);return new p8(s,o,c,d,r)};Za(new As(oS,e,"PUBLIC").setMultipleInstances(!0)),zr(SR,bR,t),zr(SR,bR,"esm2017")}function R8(t=pf(),e=d0){const r=Yc(at(t),oS).getImmediate({identifier:e}),s=eE("functions");return s&&I8(r,...s),r}function I8(t,e,n){m8(at(t),e,n)}function Ek(t,e,n){return g8(at(t),e,n)}function PX(t,e,n){return y8(at(t),e,n)}A8();const x8={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Kd=t3().length===0?Lx(x8):pf(),km=R5(Kd);let f0;try{try{const e=indexedDB.deleteDatabase("firestore/[DEFAULT]/truckerapp-system/main");e.onsuccess=()=>console.log(" Persistence cleared"),e.onerror=()=>console.log(" Persistence clear skipped")}catch{}f0=Ij(Kd,{localCache:$j(),experimentalForceLongPolling:!0})}catch{f0=xj(Kd)}const tn=f0,LX=i8(Kd),Sk=R8(Kd);console.log("Firebase has been connected safely (HMR-Optimized)!");const bk=({className:t="",size:e="h-16 w-16"})=>T.jsx("div",{className:`relative flex items-center justify-center ${t}`,children:T.jsxs("svg",{className:`${e}`,viewBox:"0 0 150 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M84.5048 0H38.3646C35.6441 0 33.1101 1.38249 31.6377 3.67003L10.0621 37.1892C7.65527 40.9284 8.00677 45.8078 10.9247 49.1634L34.5051 76.2809C35.4547 77.373 36.831 78 38.2782 78H84.5043C85.3578 78 85.819 76.9996 85.2647 76.3506L60.1709 46.969C57.4395 43.7709 57.2872 39.1074 59.8042 35.7379L85.306 1.59845C85.7986 0.938977 85.328 0 84.5048 0Z",fill:"url(#loader_paint0_linear)",className:"animate-s-float",style:{animationDelay:"0s"}}),T.jsx("path",{d:"M76.26 51.5H115.994C118.229 51.5 120.362 52.4346 121.876 54.0776L143.684 77.7336C146.805 81.1193 147.211 86.1988 144.667 90.037L120.983 125.763C120.057 127.16 118.492 128 116.816 128H68.9479C68.5459 128 68.3082 127.549 68.5353 127.218L96.563 86.2541C98.8806 82.8668 98.613 78.3405 95.9123 75.2499L75.8835 52.329C75.6009 52.0056 75.8306 51.5 76.26 51.5Z",fill:"#004C68",className:"animate-s-float",style:{animationDelay:"0.15s"}}),T.jsx("path",{d:"M145.426 0.0370348L97.1296 0.476095C95.4834 0.49106 93.9501 1.31535 93.0296 2.68018L67.603 40.3817C66.7071 41.7101 67.6589 43.5 69.2612 43.5H111.534C114.663 43.5 117.611 42.0361 119.501 39.5439L147.038 3.24572C148.042 1.92198 147.088 0.0219304 145.426 0.0370348Z",fill:"#0BE2A4",className:"animate-s-float",style:{animationDelay:"0.3s"}}),T.jsx("path",{d:"M83.603 85.5H34.9709C33.4135 85.5 31.9451 86.2257 30.9991 87.4627L2.45845 124.785C1.45208 126.101 2.39046 128 4.04717 128H51.8679C55.0895 128 58.1139 126.448 59.9923 123.83L85.2279 88.6661C86.1775 87.3428 85.2318 85.5 83.603 85.5Z",fill:"#004C68",className:"animate-s-float",style:{animationDelay:"0.45s"}}),T.jsx("defs",{children:T.jsxs("linearGradient",{id:"loader_paint0_linear",x1:"42.5",y1:"55",x2:"83",y2:"75.5",gradientUnits:"userSpaceOnUse",children:[T.jsx("stop",{offset:"0.283654",stopColor:"#0CE1A5"}),T.jsx("stop",{offset:"0.913462",stopColor:"#077B5A"})]})})]})});async function UX(){return await xf(Ns(tn,"companies"))}async function C8(t){if(!t)return null;try{const e=await Yd(qr(tn,"companies",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){return console.error(`Error fetching company profile for ${t}:`,e),null}}async function VX(t){const e=wg(Ns(tn,"companies"),Wd("appSlug","==",t.appSlug));if(!(await xf(e)).empty)throw new Error(`The URL Slug "${t.appSlug}" is already taken. Please choose a unique one.`);return await QN(Ns(tn,"companies"),t)}async function jX(t,e,n){if(e.appSlug&&n&&e.appSlug!==n){const s=wg(Ns(tn,"companies"),Wd("appSlug","==",e.appSlug)),o=await xf(s);let c=!1;if(o.forEach(d=>{d.id===t&&(c=!0)}),!o.empty&&!c)throw new Error(`The URL Slug "${e.appSlug}" is already taken. Please choose a unique one.`)}const r=qr(tn,"companies",t);return await eS(r,e)}async function BX(t,e){if(!t)throw new Error("Missing Company ID");const n=qr(tn,"companies",t),r={};return e.companyName&&(r.companyName=e.companyName),e.contact&&(r.contact=e.contact),e.address&&(r.address=e.address),e.legal&&(r.legal=e.legal),e.hiringPreferences&&(r.hiringPreferences=e.hiringPreferences),e.structuredOffers&&(r.structuredOffers=e.structuredOffers),e.customQuestions&&(r.customQuestions=e.customQuestions),e.companyLogoUrl&&(r.companyLogoUrl=e.companyLogoUrl),e.driverTypes&&(r.driverTypes=e.driverTypes),e.applicationConfig&&(r.applicationConfig=e.applicationConfig),e.hiringPositions&&(r.hiringPositions=e.hiringPositions),await eS(n,r)}const N8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TR=t=>{const e=k8(t);return e.charAt(0).toUpperCase()+e.slice(1)},Tk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),O8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var D8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const M8=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},f)=>j.createElement("svg",{ref:f,...D8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Tk("lucide",s),...!o&&!O8(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>j.createElement(p,y)),...Array.isArray(o)?o:[o]]));const Ve=(t,e)=>{const n=j.forwardRef(({className:r,...s},o)=>j.createElement(M8,{ref:o,iconNode:e,className:Tk(`lucide-${N8(TR(t))}`,`lucide-${t}`,r),...s}));return n.displayName=TR(t),n};const P8=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],L8=Ve("arrow-down",P8);const U8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],V8=Ve("arrow-left",U8);const j8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Om=Ve("arrow-right",j8);const B8=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],z8=Ve("arrow-up",B8);const F8=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H8=Ve("ban",F8);const q8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Nf=Ve("briefcase",q8);const $8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],G8=Ve("building-2",$8);const W8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Y8=Ve("calendar",W8);const K8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Q8=Ve("chevron-left",K8);const X8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J8=Ve("chevron-right",X8);const Z8=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],eB=Ve("chevrons-up-down",Z8);const tB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lS=Ve("circle-alert",tB);const nB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wk=Ve("circle-check-big",nB);const rB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qp=Ve("circle-check",rB);const iB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sB=Ve("circle-x",iB);const aB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h0=Ve("clock",aB);const oB=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],lB=Ve("cloud-upload",oB);const cB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uB=Ve("eye-off",cB);const dB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ak=Ve("eye",dB);const fB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hB=Ve("funnel",fB);const pB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mB=Ve("house",pB);const gB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rk=Ve("info",gB);const yB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qd=Ve("loader-circle",yB);const _B=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ik=Ve("lock",_B);const vB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EB=Ve("log-out",vB);const SB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wR=Ve("mail",SB);const bB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TB=Ve("map-pin",bB);const wB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],AB=Ve("message-square",wB);const RB=[["path",{d:"m16 8 6-6",key:"oawc05"}],["path",{d:"M22 8V2h-6",key:"oqy2zc"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IB=Ve("phone-outgoing",RB);const xB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],CB=Ve("phone",xB);const NB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xk=Ve("refresh-cw",NB);const kB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OB=Ve("search",kB);const DB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cS=Ve("square-check-big",DB);const MB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],uS=Ve("square",MB);const PB=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],LB=Ve("thumbs-down",PB);const UB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dS=Ve("triangle-alert",UB);const VB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],jB=Ve("truck",VB);const BB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zB=Ve("user-plus",BB);const FB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HB=Ve("user",FB);const qB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ck=Ve("users",qB);const $B=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GB=Ve("wifi-off",$B);const WB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nk=Ve("x",WB);const YB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],p0=Ve("zap",YB),Xd=[{key:"name",label:"Driver / Contact",className:"text-left align-middle",widthClass:"w-[30%] min-w-[220px]"},{key:"status",label:"Status",className:"text-center align-middle",widthClass:"w-[12%] min-w-[100px]"},{key:"lastCall",label:"Last Call",className:"text-center align-middle",widthClass:"w-[15%] min-w-[130px]"},{key:"qualifications",label:"Position / Type",className:"text-left align-middle",widthClass:"w-[19%] min-w-[180px]"},{key:"assignee",label:"Recruiter",className:"text-left align-middle",widthClass:"w-[13%] min-w-[120px]"},{key:"date",label:"Application Date",className:"text-right align-middle",widthClass:"w-[11%] min-w-[110px]"}],AR=Xd.map(t=>t.key),KB=["Dry Van","Reefer","Flatbed","Tanker","Box Truck","Car Hauler","Step Deck","Lowboy","Conestoga","Intermodal","Power Only","Hotshot"];function QB({startTime:t}){const[e,n]=j.useState("--:--:--"),[r,s]=j.useState(!1),[o,c]=j.useState("pending");return j.useEffect(()=>{const d=()=>{const p=new Date,_=new Intl.DateTimeFormat("en-US",{timeZone:"America/Chicago",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).formatToParts(p),E=se=>{const x=_.find(I=>I.type===se);return x?parseInt(x.value):0},w=E("year"),A=E("month"),N=E("day"),k=E("hour"),z=E("minute"),F=E("second"),Q=new Date(w,A-1,N,k,z,F),Z=new Date(w,A-1,N,7,0,0);k>=7&&Z.setDate(Z.getDate()+1);const ue=Z.getTime()-Q.getTime();if(ue<=0)n("00:00:00"),s(!0),c("expired");else{c("active");const se=Math.floor(ue/(1e3*60*60)),x=Math.floor(ue%(1e3*60*60)/(1e3*60)),I=Math.floor(ue%(1e3*60)/1e3),O=se.toString().padStart(2,"0"),D=x.toString().padStart(2,"0"),P=I.toString().padStart(2,"0");n(`${O}:${D}:${P}`),s(se<4)}};d();const f=setInterval(d,1e3);return()=>clearInterval(f)},[]),o==="pending"?T.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 bg-gray-50 text-gray-500 text-xs font-medium",title:"Waiting for Super Admin to trigger distribution",children:[T.jsx(h0,{size:14}),T.jsx("span",{children:"Next Batch: Pending"})]}):o==="expired"?T.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-orange-200 bg-orange-50 text-orange-700 text-xs font-bold animate-pulse",children:[T.jsx(xk,{size:14,className:"animate-spin"}),T.jsx("span",{children:"Rotation In Progress..."})]}):T.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm font-mono font-bold shadow-sm transition-colors duration-500
            ${r?"bg-red-50 text-red-600 border-red-200":"bg-purple-50 text-purple-700 border-purple-200"}`,title:"Time remaining until these leads rotate to another company",children:[T.jsx(h0,{size:16,className:r?"animate-pulse":""}),T.jsx("span",{children:e})]})}const XB=j.memo(function({activeTab:e,dataCount:n,totalCount:r,searchQuery:s,setSearchQuery:o,filters:c,setFilters:d,clearFilters:f,onShowSafeHaulInfo:p,latestBatchTime:y,visibleColumns:_,setVisibleColumns:E,selectedCount:w=0,onAssignLeads:A,canAssign:N}){const[k,z]=j.useState(!1),[F,Q]=j.useState(!1),Z=j.useRef(null),ue=()=>{switch(e){case"applications":return"Direct Applications";case"find_driver":return"SafeHaul Network Leads";case"company_leads":return"Imported Company Leads";case"my_leads":return"My Assigned Drivers";default:return"Drivers"}},se=(O,D)=>{d(O,D)},x=j.useMemo(()=>c&&(c.state||c.driverType||c.dob||c.assignee),[c]),I=O=>{if(_.includes(O)){if(_.length<=1)return;E(_.filter(D=>D!==O))}else{const D=new Set([..._,O]),P=Xd.filter(U=>D.has(U.key)).map(U=>U.key);E(P)}};return j.useEffect(()=>{const O=D=>{Z.current&&!Z.current.contains(D.target)&&Q(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),T.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white z-30 flex flex-col gap-3 shrink-0 relative",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e==="find_driver"&&T.jsx(p0,{size:18,className:"text-purple-600 fill-purple-100"}),e==="company_leads"&&T.jsx(Nf,{size:18,className:"text-orange-600"}),ue()]}),T.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Showing ",n," of ",r," records"]})]}),e==="find_driver"&&T.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[T.jsx(QB,{startTime:y}),T.jsx("button",{onClick:p,className:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors",title:"How SafeHaul Leads Work",children:T.jsx(Rk,{size:18})})]}),N&&w>0&&T.jsx("div",{className:"animate-in fade-in slide-in-from-left-2 pl-4 border-l border-gray-200",children:T.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white text-sm font-bold rounded-lg shadow-sm hover:bg-blue-700 transition-colors",children:[T.jsx(Ck,{size:16})," Assign (",w,")"]})})]}),T.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[T.jsxs("div",{className:"relative flex-1 sm:w-64",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(OB,{size:16,className:"text-gray-400"})}),T.jsx("input",{type:"text",placeholder:"Search name, phone, email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none",value:s,onChange:O=>o(O.target.value)})]}),T.jsxs("div",{className:"relative",ref:Z,children:[T.jsxs("button",{onClick:()=>Q(!F),className:`p-2 rounded-lg border transition-all flex items-center gap-2 text-sm font-medium ${F?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,title:"Customize Columns",children:[T.jsx(Ak,{size:16}),T.jsx("span",{className:"hidden sm:inline",children:"View"})]}),F&&T.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-200 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:[T.jsx("div",{className:"p-3 border-b border-gray-100 bg-gray-50",children:T.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Show Columns"})}),T.jsx("div",{className:"p-2 space-y-1",children:Xd.map(O=>{const D=_.includes(O.key);return T.jsxs("button",{onClick:()=>I(O.key),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors text-left",children:[D?T.jsx(cS,{size:16,className:"text-blue-600"}):T.jsx(uS,{size:16,className:"text-gray-400"}),O.label]},O.key)})})]})]}),T.jsxs("button",{onClick:()=>z(!k),className:`p-2 rounded-lg border transition-all flex items-center gap-2 text-sm font-medium ${k||x?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[T.jsx(hB,{size:16}),T.jsx("span",{className:"hidden sm:inline",children:"Filters"}),x&&T.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"})]})]})]}),k&&T.jsx("div",{className:"pt-3 pb-1 border-t border-dashed border-gray-200 animate-in slide-in-from-top-2",children:T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Freight Type"}),T.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:c?.driverType||"",onChange:O=>se("driverType",O.target.value),children:[T.jsx("option",{value:"",children:"All Types"}),KB.map(O=>T.jsx("option",{value:O,children:O},O))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"State"}),T.jsx("input",{type:"text",placeholder:"e.g. IL, TX",className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:c?.state||"",onChange:O=>se("state",O.target.value),maxLength:2})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Assigned To"}),T.jsx("input",{type:"text",placeholder:"Search recruiter...",className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:c?.assignee||"",onChange:O=>se("assignee",O.target.value)})]}),T.jsx("div",{className:"flex items-end",children:T.jsxs("button",{onClick:f,className:"w-full p-2 border border-red-200 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[T.jsx(Nk,{size:14})," Clear Filters"]})})]})})]})});function JB(t){return t==null||t===""?"Not Specified":t}function RR(t){return!t||typeof t!="string"?t:t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function zX(t){return!t||t==="New"||t==="0"||t===0||t===""?"Unidentified":`${t} Years`}function ZB(t){if(!t)return"";let e=String(t).trim().replace(/\D/g,"");return e.length===11&&e.startsWith("1")&&(e=e.substring(1)),e}function ez(t){if(!t)return"Not Specified";const e=ZB(t);if(e.length===10){const n=e.match(/^(\d{3})(\d{3})(\d{4})$/);if(n)return`(${n[1]}) ${n[2]}-${n[3]}`}return t||"Not Specified"}function FX(t){switch(t){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Background Check":return"bg-purple-100 text-purple-800";case"Awaiting Documents":return"bg-yellow-100 text-yellow-800";case"Pending Review":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}const Ca=t=>Xd.find(e=>e.key===t)?.widthClass||"",tz=t=>{const e=(t||"").toLowerCase();return e.includes("hired")||e.includes("accepted")||e.includes("approved")?"bg-purple-100 text-purple-800 border-purple-200":e.includes("rejected")||e.includes("disqualified")||e.includes("declined")?"bg-red-100 text-red-800 border-red-200":e.includes("offer")||e.includes("background")?"bg-indigo-100 text-indigo-800 border-indigo-200":e.includes("contacted")||e.includes("attempted")||e.includes("review")?"bg-gray-100 text-gray-700 border-gray-200":e.includes("new")||e.includes("lead")?"bg-green-100 text-green-700 border-green-200":"bg-gray-50 text-gray-600 border-gray-200"},nz=t=>{const e=(t||"").toLowerCase();return e.includes("connected")||e.includes("spoke")||e.includes("interested")?{style:"bg-green-50 text-green-700 border-green-200",icon:Qp}:e.includes("callback")?{style:"bg-blue-50 text-blue-700 border-blue-200",icon:h0}:e.includes("voicemail")?{style:"bg-yellow-50 text-yellow-700 border-yellow-200",icon:AB}:e.includes("no answer")?{style:"bg-red-50 text-red-700 border-red-200",icon:sB}:e.includes("not interested")?{style:"bg-gray-100 text-gray-600 border-gray-200",icon:LB}:e.includes("not qualified")||e.includes("wrong")?{style:"bg-orange-50 text-orange-700 border-orange-200",icon:H8}:e.includes("hired")||e.includes("employed")?{style:"bg-purple-50 text-purple-700 border-purple-200",icon:Nf}:{style:"bg-gray-50 text-gray-500 border-gray-100",icon:IB}};function rz({data:t,selectedId:e,onSelect:n,onPhoneClick:r,totalCount:s,loading:o,visibleColumns:c=["name","status","lastCall","qualifications","assignee","date"],selectedRowIds:d=[],onToggleRow:f,showCheckboxes:p=!1}){return o?T.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:Array.from({length:6}).map((y,_)=>T.jsxs("tr",{className:"animate-pulse",children:[p&&T.jsx("td",{className:"px-6 py-4 w-[5%] min-w-[50px]",children:T.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"})}),c.includes("name")&&T.jsx("td",{className:`px-6 py-4 ${Ca("name")}`,children:T.jsxs("div",{className:"flex gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),T.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]})]})}),c.map((E,w)=>E==="name"?null:T.jsx("td",{className:`px-6 py-4 ${Ca(E)}`,children:T.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})},w))]},_))}):s===0?T.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:T.jsx("tr",{children:T.jsx("td",{colSpan:c.length+(p?1:0),className:"p-12 text-center text-gray-400",children:T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(p0,{size:32,className:"opacity-20"}),T.jsx("p",{children:"No records found."})]})})})}):T.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:t.map(y=>{let _,E,w;if(y.fullName){w=RR(y.fullName);const se=y.fullName.trim().split(" ");_=se[0]||"Unknown",E=se.slice(1).join(" ")||"Driver"}else _=y.firstName||"Unknown",E=y.lastName||"Driver",w=RR(`${_} ${E}`.trim());const A=e===y.id,N=d.includes(y.id);let k="Unspecified";Array.isArray(y.driverType)&&y.driverType.length>0?k=y.driverType.join(", "):typeof y.driverType=="string"&&y.driverType&&(k=y.driverType);const z=y.positionApplyingTo||"Driver",F=y.isPlatformLead?y.distributedAt:y.submittedAt||y.createdAt,Q=F?new Date(F.seconds*1e3).toLocaleDateString():"--",Z=y.isPlatformLead===!0,ue=nz(y.lastCallOutcome);return ue.icon,T.jsxs("tr",{onClick:()=>n(y),className:`cursor-pointer transition-colors group ${A?"bg-blue-50/60":N?"bg-blue-50/30":"hover:bg-gray-50"}`,children:[p&&T.jsx("td",{className:`px-6 py-4 w-[5%] min-w-[50px] align-middle border-l-4 ${A?"border-l-blue-600":"border-l-transparent"}`,onClick:se=>{se.stopPropagation(),f(y.id)},children:T.jsx("div",{className:"flex justify-center",children:N?T.jsx(cS,{size:20,className:"text-blue-600"}):T.jsx(uS,{size:20,className:"text-gray-300 hover:text-gray-500"})})}),c.includes("name")&&T.jsx("td",{className:`px-6 py-4 align-middle overflow-hidden text-left ${Ca("name")} ${p?"":`border-l-4 ${A?"border-l-blue-600":"border-l-transparent"}`}`,children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold border shrink-0 transition-colors ${A?"bg-blue-600 text-white border-blue-600":"bg-gray-100 text-gray-600 border-gray-200 group-hover:bg-white"}`,children:w.charAt(0).toUpperCase()}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-blue-700 transition-colors truncate",children:w}),Z&&T.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold bg-purple-100 text-purple-700 uppercase",children:[T.jsx(p0,{size:10,className:"mr-0.5 fill-purple-700"})," Lead"]})]}),T.jsx("div",{className:"flex items-center gap-3 mt-1",children:T.jsxs("button",{onClick:se=>r(se,y),className:`text-xs rounded px-2 py-1 flex items-center gap-1 transition-all border ${Z?"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100":"bg-gray-50 text-gray-600 border-gray-200 hover:bg-green-50 hover:text-green-700 hover:border-green-200"}`,title:"Call Driver",children:[Z?T.jsx(Ik,{size:10}):T.jsx(CB,{size:12}),Z?"Click to contact":ez(JB(y.phone))]})})]})]})}),c.includes("status")&&T.jsx("td",{className:`px-6 py-4 align-middle text-center ${Ca("status")}`,children:T.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase border ${tz(y.status)}`,children:y.status||"New"})}),c.includes("lastCall")&&T.jsx("td",{className:`px-6 py-4 align-middle text-center ${Ca("lastCall")}`,children:T.jsx("div",{className:"flex flex-col items-center gap-1",children:y.lastCallOutcome?T.jsx("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[9px] font-bold uppercase tracking-wide border ${ue.style}`,children:y.lastCallOutcome}):T.jsx("span",{className:"text-[10px] text-gray-400 italic opacity-60",children:"-"})})}),c.includes("qualifications")&&T.jsx("td",{className:`px-6 py-4 align-middle overflow-hidden text-left ${Ca("qualifications")}`,children:T.jsxs("div",{className:"flex flex-col gap-1.5",children:[T.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-800",children:[T.jsx("div",{className:"p-1 rounded bg-slate-100 text-slate-500 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors",children:T.jsx(Nf,{size:10})}),z]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mt-0.5",children:[y.experience||y["experience-years"]?T.jsxs("span",{className:"bg-slate-50 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded-lg border border-slate-200",children:[y.experience||y["experience-years"]," Exp"]}):null,y.state&&T.jsxs("span",{className:"flex items-center gap-1 bg-slate-50 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded-lg border border-slate-200",children:[T.jsx(TB,{size:10,className:"text-slate-400"})," ",y.state]})]}),T.jsx("p",{className:"text-[10px] text-slate-400 font-medium max-w-[150px] truncate italic",title:k,children:k})]})}),c.includes("assignee")&&T.jsx("td",{className:`px-6 py-4 align-middle text-left ${Ca("assignee")}`,children:y.assignedToName?T.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-700 bg-white px-2 py-1 rounded-full border border-gray-200 w-fit shadow-sm",children:[T.jsx("div",{className:"w-4 h-4 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-[8px] font-bold",children:y.assignedToName.charAt(0)}),y.assignedToName]}):T.jsxs("span",{className:"text-xs text-gray-400 italic flex items-center gap-1",children:[T.jsx(HB,{size:12})," Unassigned"]})}),c.includes("date")&&T.jsx("td",{className:`px-6 py-4 align-middle text-right ${Ca("date")}`,children:T.jsxs("span",{className:"flex items-center justify-end gap-1 text-sm text-gray-600 font-mono",children:[T.jsx(Y8,{size:12,className:"text-gray-400"})," ",Q]})})]},y.id)})})}const HX=j.memo(function({activeTab:e,loading:n,data:r,totalCount:s,selectedId:o,onSelect:c,onPhoneClick:d,searchQuery:f,setSearchQuery:p,filters:y,setFilters:_,currentPage:E,itemsPerPage:w,setItemsPerPage:A,nextPage:N,prevPage:k,totalPages:z,latestBatchTime:F,onShowSafeHaulInfo:Q,canAssign:Z,onAssignLeads:ue}){const[se,x]=j.useState(()=>{try{const fe=localStorage.getItem("dashboardColumns");return fe?JSON.parse(fe):AR}catch{return AR}}),[I,O]=j.useState({key:null,direction:"asc"}),D=j.useMemo(()=>{let fe=[...r];return I.key!==null&&fe.sort((le,L)=>{let q=le[I.key],re=L[I.key];return I.key==="date"&&(q=le.isPlatformLead?le.distributedAt?.seconds:le.submittedAt?.seconds||le.createdAt?.seconds,re=L.isPlatformLead?L.distributedAt?.seconds:L.submittedAt?.seconds||L.createdAt?.seconds),I.key==="name"&&(q=`${le.firstName} ${le.lastName}`.toLowerCase(),re=`${L.firstName} ${L.lastName}`.toLowerCase()),q<re?I.direction==="asc"?-1:1:q>re?I.direction==="asc"?1:-1:0}),fe},[r,I]),P=fe=>{let le="asc";I.key===fe&&I.direction==="asc"&&(le="desc"),O({key:fe,direction:le})},[U,M]=j.useState([]);j.useEffect(()=>{localStorage.setItem("dashboardColumns",JSON.stringify(se))},[se]),j.useEffect(()=>{M([])},[e,E,f]);const ge=j.useMemo(()=>e==="find_driver"?se.filter(fe=>fe!=="status"):se,[se,e]),De=(fe,le)=>{_(L=>({...L,[fe]:le}))},Y=()=>{_({state:"",driverType:"",dob:"",assignee:""}),p("")},ae=fe=>{M(le=>le.includes(fe)?le.filter(L=>L!==fe):[...le,fe])},te=()=>{U.length===r.length?M([]):M(r.map(fe=>fe.id))};return T.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col overflow-hidden h-full",children:[T.jsx(XB,{activeTab:e,dataCount:r.length,totalCount:s,searchQuery:f,setSearchQuery:p,filters:y,setFilters:De,clearFilters:Y,onShowSafeHaulInfo:Q,latestBatchTime:F,visibleColumns:se,setVisibleColumns:x,selectedCount:U.length,canAssign:Z,onAssignLeads:()=>ue(U)}),T.jsx("div",{className:"flex-1 overflow-auto min-h-0 bg-white relative scrollbar-thin scrollbar-thumb-gray-200",children:T.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[T.jsx("thead",{className:"sticky top-0 z-20 shadow-sm transition-all duration-300",children:T.jsxs("tr",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200",children:[Z&&T.jsx("th",{className:"px-6 py-4 w-[5%] min-w-[50px] border-l-4 border-l-transparent cursor-pointer hover:bg-gray-100",onClick:te,children:T.jsx("div",{className:"flex justify-center",children:r.length>0&&U.length===r.length?T.jsx(cS,{size:20,className:"text-blue-600"}):T.jsx(uS,{size:20,className:"text-gray-400"})})}),ge.map((fe,le)=>{const L=Xd.find(me=>me.key===fe);if(!L)return null;const q=le===0&&!Z,re=L.className?.includes("text-center")?"justify-center":L.className?.includes("text-right")?"justify-end":"justify-start";return T.jsx("th",{className:`px-6 py-4 transition-colors select-none ${L.widthClass} ${L.className||""} ${q?"border-l-4 border-l-transparent":""} cursor-pointer hover:bg-gray-50`,onClick:()=>P(L.key),children:T.jsxs("div",{className:`flex items-center gap-1.5 group w-full ${re}`,children:[T.jsx("span",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:L.label}),T.jsx("span",{className:"text-gray-300 group-hover:text-blue-500 shrink-0 transition-all duration-300 transform group-hover:scale-110",children:I.key===L.key?I.direction==="asc"?T.jsx(z8,{size:14,className:"text-blue-600"}):T.jsx(L8,{size:14,className:"text-blue-600"}):T.jsx(eB,{size:14,className:"opacity-0 group-hover:opacity-100"})})]})},L.key)})]})}),T.jsx(rz,{data:D,loading:n,totalCount:s,selectedId:o,onSelect:c,onPhoneClick:d,visibleColumns:ge,showCheckboxes:Z,selectedRowIds:U,onToggleRow:ae})]})}),T.jsxs("div",{className:"border-t border-gray-200 p-3 bg-gray-50 flex flex-col sm:flex-row justify-between items-center gap-4 shrink-0 z-20",children:[T.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-gray-600",children:[T.jsx("span",{children:"Rows per page:"}),T.jsxs("select",{value:w,onChange:fe=>A(Number(fe.target.value)),className:"border-gray-300 rounded-md text-xs py-1.5 pl-2 pr-6 bg-white focus:ring-blue-500 focus:border-blue-500 shadow-sm outline-none cursor-pointer",children:[T.jsx("option",{value:10,children:"10"}),T.jsx("option",{value:20,children:"20"}),T.jsx("option",{value:50,children:"50"}),T.jsx("option",{value:100,children:"100"})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Page ",T.jsx("span",{className:"text-gray-900 font-bold",children:E})," of ",T.jsx("span",{className:"text-gray-900 font-bold",children:z||1})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:k,disabled:E===1||n,className:"p-2 rounded-md bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-gray-900 disabled:opacity-50 disabled:hover:bg-white transition-all shadow-sm",title:"Previous Page",children:T.jsx(Q8,{size:16})}),T.jsx("button",{onClick:N,disabled:E>=z||n,className:"p-2 rounded-md bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-gray-900 disabled:opacity-50 disabled:hover:bg-white transition-all shadow-sm",title:"Next Page",children:T.jsx(J8,{size:16})})]})]})]})]})}),kk=j.createContext(),qX=()=>{const t=j.useContext(kk);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};function iz({children:t}){const[e,n]=j.useState([]),r=j.useCallback(p=>{n(y=>y.filter(_=>_.id!==p))},[]),s=j.useCallback((p,y,_=4e3)=>{const E=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;n(w=>[...w,{id:E,type:p,message:y}]),_&&setTimeout(()=>{r(E)},_)},[r]),o=p=>s("success",p),c=p=>s("error",p),d=p=>s("info",p),f=p=>s("warning",p);return T.jsxs(kk.Provider,{value:{showSuccess:o,showError:c,showInfo:d,showWarning:f},children:[t,T.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:e.map(p=>T.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border animate-in slide-in-from-right-full duration-300
              ${p.type==="success"?"bg-white border-green-200 text-gray-800":""}
              ${p.type==="error"?"bg-white border-red-200 text-gray-800":""}
              ${p.type==="info"?"bg-white border-blue-200 text-gray-800":""}
              ${p.type==="warning"?"bg-white border-yellow-200 text-gray-800":""}
            `,role:"alert",children:[T.jsxs("div",{className:`
              shrink-0 rounded-full p-1
              ${p.type==="success"?"text-green-600 bg-green-50":""}
              ${p.type==="error"?"text-red-600 bg-red-50":""}
              ${p.type==="info"?"text-blue-600 bg-blue-50":""}
              ${p.type==="warning"?"text-yellow-600 bg-yellow-50":""}
            `,children:[p.type==="success"&&T.jsx(wk,{size:18}),p.type==="error"&&T.jsx(lS,{size:18}),p.type==="info"&&T.jsx(Rk,{size:18}),p.type==="warning"&&T.jsx(dS,{size:18})]}),T.jsx("p",{className:"text-sm font-medium pr-4",children:p.message}),T.jsx("button",{onClick:()=>r(p.id),className:"ml-auto text-gray-400 hover:text-gray-600 transition-colors",children:T.jsx(Nk,{size:16})})]},p.id))})]})}const Se=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Je=globalThis,tl="10.38.0";function El(){return xg(Je),Je}function xg(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||tl,e[tl]=e[tl]||{}}function eu(t,e,n=Je){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[tl]=r[tl]||{};return s[t]||(s[t]=e())}const sz=["debug","info","warn","error","log","assert","trace"],az="Sentry Logger ",Dm={};function Sl(t){if(!("console"in Je))return t();const e=Je.console,n={},r=Object.keys(Dm);r.forEach(s=>{const o=Dm[s];n[s]=e[s],e[s]=o});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function oz(){hS().enabled=!0}function lz(){hS().enabled=!1}function Ok(){return hS().enabled}function cz(...t){fS("log",...t)}function uz(...t){fS("warn",...t)}function dz(...t){fS("error",...t)}function fS(t,...e){Se&&Ok()&&Sl(()=>{Je.console[t](`${az}[${t}]:`,...e)})}function hS(){return Se?eu("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const pe={enable:oz,disable:lz,isEnabled:Ok,log:cz,warn:uz,error:dz},Dk=50,cl="?",IR=/\(error: (.*)\)/,xR=/captureMessage|captureException/;function Mk(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],c=n.split(`
`);for(let d=r;d<c.length;d++){let f=c[d];f.length>1024&&(f=f.slice(0,1024));const p=IR.test(f)?f.replace(IR,"$1"):f;if(!p.match(/\S*Error: /)){for(const y of e){const _=y(p);if(_){o.push(_);break}}if(o.length>=Dk+s)break}}return hz(o.slice(s))}}function fz(t){return Array.isArray(t)?Mk(...t):t}function hz(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Rp(e).function||"")&&e.pop(),e.reverse(),xR.test(Rp(e).function||"")&&(e.pop(),xR.test(Rp(e).function||"")&&e.pop()),e.slice(0,Dk).map(n=>({...n,filename:n.filename||Rp(e).filename,function:n.function||cl}))}function Rp(t){return t[t.length-1]||{}}const pv="<anonymous>";function ks(t){try{return!t||typeof t!="function"?pv:t.name||pv}catch{return pv}}function CR(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Pk(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Xp={},NR={};function po(t,e){Xp[t]=Xp[t]||[],Xp[t].push(e)}function mo(t,e){if(!NR[t]){NR[t]=!0;try{e()}catch(n){Se&&pe.error(`Error while instrumenting ${t}`,n)}}}function Fr(t,e){const n=t&&Xp[t];if(n)for(const r of n)try{r(e)}catch(s){Se&&pe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ks(r)}
Error:`,s)}}let mv=null;function Lk(t){const e="error";po(e,t),mo(e,pz)}function pz(){mv=Je.onerror,Je.onerror=function(t,e,n,r,s){return Fr("error",{column:r,error:s,line:n,msg:t,url:e}),mv?mv.apply(this,arguments):!1},Je.onerror.__SENTRY_INSTRUMENTED__=!0}let gv=null;function Uk(t){const e="unhandledrejection";po(e,t),mo(e,mz)}function mz(){gv=Je.onunhandledrejection,Je.onunhandledrejection=function(t){return Fr("unhandledrejection",t),gv?gv.apply(this,arguments):!0},Je.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Vk=Object.prototype.toString;function Cg(t){switch(Vk.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Os(t,Error)}}function tu(t,e){return Vk.call(t)===`[object ${e}]`}function jk(t){return tu(t,"ErrorEvent")}function kR(t){return tu(t,"DOMError")}function gz(t){return tu(t,"DOMException")}function Es(t){return tu(t,"String")}function pS(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Lc(t){return t===null||pS(t)||typeof t!="object"&&typeof t!="function"}function Jd(t){return tu(t,"Object")}function Ng(t){return typeof Event<"u"&&Os(t,Event)}function yz(t){return typeof Element<"u"&&Os(t,Element)}function _z(t){return tu(t,"RegExp")}function nu(t){return!!(t?.then&&typeof t.then=="function")}function vz(t){return Jd(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Os(t,e){try{return t instanceof e}catch{return!1}}function Bk(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function mS(t){return typeof Request<"u"&&Os(t,Request)}const gS=Je,Ez=80;function or(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let o=0,c=0;const d=" > ",f=d.length;let p;const y=Array.isArray(e)?e:e.keyAttrs,_=!Array.isArray(e)&&e.maxStringLength||Ez;for(;n&&o++<r&&(p=Sz(n,y),!(p==="html"||o>1&&c+s.length*f+p.length>=_));)s.push(p),c+=p.length,n=n.parentNode;return s.reverse().join(d)}catch{return"<unknown>"}}function Sz(t,e){const n=t,r=[];if(!n?.tagName)return"";if(gS.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e?.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(s?.length)s.forEach(c=>{r.push(`[${c[0]}="${c[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const c=n.className;if(c&&Es(c)){const d=c.split(/\s+/);for(const f of d)r.push(`.${f}`)}}const o=["aria-label","type","name","title","alt"];for(const c of o){const d=n.getAttribute(c);d&&r.push(`[${c}="${d}"]`)}return r.join("")}function ru(){try{return gS.document.location.href}catch{return""}}function zk(t){if(!gS.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function ar(t,e,n){if(!(e in t))return;const r=t[e];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Fk(s,r);try{t[e]=s}catch{Se&&pe.log(`Failed to replace method "${e}" in object`,t)}}function lr(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Se&&pe.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Fk(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,lr(t,"__sentry_original__",e)}catch{}}function yS(t){return t.__sentry_original__}function Hk(t){if(Cg(t))return{message:t.message,name:t.name,stack:t.stack,...DR(t)};if(Ng(t)){const e={type:t.type,target:OR(t.target),currentTarget:OR(t.currentTarget),...DR(t)};return typeof CustomEvent<"u"&&Os(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function OR(t){try{return yz(t)?or(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function DR(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function bz(t){const e=Object.keys(Hk(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}let lc;function kf(t){if(lc!==void 0)return lc?lc(t):t();const e=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=Je;return e in n&&typeof n[e]=="function"?(lc=n[e],lc(t)):(lc=null,t())}function Ya(){return kf(()=>Math.random())}function Of(){return kf(()=>Date.now())}function m0(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function MR(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{Bk(s)?n.push(Pk(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function Jp(t,e,n=!1){return Es(t)?_z(e)?e.test(t):Es(e)?n?t===e:t.includes(e):!1:!1}function Ss(t,e=[],n=!1){return e.some(r=>Jp(t,r,n))}function Tz(){const t=Je;return t.crypto||t.msCrypto}let yv;function wz(){return Ya()*16}function Ar(t=Tz()){try{if(t?.randomUUID)return kf(()=>t.randomUUID()).replace(/-/g,"")}catch{}return yv||(yv="10000000100040008000"+1e11),yv.replace(/[018]/g,e=>(e^(wz()&15)>>e/4).toString(16))}function qk(t){return t.exception?.values?.[0]}function Ko(t){const{message:e,event_id:n}=t;if(e)return e;const r=qk(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function g0(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=e||""),o.type||(o.type="Error")}function Uc(t,e){const n=qk(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const o={...s?.data,...e.data};n.mechanism.data=o}}function PR(t){if(Az(t))return!0;try{lr(t,"__sentry_captured__",!0)}catch{}return!1}function Az(t){try{return t.__sentry_captured__}catch{}}const $k=1e3;function bl(){return Of()/$k}function Rz(){const{performance:t}=Je;if(!t?.now||!t.timeOrigin)return bl;const e=t.timeOrigin;return()=>(e+kf(()=>t.now()))/$k}let LR;function _n(){return(LR??(LR=Rz()))()}let _v=null;function Iz(){const{performance:t}=Je;if(!t?.now)return;const e=3e5,n=kf(()=>t.now()),r=Of(),s=t.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<e)return s;const o=t.timing?.navigationStart;return typeof o=="number"&&Math.abs(o+n-r)<e?o:r-n}function cr(){return _v===null&&(_v=Iz()),_v}function xz(t){const e=_n(),n={sid:Ar(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Nz(n)};return t&&Vc(n,t),n}function Vc(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_n(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Ar()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Cz(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Vc(t,n)}function Nz(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function Df(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Df(r[s],e[s],n-1));return r}function Ds(){return Ar()}function bs(){return Ar().substring(16)}const y0="_sentrySpan";function jc(t,e){e?lr(t,y0,e):delete t[y0]}function Mm(t){return t[y0]}const kz=100;class Vi{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ds(),sampleRand:Ya()}}clone(){const e=new Vi;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,e._conversationId=this._conversationId,jc(e,Mm(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Vc(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(e){return this._conversationId=e||void 0,this._notifyScopeListeners(),this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this.setTags({[e]:n})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,n){return this.setAttributes({[e]:n})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,r=n instanceof Vi?n.getScopeData():Jd(n)?e:void 0,{tags:s,attributes:o,extra:c,user:d,contexts:f,level:p,fingerprint:y=[],propagationContext:_,conversationId:E}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...o},this._extra={...this._extra,...c},this._contexts={...this._contexts,...f},d&&Object.keys(d).length&&(this._user=d),p&&(this._level=p),y.length&&(this._fingerprint=y),_&&(this._propagationContext=_),E&&(this._conversationId=E),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,jc(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ds(),sampleRand:Ya()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:kz;if(r<=0)return this;const s={timestamp:bl(),...e,message:e.message?m0(e.message,2048):e.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Mm(this),conversationId:this._conversationId}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Df(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n?.event_id||Ar();if(!this._client)return Se&&pe.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r?.event_id||Ar();if(!this._client)return Se&&pe.warn("No client configured on scope - will not capture message!"),s;const o=r?.syntheticException??new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:o,...r,event_id:s},this),s}captureEvent(e,n){const r=n?.event_id||Ar();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(Se&&pe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function Oz(){return eu("defaultCurrentScope",()=>new Vi)}function Dz(){return eu("defaultIsolationScope",()=>new Vi)}class Mz{constructor(e,n){let r;e?r=e:r=new Vi;let s;n?s=n:s=new Vi,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return nu(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Bc(){const t=El(),e=xg(t);return e.stack=e.stack||new Mz(Oz(),Dz())}function Pz(t){return Bc().withScope(t)}function Lz(t,e){const n=Bc();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function UR(t){return Bc().withScope(()=>t(Bc().getIsolationScope()))}function Uz(){return{withIsolationScope:UR,withScope:Pz,withSetScope:Lz,withSetIsolationScope:(t,e)=>UR(e),getCurrentScope:()=>Bc().getScope(),getIsolationScope:()=>Bc().getIsolationScope()}}function iu(t){const e=xg(t);return e.acs?e.acs:Uz()}function dt(){const t=El();return iu(t).getCurrentScope()}function hi(){const t=El();return iu(t).getIsolationScope()}function Vz(){return eu("globalScope",()=>new Vi)}function kg(...t){const e=El(),n=iu(e);if(t.length===2){const[r,s]=t;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(t[0])}function Ze(){return dt().getClient()}function jz(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=e,o={trace_id:n,span_id:s||bs()};return r&&(o.parent_span_id=r),o}const si="sentry.source",_S="sentry.sample_rate",Gk="sentry.previous_trace_sample_rate",Ms="sentry.op",ln="sentry.origin",Zd="sentry.idle_span_finish_reason",Mf="sentry.measurement_unit",Pf="sentry.measurement_value",VR="sentry.custom_span_name",vS="sentry.profile_id",su="sentry.exclusive_time",Bz="sentry.link.type",zz="gen_ai.conversation.id",Fz=0,ES=1,an=2;function Hz(t){if(t<400&&t>=100)return{code:ES};if(t>=400&&t<500)switch(t){case 401:return{code:an,message:"unauthenticated"};case 403:return{code:an,message:"permission_denied"};case 404:return{code:an,message:"not_found"};case 409:return{code:an,message:"already_exists"};case 413:return{code:an,message:"failed_precondition"};case 429:return{code:an,message:"resource_exhausted"};case 499:return{code:an,message:"cancelled"};default:return{code:an,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:an,message:"unimplemented"};case 503:return{code:an,message:"unavailable"};case 504:return{code:an,message:"deadline_exceeded"};default:return{code:an,message:"internal_error"}}return{code:an,message:"internal_error"}}function Wk(t,e){t.setAttribute("http.response.status_code",e);const n=Hz(e);n.message!=="unknown_error"&&t.setStatus(n)}const Yk="_sentryScope",Kk="_sentryIsolationScope";function qz(t){try{const e=Je.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function $z(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function Gz(t,e,n){t&&(lr(t,Kk,qz(n)),lr(t,Yk,e))}function Pm(t){const e=t;return{scope:e[Yk],isolationScope:$z(e[Kk])}}const SS="sentry-",Wz=/^sentry-/,Yz=8192;function Qk(t){const e=Qz(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,o])=>{if(s.match(Wz)){const c=s.slice(SS.length);r[c]=o}return r},{});if(Object.keys(n).length>0)return n}function Kz(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,s])=>(s&&(n[`${SS}${r}`]=s),n),{});return Xz(e)}function Qz(t){if(!(!t||!Es(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=jR(n);return Object.entries(r).forEach(([s,o])=>{e[s]=o}),e},{}):jR(t)}function jR(t){return t.split(",").map(e=>{const n=e.indexOf("=");if(n===-1)return[];const r=e.slice(0,n),s=e.slice(n+1);return[r,s].map(o=>{try{return decodeURIComponent(o.trim())}catch{return}})}).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}function Xz(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,c=s===0?o:`${e},${o}`;return c.length>Yz?(Se&&pe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):c},"")}const Jz=/^o(\d+)\./,Zz=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function eF(t){return t==="http"||t==="https"}function au(t,e=!1){const{host:n,path:r,pass:s,port:o,projectId:c,protocol:d,publicKey:f}=t;return`${d}://${f}${e&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${c}`}function tF(t){const e=Zz.exec(t);if(!e){Sl(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",o="",c="",d=""]=e.slice(1);let f="",p=d;const y=p.split("/");if(y.length>1&&(f=y.slice(0,-1).join("/"),p=y.pop()),p){const _=p.match(/^\d+/);_&&(p=_[0])}return Xk({host:o,pass:s,path:f,projectId:p,port:c,protocol:n,publicKey:r})}function Xk(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function nF(t){if(!Se)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(c=>t[c]?!1:(pe.error(`Invalid Sentry Dsn: ${c} missing`),!0))?!1:n.match(/^\d+$/)?eF(r)?e&&isNaN(parseInt(e,10))?(pe.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(pe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(pe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function rF(t){return t.match(Jz)?.[1]}function iF(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=rF(n)),r}function sF(t){const e=typeof t=="string"?tF(t):Xk(t);if(!(!e||!nF(e)))return e}function ul(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const Jk=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function aF(t){if(!t)return;const e=t.match(Jk);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function oF(t,e){const n=aF(t),r=Qk(e);if(!n?.traceId)return{traceId:Ds(),sampleRand:Ya()};const s=lF(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:c,parentSampled:d}=n;return{traceId:o,parentSpanId:c,sampled:d,dsc:r||{},sampleRand:s}}function Zk(t=Ds(),e=bs(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function e2(t=Ds(),e=bs(),n){return`00-${t}-${e}-${n?"01":"00"}`}function lF(t,e){const n=ul(e?.sample_rand);if(n!==void 0)return n;const r=ul(e?.sample_rate);return r&&t?.parentSampled!==void 0?t.parentSampled?Ya()*r:r+Ya()*(1-r):Ya()}const t2=0,bS=1;let BR=!1;function cF(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:o,status:c,origin:d,links:f}=it(t);return{parent_span_id:o,span_id:e,trace_id:n,data:r,op:s,status:c,origin:d,links:f}}function uF(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),s=r?e:it(t).parent_span_id,o=Pm(t).scope,c=r?o?.getPropagationContext().propagationSpanId||bs():e;return{parent_span_id:s,span_id:c,trace_id:n}}function dF(t){const{traceId:e,spanId:n}=t.spanContext(),r=go(t);return Zk(e,n,r)}function fF(t){const{traceId:e,spanId:n}=t.spanContext(),r=go(t);return e2(e,n,r)}function n2(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:e,trace_id:n,sampled:r===bS,attributes:o,...s}))}function nl(t){return typeof t=="number"?zR(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?zR(t.getTime()):_n()}function zR(t){return t>9999999999?t/1e3:t}function it(t){if(pF(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(hF(t)){const{attributes:r,startTime:s,name:o,endTime:c,status:d,links:f}=t,p="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:n,data:r,description:o,parent_span_id:p,start_timestamp:nl(s),timestamp:nl(c)||void 0,status:r2(d),op:r[Ms],origin:r[ln],links:n2(f)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function hF(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function pF(t){return typeof t.getSpanJSON=="function"}function go(t){const{traceFlags:e}=t.spanContext();return e===bS}function r2(t){if(!(!t||t.code===Fz))return t.code===ES?"ok":t.message||"internal_error"}const rl="_sentryChildSpans",_0="_sentryRootSpan";function i2(t,e){const n=t[_0]||t;lr(e,_0,n),t[rl]?t[rl].add(e):lr(t,rl,new Set([e]))}function mF(t,e){t[rl]&&t[rl].delete(e)}function Zp(t){const e=new Set;function n(r){if(!e.has(r)&&go(r)){e.add(r);const s=r[rl]?Array.from(r[rl]):[];for(const o of s)n(o)}}return n(t),Array.from(e)}function Pn(t){return t[_0]||t}function Kn(){const t=El(),e=iu(t);return e.getActiveSpan?e.getActiveSpan():Mm(dt())}function v0(){BR||(Sl(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),BR=!0)}let FR=!1;function gF(){if(FR)return;function t(){const e=Kn(),n=e&&Pn(e);if(n){const r="internal_error";Se&&pe.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:an,message:r})}}t.tag="sentry_tracingErrorCallback",FR=!0,Lk(t),Uk(t)}function oi(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Ze()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function HR(t){pe.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function Lm(t,e){if(!e?.length||!t.description)return!1;for(const n of e){if(_F(n)){if(Jp(t.description,n))return Se&&HR(t),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Jp(t.description,n.name):!0,s=n.op?t.op&&Jp(t.op,n.op):!0;if(r&&s)return Se&&HR(t),!0}return!1}function yF(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const s of t)s.parent_span_id===r&&(s.parent_span_id=n)}function _F(t){return typeof t=="string"||t instanceof RegExp}const TS="production",s2="_frozenDsc";function em(t,e){lr(t,s2,e)}function a2(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s={environment:n.environment||TS,release:n.release,public_key:r,trace_id:t,org_id:iF(e)};return e.emit("createDsc",s),s}function o2(t,e){const n=e.getPropagationContext();return n.dsc||a2(n.traceId,t)}function Ps(t){const e=Ze();if(!e)return{};const n=Pn(t),r=it(n),s=r.data,o=n.spanContext().traceState,c=o?.get("sentry.sample_rate")??s[_S]??s[Gk];function d(A){return(typeof c=="number"||typeof c=="string")&&(A.sample_rate=`${c}`),A}const f=n[s2];if(f)return d(f);const p=o?.get("sentry.dsc"),y=p&&Qk(p);if(y)return d(y);const _=a2(t.spanContext().traceId,e),E=s[si],w=r.description;return E!=="url"&&w&&(_.transaction=w),oi()&&(_.sampled=String(go(n)),_.sample_rand=o?.get("sentry.sample_rand")??Pm(n).scope?.getPropagationContext().sampleRand.toString()),d(_),e.emit("createDsc",_,n),_}class oo{constructor(e={}){this._traceId=e.traceId||Ds(),this._spanId=e.spanId||bs()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:t2}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}function ti(t,e=100,n=1/0){try{return E0("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function l2(t,e=3,n=100*1024){const r=ti(t,e);return bF(r)>n?l2(t,e-1,n):r}function E0(t,e,n=1/0,r=1/0,s=TF()){const[o,c]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=vF(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const f=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(f===0)return d.replace("object ","");if(o(e))return"[Circular ~]";const p=e;if(p&&typeof p.toJSON=="function")try{const w=p.toJSON();return E0("",w,f-1,r,s)}catch{}const y=Array.isArray(e)?[]:{};let _=0;const E=Hk(e);for(const w in E){if(!Object.prototype.hasOwnProperty.call(E,w))continue;if(_>=r){y[w]="[MaxProperties ~]";break}const A=E[w];y[w]=E0(w,A,f-1,r,s),_++}return c(e),y}function vF(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Bk(e))return Pk(e);if(vz(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${ks(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=EF(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function EF(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function SF(t){return~-encodeURI(t).split(/%..|./).length}function bF(t){return SF(JSON.stringify(t))}function TF(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}function yo(t,e=[]){return[t,e]}function wF(t,e){const[n,r]=t;return[n,[...r,e]]}function S0(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}function AF(t,e){return S0(t,(n,r)=>e.includes(r))}function b0(t){const e=xg(Je);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function RF(t){const[e,n]=t;let r=JSON.stringify(e);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[b0(r),o]:r.push(typeof o=="string"?b0(o):o)}for(const o of n){const[c,d]=o;if(s(`
${JSON.stringify(c)}
`),typeof d=="string"||d instanceof Uint8Array)s(d);else{let f;try{f=JSON.stringify(d)}catch{f=JSON.stringify(ti(d))}s(f)}}return typeof r=="string"?r:IF(r)}function IF(t){const e=t.reduce((s,o)=>s+o.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function xF(t){return[{type:"span"},t]}function CF(t){const e=typeof t.data=="string"?b0(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const NF={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function qR(t){return NF[t]}function wS(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function c2(t,e,n,r){const s=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:au(r)},...s&&{trace:s}}}function kF(t,e){if(!e)return t;const n=t.sdk||{};return t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function OF(t,e,n,r){const s=wS(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:au(e)}},c="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return yo(o,[c])}function DF(t,e,n,r){const s=wS(n),o=t.type&&t.type!=="replay_event"?t.type:"event";kF(t,n?.sdk);const c=c2(t,s,r,e);return delete t.sdkProcessingMetadata,yo(c,[[{type:o},t]])}function MF(t,e){function n(w){return!!w.trace_id&&!!w.public_key}const r=Ps(t[0]),s=e?.getDsn(),o=e?.getOptions().tunnel,c={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:au(s)}},{beforeSendSpan:d,ignoreSpans:f}=e?.getOptions()||{},p=f?.length?t.filter(w=>!Lm(it(w),f)):t,y=t.length-p.length;y&&e?.recordDroppedEvent("before_send","span",y);const _=d?w=>{const A=it(w),N=d(A);return N||(v0(),A)}:it,E=[];for(const w of p){const A=_(w);A&&E.push(xF(A))}return yo(c,E)}function PF(t){if(!Se)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=it(t),{spanId:s}=t.spanContext(),o=go(t),c=Pn(t),d=c===t,f=`[Tracing] Starting ${o?"sampled":"unsampled"} ${d?"root ":""}span`,p=[`op: ${n}`,`name: ${e}`,`ID: ${s}`];if(r&&p.push(`parent ID: ${r}`),!d){const{op:y,description:_}=it(c);p.push(`root ID: ${c.spanContext().spanId}`),y&&p.push(`root op: ${y}`),_&&p.push(`root description: ${_}`)}pe.log(`${f}
  ${p.join(`
  `)}`)}function LF(t){if(!Se)return;const{description:e="< unknown name >",op:n="< unknown op >"}=it(t),{spanId:r}=t.spanContext(),o=Pn(t)===t,c=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${e}" with ID ${r}`;pe.log(c)}function UF(t,e,n,r=Kn()){const s=r&&Pn(r);s&&(Se&&pe.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${n}`),s.addEvent(t,{[Pf]:e,[Mf]:n}))}function $R(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},s=r[Mf],o=r[Pf];typeof s=="string"&&typeof o=="number"&&(e[n.name]={value:o,unit:s})}),e}const GR=1e3;class Og{constructor(e={}){this._traceId=e.traceId||Ds(),this._spanId=e.spanId||bs(),this._startTime=e.startTimestamp||_n(),this._links=e.links,this._attributes={},this.setAttributes({[ln]:"manual",[Ms]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?bS:t2}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=nl(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(si,"custom"),this}end(e){this._endTime||(this._endTime=nl(e),LF(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ms],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:r2(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ln],profile_id:this._attributes[vS],exclusive_time:this._attributes[su],measurements:$R(this._events),is_segment:this._isStandaloneSpan&&Pn(this)===this||void 0,segment_id:this._isStandaloneSpan?Pn(this).spanContext().spanId:void 0,links:n2(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){Se&&pe.log("[Tracing] Adding an event to span:",e);const s=WR(n)?n:r||_n(),o=WR(n)?{}:n||{},c={name:e,time:nl(s),attributes:o};return this._events.push(c),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Ze();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Pn(this)))return;if(this._isStandaloneSpan){this._sampled?jF(MF([this],e)):(Se&&pe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Pm(this).scope||dt()).captureEvent(r)}_convertSpanToTransaction(){if(!YR(it(this)))return;this._name||(Se&&pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=Pm(this),r=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const o=Zp(this).filter(y=>y!==this&&!VF(y)).map(y=>it(y)).filter(YR),c=this._attributes[si];delete this._attributes[VR],o.forEach(y=>{delete y.data[VR]});const d={contexts:{trace:cF(this)},spans:o.length>GR?o.sort((y,_)=>y.start_timestamp-_.start_timestamp).slice(0,GR):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:Ps(this)},request:r,...c&&{transaction_info:{source:c}}},f=$R(this._events);return f&&Object.keys(f).length&&(Se&&pe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(f,void 0,2)),d.measurements=f),d}}function WR(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function YR(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function VF(t){return t instanceof Og&&t.isStandaloneSpan()}function jF(t){const e=Ze();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function BF(t,e,n=()=>{},r=()=>{}){let s;try{s=t()}catch(o){throw e(o),n(),o}return zF(s,e,n,r)}function zF(t,e,n,r){return nu(t)?t.then(s=>(n(),r(s),s),s=>{throw e(s),n(),s}):(n(),r(t),t)}function FF(t,e,n){if(!oi(t))return[!1];let r,s;typeof t.tracesSampler=="function"?(s=t.tracesSampler({...e,inheritOrSampleWith:d=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):d}),r=!0):e.parentSampled!==void 0?s=e.parentSampled:typeof t.tracesSampleRate<"u"&&(s=t.tracesSampleRate,r=!0);const o=ul(s);if(o===void 0)return Se&&pe.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return Se&&pe.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const c=n<o;return c||Se&&pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[c,o,r]}const u2="__SENTRY_SUPPRESS_TRACING__";function HF(t,e){const n=RS();if(n.startSpan)return n.startSpan(t,e);const r=f2(t),{forceTransaction:s,parentSpan:o,scope:c}=t,d=c?.clone();return kg(d,()=>$F(o)(()=>{const p=dt(),y=h2(p,o),E=t.onlyIfParent&&!y?new oo:d2({parentSpan:y,spanArguments:r,forceTransaction:s,scope:p});return jc(p,E),BF(()=>e(E),()=>{const{status:w}=it(E);E.isRecording()&&(!w||w==="ok")&&E.setStatus({code:an,message:"internal_error"})},()=>{E.end()})}))}function ou(t){const e=RS();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=f2(t),{forceTransaction:r,parentSpan:s}=t;return(t.scope?c=>kg(t.scope,c):s!==void 0?c=>AS(s,c):c=>c())(()=>{const c=dt(),d=h2(c,s);return t.onlyIfParent&&!d?new oo:d2({parentSpan:d,spanArguments:n,forceTransaction:r,scope:c})})}function AS(t,e){const n=RS();return n.withActiveSpan?n.withActiveSpan(t,e):kg(r=>(jc(r,t||void 0),e(r)))}function d2({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!oi()){const c=new oo;if(n||!t){const d={sampled:"false",sample_rate:"0",transaction:e.name,...Ps(c)};em(c,d)}return c}const s=hi();let o;if(t&&!n)o=qF(t,r,e),i2(t,o);else if(t){const c=Ps(t),{traceId:d,spanId:f}=t.spanContext(),p=go(t);o=KR({traceId:d,parentSpanId:f,...e},r,p),em(o,c)}else{const{traceId:c,dsc:d,parentSpanId:f,sampled:p}={...s.getPropagationContext(),...r.getPropagationContext()};o=KR({traceId:c,parentSpanId:f,...e},r,p),d&&em(o,d)}return PF(o),Gz(o,r,s),o}function f2(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=nl(t.startTime),delete r.startTime,r}return n}function RS(){const t=El();return iu(t)}function KR(t,e,n){const r=Ze(),s=r?.getOptions()||{},{name:o=""}=t,c={spanAttributes:{...t.attributes},spanName:o,parentSampled:n};r?.emit("beforeSampling",c,{decision:!1});const d=c.parentSampled??n,f=c.spanAttributes,p=e.getPropagationContext(),[y,_,E]=e.getScopeData().sdkProcessingMetadata[u2]?[!1]:FF(s,{name:o,parentSampled:d,attributes:f,parentSampleRate:ul(p.dsc?.sample_rate)},p.sampleRand),w=new Og({...t,attributes:{[si]:"custom",[_S]:_!==void 0&&E?_:void 0,...f},sampled:y});return!y&&r&&(Se&&pe.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",w),w}function qF(t,e,n){const{spanId:r,traceId:s}=t.spanContext(),o=e.getScopeData().sdkProcessingMetadata[u2]?!1:go(t),c=o?new Og({...n,parentSpanId:r,traceId:s,sampled:o}):new oo({traceId:s});i2(t,c);const d=Ze();return d&&(d.emit("spanStart",c),n.endTimestamp&&d.emit("spanEnd",c)),c}function h2(t,e){if(e)return e;if(e===null)return;const n=Mm(t);if(!n)return;const r=Ze();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Pn(n):n}function $F(t){return t!==void 0?e=>AS(t,e):e=>e()}const tm={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},GF="heartbeatFailed",WF="idleTimeout",YF="finalTimeout",KF="externalFinish";function p2(t,e={}){const n=new Map;let r=!1,s,o=KF,c=!e.disableAutoFinish;const d=[],{idleTimeout:f=tm.idleTimeout,finalTimeout:p=tm.finalTimeout,childSpanTimeout:y=tm.childSpanTimeout,beforeSpanEnd:_,trimIdleSpanEndTimestamp:E=!0}=e,w=Ze();if(!w||!oi()){const x=new oo,I={sample_rate:"0",sampled:"false",...Ps(x)};return em(x,I),x}const A=dt(),N=Kn(),k=QF(t);k.end=new Proxy(k.end,{apply(x,I,O){if(_&&_(k),I instanceof oo)return;const[D,...P]=O,U=D||_n(),M=nl(U),ge=Zp(k).filter(le=>le!==k),De=it(k);if(!ge.length||!E)return se(M),Reflect.apply(x,I,[M,...P]);const Y=w.getOptions().ignoreSpans,ae=ge?.reduce((le,L)=>{const q=it(L);return!q.timestamp||Y&&Lm(q,Y)?le:le?Math.max(le,q.timestamp):q.timestamp},void 0),te=De.start_timestamp,fe=Math.min(te?te+p/1e3:1/0,Math.max(te||-1/0,Math.min(M,ae||1/0)));return se(fe),Reflect.apply(x,I,[fe,...P])}});function z(){s&&(clearTimeout(s),s=void 0)}function F(x){z(),s=setTimeout(()=>{!r&&n.size===0&&c&&(o=WF,k.end(x))},f)}function Q(x){s=setTimeout(()=>{!r&&c&&(o=GF,k.end(x))},y)}function Z(x){z(),n.set(x,!0);const I=_n();Q(I+y/1e3)}function ue(x){if(n.has(x)&&n.delete(x),n.size===0){const I=_n();F(I+f/1e3)}}function se(x){r=!0,n.clear(),d.forEach(ge=>ge()),jc(A,N);const I=it(k),{start_timestamp:O}=I;if(!O)return;I.data[Zd]||k.setAttribute(Zd,o);const P=I.status;(!P||P==="unknown")&&k.setStatus({code:ES}),pe.log(`[Tracing] Idle span "${I.op}" finished`);const U=Zp(k).filter(ge=>ge!==k);let M=0;U.forEach(ge=>{ge.isRecording()&&(ge.setStatus({code:an,message:"cancelled"}),ge.end(x),Se&&pe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(ge,void 0,2)));const De=it(ge),{timestamp:Y=0,start_timestamp:ae=0}=De,te=ae<=x,fe=(p+f)/1e3,le=Y-ae<=fe;if(Se){const L=JSON.stringify(ge,void 0,2);te?le||pe.log("[Tracing] Discarding span since it finished after idle span final timeout",L):pe.log("[Tracing] Discarding span since it happened after idle span was finished",L)}(!le||!te)&&(mF(k,ge),M++)}),M>0&&k.setAttribute("sentry.idle_span_discarded_spans",M)}return d.push(w.on("spanStart",x=>{if(r||x===k||it(x).timestamp||x instanceof Og&&x.isStandaloneSpan())return;Zp(k).includes(x)&&Z(x.spanContext().spanId)})),d.push(w.on("spanEnd",x=>{r||ue(x.spanContext().spanId)})),d.push(w.on("idleSpanEnableAutoFinish",x=>{x===k&&(c=!0,F(),n.size&&Q())})),e.disableAutoFinish||F(),setTimeout(()=>{r||(k.setStatus({code:an,message:"deadline_exceeded"}),o=YF,k.end())},p),k}function QF(t){const e=ou(t);return jc(dt(),e),Se&&pe.log("[Tracing] Started span is an idle span"),e}const vv=0,QR=1,XR=2;function Dg(t){return new ef(e=>{e(t)})}function IS(t){return new ef((e,n)=>{n(t)})}class ef{constructor(e){this._state=vv,this._handlers=[],this._runExecutor(e)}then(e,n){return new ef((r,s)=>{this._handlers.push([!1,o=>{if(!e)r(o);else try{r(e(o))}catch(c){s(c)}},o=>{if(!n)s(o);else try{r(n(o))}catch(c){s(c)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ef((n,r)=>{let s,o;return this.then(c=>{o=!1,s=c,e&&e()},c=>{o=!0,s=c,e&&e()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===vv)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===QR&&n[1](this._value),this._state===XR&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=(o,c)=>{if(this._state===vv){if(nu(c)){c.then(r,s);return}this._state=o,this._value=c,this._executeHandlers()}},r=o=>{n(QR,o)},s=o=>{n(XR,o)};try{e(r,s)}catch(o){s(o)}}}function XF(t,e,n,r=0){try{const s=T0(e,n,t,r);return nu(s)?s:Dg(s)}catch(s){return IS(s)}}function T0(t,e,n,r){const s=n[r];if(!t||!s)return t;const o=s({...t},e);return Se&&o===null&&pe.log(`Event processor "${s.id||"?"}" dropped event`),nu(o)?o.then(c=>T0(c,e,n,r+1)):T0(o,e,n,r+1)}let Go,JR,ZR,Na;function JF(t){const e=Je._sentryDebugIds,n=Je._debugIds;if(!e&&!n)return{};const r=e?Object.keys(e):[],s=n?Object.keys(n):[];if(Na&&r.length===JR&&s.length===ZR)return Na;JR=r.length,ZR=s.length,Na={},Go||(Go={});const o=(c,d)=>{for(const f of c){const p=d[f],y=Go?.[f];if(y&&Na&&p)Na[y[0]]=p,Go&&(Go[f]=[y[0],p]);else if(p){const _=t(f);for(let E=_.length-1;E>=0;E--){const A=_[E]?.filename;if(A&&Na&&Go){Na[A]=p,Go[f]=[A,p];break}}}}};return e&&o(r,e),n&&o(s,n),Na}function ZF(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=e;t7(t,e),r&&i7(t,r),s7(t,n),n7(t,s),r7(t,o)}function eI(t,e){const{extra:n,tags:r,attributes:s,user:o,contexts:c,level:d,sdkProcessingMetadata:f,breadcrumbs:p,fingerprint:y,eventProcessors:_,attachments:E,propagationContext:w,transactionName:A,span:N}=e;pd(t,"extra",n),pd(t,"tags",r),pd(t,"attributes",s),pd(t,"user",o),pd(t,"contexts",c),t.sdkProcessingMetadata=Df(t.sdkProcessingMetadata,f,2),d&&(t.level=d),A&&(t.transactionName=A),N&&(t.span=N),p.length&&(t.breadcrumbs=[...t.breadcrumbs,...p]),y.length&&(t.fingerprint=[...t.fingerprint,...y]),_.length&&(t.eventProcessors=[...t.eventProcessors,..._]),E.length&&(t.attachments=[...t.attachments,...E]),t.propagationContext={...t.propagationContext,...w}}function pd(t,e,n){t[e]=Df(t[e],n,1)}function e7(t,e){const n=Vz().getScopeData();return t&&eI(n,t.getScopeData()),e&&eI(n,e.getScopeData()),n}function t7(t,e){const{extra:n,tags:r,user:s,contexts:o,level:c,transactionName:d}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(s).length&&(t.user={...s,...t.user}),Object.keys(o).length&&(t.contexts={...o,...t.contexts}),c&&(t.level=c),d&&t.type!=="transaction"&&(t.transaction=d)}function n7(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function r7(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function i7(t,e){t.contexts={trace:uF(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Ps(e),...t.sdkProcessingMetadata};const n=Pn(e),r=it(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}function s7(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}function m2(t,e,n,r,s,o){const{normalizeDepth:c=3,normalizeMaxBreadth:d=1e3}=t,f={...e,event_id:e.event_id||n.event_id||Ar(),timestamp:e.timestamp||bl()},p=n.integrations||t.integrations.map(k=>k.name);a7(f,t),c7(f,p),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&o7(f,t.stackParser);const y=d7(r,n.captureContext);n.mechanism&&Uc(f,n.mechanism);const _=s?s.getEventProcessors():[],E=e7(o,y),w=[...n.attachments||[],...E.attachments];w.length&&(n.attachments=w),ZF(f,E);const A=[..._,...E.eventProcessors];return XF(A,f,n).then(k=>(k&&l7(k),typeof c=="number"&&c>0?u7(k,c,d):k))}function a7(t,e){const{environment:n,release:r,dist:s,maxValueLength:o}=e;t.environment=t.environment||n||TS,!t.release&&r&&(t.release=r),!t.dist&&s&&(t.dist=s);const c=t.request;c?.url&&o&&(c.url=m0(c.url,o)),o&&t.exception?.values?.forEach(d=>{d.value&&(d.value=m0(d.value,o))})}function o7(t,e){const n=JF(e);t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}function l7(t){const e={};if(t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function c7(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function u7(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:ti(s.data,e,n)}}))},...t.user&&{user:ti(t.user,e,n)},...t.contexts&&{contexts:ti(t.contexts,e,n)},...t.extra&&{extra:ti(t.extra,e,n)}};return t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=ti(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>({...s,...s.data&&{data:ti(s.data,e,n)}}))),t.contexts?.flags&&r.contexts&&(r.contexts.flags=ti(t.contexts.flags,3,n)),r}function d7(t,e){if(!e)return t;const n=t?t.clone():new Vi;return n.update(e),n}function f7(t){if(t)return h7(t)?{captureContext:t}:m7(t)?{captureContext:t}:t}function h7(t){return t instanceof Vi||typeof t=="function"}const p7=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function m7(t){return Object.keys(t).some(e=>p7.includes(e))}function Mg(t,e){return dt().captureException(t,f7(e))}function g7(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return dt().captureMessage(t,n,r)}function g2(t,e){return dt().captureEvent(t,e)}function y2(t,e){hi().setContext(t,e)}function y7(){const t=Ze();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function _7(t){hi().addEventProcessor(t)}function tI(t){const e=hi(),n=dt(),{userAgent:r}=Je.navigator||{},s=xz({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),o=e.getSession();return o?.status==="ok"&&Vc(o,{status:"exited"}),_2(),e.setSession(s),s}function _2(){const t=hi(),n=dt().getSession()||t.getSession();n&&Cz(n),v2(),t.setSession()}function v2(){const t=hi(),e=Ze(),n=t.getSession();n&&e&&e.captureSession(n)}function nI(t=!1){if(t){_2();return}v2()}const v7="7";function E7(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function S7(t){return`${E7(t)}${t.projectId}/envelope/`}function b7(t,e){const n={sentry_version:v7};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}function T7(t,e,n){return e||`${S7(t)}?${b7(t,n)}`}const rI=[];function w7(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}function A7(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const s=n(e);r=Array.isArray(s)?s:[s]}else r=e;return w7(r)}function R7(t,e){const n={};return e.forEach(r=>{r&&E2(t,r,n)}),n}function iI(t,e){for(const n of e)n?.afterAllSetup&&n.afterAllSetup(t)}function E2(t,e,n){if(n[e.name]){Se&&pe.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,!rI.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),rI.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,o)=>r(s,o,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((o,c)=>r(o,c,t),{id:e.name});t.addEventProcessor(s)}Se&&pe.log(`Integration installed: ${e.name}`)}function I7(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function x7(t,e,n,r){const s={};return e?.sdk&&(s.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(s.dsn=au(r)),yo(s,[I7(t)])}function S2(t,e){const n=e??C7(t)??[];if(n.length===0)return;const r=t.getOptions(),s=x7(n,r._metadata,r.tunnel,t.getDsn());b2().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(s)}function C7(t){return b2().get(t)}function b2(){return eu("clientToLogBufferMap",()=>new WeakMap)}function N7(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function k7(t,e,n,r){const s={};return e?.sdk&&(s.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(s.dsn=au(r)),yo(s,[N7(t)])}function T2(t,e){const n=e??O7(t)??[];if(n.length===0)return;const r=t.getOptions(),s=k7(n,r._metadata,r.tunnel,t.getDsn());w2().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(s)}function O7(t){return w2().get(t)}function w2(){return eu("clientToMetricBufferMap",()=>new WeakMap)}const xS=Symbol.for("SentryBufferFullError");function CS(t=100){const e=new Set;function n(){return e.size<t}function r(c){e.delete(c)}function s(c){if(!n())return IS(xS);const d=c();return e.add(d),d.then(()=>r(d),()=>r(d)),d}function o(c){if(!e.size)return Dg(!0);const d=Promise.allSettled(Array.from(e)).then(()=>!0);if(!c)return d;const f=[d,new Promise(p=>setTimeout(()=>p(!1),c))];return Promise.race(f)}return{get $(){return Array.from(e)},add:s,drain:o}}const D7=60*1e3;function M7(t,e=Of()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?D7:r-e}function P7(t,e){return t[e]||t.all||0}function A2(t,e,n=Of()){return P7(t,e)>n}function R2(t,{statusCode:e,headers:n},r=Of()){const s={...t},o=n?.["x-sentry-rate-limits"],c=n?.["retry-after"];if(o)for(const d of o.trim().split(",")){const[f,p,,,y]=d.split(":",5),_=parseInt(f,10),E=(isNaN(_)?60:_)*1e3;if(!p)s.all=r+E;else for(const w of p.split(";"))w==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(s[w]=r+E):s[w]=r+E}else c?s.all=r+M7(c,r):e===429&&(s.all=r+60*1e3);return s}const I2=64;function L7(t,e,n=CS(t.bufferSize||I2)){let r={};const s=c=>n.drain(c);function o(c){const d=[];if(S0(c,(_,E)=>{const w=qR(E);A2(r,w)?t.recordDroppedEvent("ratelimit_backoff",w):d.push(_)}),d.length===0)return Promise.resolve({});const f=yo(c[0],d),p=_=>{if(AF(f,["client_report"])){Se&&pe.warn(`Dropping client report. Will not send outcomes (reason: ${_}).`);return}S0(f,(E,w)=>{t.recordDroppedEvent(_,qR(w))})},y=()=>e({body:RF(f)}).then(_=>(_.statusCode!==void 0&&(_.statusCode<200||_.statusCode>=300)&&Se&&pe.warn(`Sentry responded with status code ${_.statusCode} to sent event.`),r=R2(r,_),_),_=>{throw p("network_error"),Se&&pe.error("Encountered error running transport request:",_),_});return n.add(y).then(_=>_,_=>{if(_===xS)return Se&&pe.error("Skipped sending event because buffer is full."),p("queue_overflow"),Promise.resolve({});throw _})}return{send:o,flush:s}}function U7(t,e,n){const r=[{type:"client_report"},{timestamp:bl(),discarded_events:t}];return yo(e?{dsn:e}:{},[r])}function x2(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function V7(t){const{trace_id:e,parent_span_id:n,span_id:r,status:s,origin:o,data:c,op:d}=t.contexts?.trace??{};return{data:c??{},description:t.transaction,op:d,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:s,timestamp:t.timestamp,trace_id:e??"",origin:o,profile_id:c?.[vS],exclusive_time:c?.[su],measurements:t.measurements,is_segment:!0}}function j7(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[vS]:t.profile_id},...t.exclusive_time&&{[su]:t.exclusive_time}}}},measurements:t.measurements}}const sI="Not capturing exception because it's already been captured.",aI="Discarded session because of missing or non-string release",C2=Symbol.for("SentryInternalError"),N2=Symbol.for("SentryDoNotSendEventError"),B7=5e3;function nm(t){return{message:t,[C2]:!0}}function Ev(t){return{message:t,[N2]:!0}}function oI(t){return!!t&&typeof t=="object"&&C2 in t}function lI(t){return!!t&&typeof t=="object"&&N2 in t}function cI(t,e,n,r,s){let o=0,c,d=!1;t.on(n,()=>{o=0,clearTimeout(c),d=!1}),t.on(e,f=>{o+=r(f),o>=8e5?s(t):d||(d=!0,c=setTimeout(()=>{s(t)},B7))}),t.on("flush",()=>{s(t)})}class z7{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=CS(e.transportOptions?.bufferSize??I2),e.dsn?this._dsn=sF(e.dsn):Se&&pe.warn("No DSN provided, client will not send events."),this._dsn){const r=T7(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&cI(this,"afterCaptureLog","flushLogs",$7,S2),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&cI(this,"afterCaptureMetric","flushMetrics",q7,T2)}captureException(e,n,r){const s=Ar();if(PR(e))return Se&&pe.log(sI),s;const o={event_id:s,...n};return this._process(()=>this.eventFromException(e,o).then(c=>this._captureEvent(c,o,r)).then(c=>c),"error"),o.event_id}captureMessage(e,n,r,s){const o={event_id:Ar(),...r},c=pS(e)?e:String(e),d=Lc(e),f=d?this.eventFromMessage(c,n,o):this.eventFromException(e,o);return this._process(()=>f.then(p=>this._captureEvent(p,o,s)),d?"unknown":"error"),o.event_id}captureEvent(e,n,r){const s=Ar();if(n?.originalException&&PR(n.originalException))return Se&&pe.log(sI),s;const o={event_id:s,...n},c=e.sdkProcessingMetadata||{},d=c.capturedSpanScope,f=c.capturedSpanIsolationScope,p=uI(e.type);return this._process(()=>this._captureEvent(e,o,d||r,f),p),o.event_id}captureSession(e){this.sendSession(e),Vc(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(e),s=await n.flush(e);return r&&s}async close(e){const n=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];E2(this,e,this._integrations),n||iI(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=DF(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=wF(r,CF(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",e,s))}sendSession(e){const{release:n,environment:r=TS}=this._options;if("aggregates"in e){const o=e.attrs||{};if(!o.release&&!n){Se&&pe.warn(aI);return}o.release=o.release||n,o.environment=o.environment||r,e.attrs=o}else{if(!e.release&&!n){Se&&pe.warn(aI);return}e.release=e.release||n,e.environment=e.environment||r}this.emit("beforeSendSession",e);const s=OF(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(e,n,r=1){if(this._options.sendClientReports){const s=`${e}:${n}`;Se&&pe.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(e,n){const r=this._hooks[e]=this._hooks[e]||new Set,s=(...o)=>n(...o);return r.add(s),()=>{r.delete(s)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(s=>s(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(n){return Se&&pe.error("Error while sending envelope:",n),{}}return Se&&pe.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=R7(this,e),iI(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",s=!1;const o=n.exception?.values;if(o){s=!0,r=!1;for(const f of o)if(f.mechanism?.handled===!1){r=!0;break}}const c=e.status==="ok";(c&&e.errors===0||c&&r)&&(Vc(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}async _isClientDoneProcessing(e){let n=0;for(;!e||n<e;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,s){const o=this.getOptions(),c=Object.keys(this._integrations);return!n.integrations&&c?.length&&(n.integrations=c),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),m2(o,e,n,r,this,s).then(d=>{if(d===null)return d;this.emit("postprocessEvent",d,n),d.contexts={trace:jz(r),...d.contexts};const f=o2(this,r);return d.sdkProcessingMetadata={dynamicSamplingContext:f,...d.sdkProcessingMetadata},d})}_captureEvent(e,n={},r=dt(),s=hi()){return Se&&w0(e)&&pe.log(`Captured error event \`${x2(e)[0]||"<unknown>"}\``),this._processEvent(e,n,r,s).then(o=>o.event_id,o=>{Se&&(lI(o)?pe.log(o.message):oI(o)?pe.warn(o.message):pe.warn(o))})}_processEvent(e,n,r,s){const o=this.getOptions(),{sampleRate:c}=o,d=k2(e),f=w0(e),y=`before send for type \`${e.type||"error"}\``,_=typeof c>"u"?void 0:ul(c);if(f&&typeof _=="number"&&Ya()>_)return this.recordDroppedEvent("sample_rate","error"),IS(Ev(`Discarding event because it's not included in the random sample (sampling rate = ${c})`));const E=uI(e.type);return this._prepareEvent(e,n,r,s).then(w=>{if(w===null)throw this.recordDroppedEvent("event_processor",E),Ev("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return w;const N=H7(this,o,w,n);return F7(N,y)}).then(w=>{if(w===null){if(this.recordDroppedEvent("before_send",E),d){const z=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",z)}throw Ev(`${y} returned \`null\`, will not send event.`)}const A=r.getSession()||s.getSession();if(f&&A&&this._updateSessionFromEvent(A,w),d){const k=w.sdkProcessingMetadata?.spanCountBeforeProcessing||0,z=w.spans?w.spans.length:0,F=k-z;F>0&&this.recordDroppedEvent("before_send","span",F)}const N=w.transaction_info;if(d&&N&&w.transaction!==e.transaction){const k="custom";w.transaction_info={...N,source:k}}return this.sendEvent(w,n),w}).then(null,w=>{throw lI(w)||oI(w)?w:(this.captureException(w,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:w}),nm(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${w}`))})}_process(e,n){this._numProcessing++,this._promiseBuffer.add(e).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===xS&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){Se&&pe.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){Se&&pe.log("No outcomes to send");return}if(!this._dsn){Se&&pe.log("No dsn provided, will not send outcomes");return}Se&&pe.log("Sending outcomes:",e);const n=U7(e,this._options.tunnel&&au(this._dsn));this.sendEnvelope(n)}}function uI(t){return t==="replay_event"?"replay":t||"error"}function F7(t,e){const n=`${e} must return \`null\` or a valid event.`;if(nu(t))return t.then(r=>{if(!Jd(r)&&r!==null)throw nm(n);return r},r=>{throw nm(`${e} rejected with ${r}`)});if(!Jd(t)&&t!==null)throw nm(n);return t}function H7(t,e,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:c,ignoreSpans:d}=e;let f=n;if(w0(f)&&s)return s(f,r);if(k2(f)){if(c||d){const p=V7(f);if(d?.length&&Lm(p,d))return null;if(c){const y=c(p);y?f=Df(n,j7(y)):v0()}if(f.spans){const y=[],_=f.spans;for(const w of _){if(d?.length&&Lm(w,d)){yF(_,w);continue}if(c){const A=c(w);A?y.push(A):(v0(),y.push(w))}else y.push(w)}const E=f.spans.length-y.length;E&&t.recordDroppedEvent("before_send","span",E),f.spans=y}}if(o){if(f.spans){const p=f.spans.length;f.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:p}}return o(f,r)}}return f}function w0(t){return t.type===void 0}function k2(t){return t.type==="transaction"}function q7(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+O2(t.attributes)}function $7(t){let e=0;return t.message&&(e+=t.message.length*2),e+O2(t.attributes)}function O2(t){if(!t)return 0;let e=0;return Object.values(t).forEach(n=>{Array.isArray(n)?e+=n.length*dI(n[0]):Lc(n)?e+=dI(n):e+=100}),e}function dI(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function G7(t){return Cg(t)&&"__sentry_fetch_url_host__"in t&&typeof t.__sentry_fetch_url_host__=="string"}function fI(t){return G7(t)?`${t.message} (${t.__sentry_fetch_url_host__})`:t.message}function W7(t,e){e.debug===!0&&(Se?pe.enable():Sl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),dt().update(e.initialScope);const r=new t(e);return Y7(r),r.init(),r}function Y7(t){dt().setClient(t)}const K7="thismessage:/";function NS(t){return"isRelative"in t}function kS(t,e){const n=t.indexOf("://")<=0&&t.indexOf("//")!==0,r=n?K7:void 0;try{if("canParse"in URL&&!URL.canParse(t,r))return;const s=new URL(t,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Q7(t){if(NS(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function il(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function X7(t){return t.split(/[?#]/,1)[0]}function Ka(t,e=!0){if(t.startsWith("data:")){const n=t.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=t.includes(";base64,"),o=t.indexOf(",");let c="";if(e&&o!==-1){const d=t.slice(o+1);c=d.length>10?`${d.slice(0,10)}... [truncated]`:d}return`data:${r}${s?",base64":""}${c?`,${c}`:""}`}return t}function J7(t,e){const n=e?.getDsn(),r=e?.getOptions().tunnel;return eH(t,n)||Z7(t,r)}function Z7(t,e){return e?hI(t)===hI(e):!1}function eH(t,e){const n=kS(t);return!n||NS(n)?!1:e?n.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function hI(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function tH(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function D2(t,e,n=[e],r="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:tl})),version:tl}),t._metadata=s}function M2(t={}){const e=t.client||Ze();if(!y7()||!e)return{};const n=El(),r=iu(n);if(r.getTraceData)return r.getTraceData(t);const s=t.scope||dt(),o=t.span||Kn(),c=o?dF(o):nH(s),d=o?Ps(o):o2(e,s),f=Kz(d);if(!Jk.test(c))return pe.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const y={"sentry-trace":c,baggage:f};return t.propagateTraceparent&&(y.traceparent=o?fF(o):rH(s)),y}function nH(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return Zk(e,r,n)}function rH(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return e2(e,r,n)}function iH(t,e,n){let r,s,o;const c=n?.maxWait?Math.max(n.maxWait,e):0,d=n?.setTimeoutImpl||setTimeout;function f(){return p(),r=t(),r}function p(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function y(){return s!==void 0||o!==void 0?f():r}function _(){return s&&clearTimeout(s),s=d(f,e),c&&o===void 0&&(o=d(f,c)),r}return _.cancel=p,_.flush=y,_}const sH=100;function Ls(t,e){const n=Ze(),r=hi();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=sH}=n.getOptions();if(o<=0)return;const d={timestamp:bl(),...t},f=s?Sl(()=>s(d,e)):d;f!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",f,e),r.addBreadcrumb(f,o))}let pI;const aH="FunctionToString",mI=new WeakMap,oH=(()=>({name:aH,setupOnce(){pI=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=yS(this),n=mI.has(Ze())&&e!==void 0?e:this;return pI.apply(n,t)}}catch{}},setup(t){mI.set(t,!0)}})),lH=oH,cH=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],uH="EventFilters",dH=(t={})=>{let e;return{name:uH,setup(n){const r=n.getOptions();e=gI(t,r)},processEvent(n,r,s){if(!e){const o=s.getOptions();e=gI(t,o)}return hH(n,e)?null:n}}},fH=((t={})=>({...dH(t),name:"InboundFilters"}));function gI(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:cH],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function hH(t,e){if(t.type){if(t.type==="transaction"&&mH(t,e.ignoreTransactions))return Se&&pe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ko(t)}`),!0}else{if(pH(t,e.ignoreErrors))return Se&&pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ko(t)}`),!0;if(vH(t))return Se&&pe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ko(t)}`),!0;if(gH(t,e.denyUrls))return Se&&pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ko(t)}.
Url: ${Um(t)}`),!0;if(!yH(t,e.allowUrls))return Se&&pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ko(t)}.
Url: ${Um(t)}`),!0}return!1}function pH(t,e){return e?.length?x2(t).some(n=>Ss(n,e)):!1}function mH(t,e){if(!e?.length)return!1;const n=t.transaction;return n?Ss(n,e):!1}function gH(t,e){if(!e?.length)return!1;const n=Um(t);return n?Ss(n,e):!1}function yH(t,e){if(!e?.length)return!0;const n=Um(t);return n?Ss(n,e):!0}function _H(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Um(t){try{const n=[...t.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?_H(n):null}catch{return Se&&pe.error(`Cannot extract url for event ${Ko(t)}`),null}}function vH(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function EH(t,e,n,r,s,o){if(!s.exception?.values||!o||!Os(o.originalException,Error))return;const c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=A0(t,e,r,o.originalException,n,s.exception.values,c,0))}function A0(t,e,n,r,s,o,c,d){if(o.length>=n+1)return o;let f=[...o];if(Os(r[s],Error)){yI(c,d,r);const p=t(e,r[s]),y=f.length;_I(p,s,y,d),f=A0(t,e,n,r[s],s,[p,...f],p,y)}return P2(r)&&r.errors.forEach((p,y)=>{if(Os(p,Error)){yI(c,d,r);const _=t(e,p),E=f.length;_I(_,`errors[${y}]`,E,d),f=A0(t,e,n,p,s,[_,...f],_,E)}}),f}function P2(t){return Array.isArray(t.errors)}function yI(t,e,n){t.mechanism={handled:!0,type:"auto.core.linked_errors",...P2(n)&&{is_exception_group:!0},...t.mechanism,exception_id:e}}function _I(t,e,n,r){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function SH(t){const e="console";po(e,t),mo(e,bH)}function bH(){"console"in Je&&sz.forEach(function(t){t in Je.console&&ar(Je.console,t,function(e){return Dm[t]=e,function(...n){Fr("console",{args:n,level:t}),Dm[t]?.apply(Je.console,n)}})})}function L2(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const TH="Dedupe",wH=(()=>{let t;return{name:TH,processEvent(e){if(e.type)return e;try{if(RH(e,t))return Se&&pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),AH=wH;function RH(t,e){return e?!!(IH(t,e)||xH(t,e)):!1}function IH(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!V2(t,e)||!U2(t,e))}function xH(t,e){const n=vI(e),r=vI(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!V2(t,e)||!U2(t,e))}function U2(t,e){let n=CR(t),r=CR(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],c=n[s];if(o.filename!==c.filename||o.lineno!==c.lineno||o.colno!==c.colno||o.function!==c.function)return!1}return!0}function V2(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function vI(t){return t.exception?.values?.[0]}const CH="ConversationId",NH=(()=>({name:CH,setup(t){t.on("spanStart",e=>{const n=dt().getScopeData(),r=hi().getScopeData(),s=n.conversationId||r.conversationId;s&&e.setAttribute(zz,s)})}})),kH=NH;function OH(t,e,n,r,s){if(!t.fetchData)return;const{method:o,url:c}=t.fetchData,d=oi()&&e(c);if(t.endTimestamp&&d){const w=t.fetchData.__span;if(!w)return;const A=r[w];A&&(PH(A,t),DH(A,t,s),delete r[w]);return}const{spanOrigin:f="auto.http.browser",propagateTraceparent:p=!1}=typeof s=="object"?s:{spanOrigin:s},y=!!Kn(),_=d&&y?ou(UH(c,o,f)):new oo;if(t.fetchData.__span=_.spanContext().spanId,r[_.spanContext().spanId]=_,n(t.fetchData.url)){const w=t.args[0],A={...t.args[1]||{}},N=MH(w,A,oi()&&y?_:void 0,p);N&&(t.args[1]=A,A.headers=N)}const E=Ze();if(E){const w={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};E.emit("beforeOutgoingRequestSpan",_,w)}return _}function DH(t,e,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(t,{headers:e.response?.headers,error:e.error})}function MH(t,e,n,r){const s=M2({span:n,propagateTraceparent:r}),o=s["sentry-trace"],c=s.baggage,d=s.traceparent;if(!o)return;const f=e.headers||(mS(t)?t.headers:void 0);if(f)if(LH(f)){const p=new Headers(f);if(p.get("sentry-trace")||p.set("sentry-trace",o),r&&d&&!p.get("traceparent")&&p.set("traceparent",d),c){const y=p.get("baggage");y?Ip(y)||p.set("baggage",`${y},${c}`):p.set("baggage",c)}return p}else if(Array.isArray(f)){const p=[...f];f.find(_=>_[0]==="sentry-trace")||p.push(["sentry-trace",o]),r&&d&&!f.find(_=>_[0]==="traceparent")&&p.push(["traceparent",d]);const y=f.find(_=>_[0]==="baggage"&&Ip(_[1]));return c&&!y&&p.push(["baggage",c]),p}else{const p="sentry-trace"in f?f["sentry-trace"]:void 0,y="traceparent"in f?f.traceparent:void 0,_="baggage"in f?f.baggage:void 0,E=_?Array.isArray(_)?[..._]:[_]:[],w=_&&(Array.isArray(_)?_.find(N=>Ip(N)):Ip(_));c&&!w&&E.push(c);const A={...f,"sentry-trace":p??o,baggage:E.length>0?E.join(","):void 0};return r&&d&&!y&&(A.traceparent=d),A}else return{...s}}function PH(t,e){if(e.response){Wk(t,e.response.status);const n=e.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&t.setAttribute("http.response_content_length",r)}}else e.error&&t.setStatus({code:an,message:"internal_error"});t.end()}function Ip(t){return t.split(",").some(e=>e.trim().startsWith(SS))}function LH(t){return typeof Headers<"u"&&Os(t,Headers)}function UH(t,e,n){if(t.startsWith("data:")){const o=Ka(t);return{name:`${e} ${o}`,attributes:EI(t,void 0,e,n)}}const r=kS(t),s=r?Q7(r):t;return{name:`${e} ${s}`,attributes:EI(t,r,e,n)}}function EI(t,e,n,r){const s={url:Ka(t),type:"fetch","http.method":n,[ln]:r,[Ms]:"http.client"};return e&&(NS(e)||(s["http.url"]=Ka(e.href),s["server.address"]=e.host),e.search&&(s["http.query"]=e.search),e.hash&&(s["http.fragment"]=e.hash)),s}function j2(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const tf=Je;function VH(){return"history"in tf&&!!tf.history}function jH(){if(!("fetch"in tf))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function R0(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function BH(){if(typeof EdgeRuntime=="string")return!0;if(!jH())return!1;if(R0(tf.fetch))return!0;let t=!1;const e=tf.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow?.fetch&&(t=R0(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Se&&pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function B2(t,e){const n="fetch";po(n,t),mo(n,()=>z2(void 0,e))}function zH(t){const e="fetch-body-resolved";po(e,t),mo(e,()=>z2(HH))}function z2(t,e=!1){e&&!BH()||ar(Je,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:c}=qH(r),d={args:r,fetchData:{method:o,url:c},startTimestamp:_n()*1e3,virtualError:s,headers:$H(r)};return t||Fr("fetch",{...d}),n.apply(Je,r).then(async f=>(t?t(f):Fr("fetch",{...d,endTimestamp:_n()*1e3,response:f}),f),f=>{Fr("fetch",{...d,endTimestamp:_n()*1e3,error:f}),Cg(f)&&f.stack===void 0&&(f.stack=s.stack,lr(f,"framesToPop",1));const y=Ze()?.getOptions().enhanceFetchErrorMessages??"always";if(y!==!1&&f instanceof TypeError&&(f.message==="Failed to fetch"||f.message==="Load failed"||f.message==="NetworkError when attempting to fetch resource."))try{const w=new URL(d.fetchData.url).host;y==="always"?f.message=`${f.message} (${w})`:lr(f,"__sentry_fetch_url_host__",w)}catch{}throw f})}})}async function FH(t,e){if(t?.body){const n=t.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let c;try{c=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:d}=await r.read();clearTimeout(c),d&&(e(),o=!1)}catch{o=!1}finally{clearTimeout(c)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function HH(t){let e;try{e=t.clone()}catch{return}FH(e,()=>{Fr("fetch-body-resolved",{endTimestamp:_n()*1e3,response:t})})}function rm(t,e){return!!t&&typeof t=="object"&&!!t[e]}function SI(t){return typeof t=="string"?t:t?rm(t,"url")?t.url:t.toString?t.toString():"":""}function qH(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:SI(n),method:rm(r,"method")?String(r.method).toUpperCase():mS(n)&&rm(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:SI(e),method:rm(e,"method")?String(e.method).toUpperCase():"GET"}}function $H(t){const[e,n]=t;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(mS(e))return new Headers(e.headers)}catch{}}function GH(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function WH(){return"npm"}function YH(){return!GH()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function I0(){return typeof window<"u"&&(!YH()||KH())}function KH(){return Je.process?.type==="renderer"}const st=Je;let x0=0;function F2(){return x0>0}function QH(){x0++,setTimeout(()=>{x0--})}function zc(t,e={}){function n(s){return typeof s=="function"}if(!n(t))return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(yS(t))return t}catch{return t}const r=function(...s){try{const o=s.map(c=>zc(c,e));return t.apply(this,o)}catch(o){throw QH(),kg(c=>{c.addEventProcessor(d=>(e.mechanism&&(g0(d,void 0),Uc(d,e.mechanism)),d.extra={...d.extra,arguments:s},d)),Mg(o)}),o}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}Fk(r,t),lr(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function OS(){const t=ru(),{referrer:e}=st.document||{},{userAgent:n}=st.navigator||{},r={...e&&{Referer:e},...n&&{"User-Agent":n}};return{url:t,headers:r}}function DS(t,e){const n=MS(t,e),r={type:tq(e),value:nq(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function XH(t,e,n,r){const o=Ze()?.getOptions().normalizeDepth,c=oq(e),d={__serialized__:l2(e,o)};if(c)return{exception:{values:[DS(t,c)]},extra:d};const f={exception:{values:[{type:Ng(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:sq(e,{isUnhandledRejection:r})}]},extra:d};if(n){const p=MS(t,n);p.length&&(f.exception.values[0].stacktrace={frames:p})}return f}function Sv(t,e){return{exception:{values:[DS(t,e)]}}}function MS(t,e){const n=e.stacktrace||e.stack||"",r=ZH(e),s=eq(e);try{return t(n,r,s)}catch{}return[]}const JH=/Minified React error #\d+;/i;function ZH(t){return t&&JH.test(t.message)?1:0}function eq(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function H2(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function tq(t){const e=t?.name;return!e&&H2(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function nq(t){const e=t?.message;return H2(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?fI(e.error):fI(t):"No error message"}function rq(t,e,n,r){const s=n?.syntheticException||void 0,o=PS(t,e,s,r);return Uc(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),Dg(o)}function iq(t,e,n="info",r,s){const o=r?.syntheticException||void 0,c=C0(t,e,o,s);return c.level=n,r?.event_id&&(c.event_id=r.event_id),Dg(c)}function PS(t,e,n,r,s){let o;if(jk(e)&&e.error)return Sv(t,e.error);if(kR(e)||gz(e)){const c=e;if("stack"in e)o=Sv(t,e);else{const d=c.name||(kR(c)?"DOMError":"DOMException"),f=c.message?`${d}: ${c.message}`:d;o=C0(t,f,n,r),g0(o,f)}return"code"in c&&(o.tags={...o.tags,"DOMException.code":`${c.code}`}),o}return Cg(e)?Sv(t,e):Jd(e)||Ng(e)?(o=XH(t,e,n,s),Uc(o,{synthetic:!0}),o):(o=C0(t,e,n,r),g0(o,`${e}`),Uc(o,{synthetic:!0}),o)}function C0(t,e,n,r){const s={};if(r&&n){const o=MS(t,n);o.length&&(s.exception={values:[{value:e,stacktrace:{frames:o}}]}),Uc(s,{synthetic:!0})}if(pS(e)){const{__sentry_template_string__:o,__sentry_template_values__:c}=e;return s.logentry={message:o,params:c},s}return s.message=e,s}function sq(t,{isUnhandledRejection:e}){const n=bz(t),r=e?"promise rejection":"exception";return jk(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Ng(t)?`Event \`${aq(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function aq(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function oq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}class lq extends z7{constructor(e){const n=cq(e),r=st.SENTRY_SDK_SOURCE||WH();D2(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:o,enableLogs:c,_experiments:d,enableMetrics:f}=this._options,p=f??d?.enableMetrics??!0;st.document&&(o||c||p)&&st.document.addEventListener("visibilitychange",()=>{st.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),c&&S2(this),p&&T2(this))}),s&&this.on("beforeSendSession",tH)}eventFromException(e,n){return rq(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return iq(this._options.stackParser,e,n,r,this._options.attachStacktrace)}_prepareEvent(e,n,r,s){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r,s)}}function cq(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:st.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const dl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ue=Je,uq=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",Lf=(t,e,n,r)=>{let s,o;return c=>{e.value>=0&&(c||r)&&(o=e.value-(s??0),(o||s===void 0)&&(s=e.value,e.delta=o,e.rating=uq(e.value,n),t(e)))}},Uf=(t=!0)=>{const e=Ue.performance?.getEntriesByType?.("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},lu=()=>Uf()?.activationStart??0;function Qa(t,e,n){Ue.document&&Ue.addEventListener(t,e,n)}function Vm(t,e,n){Ue.document&&Ue.removeEventListener(t,e,n)}let Ic=-1;const q2=new Set,dq=()=>Ue.document?.visibilityState==="hidden"&&!Ue.document?.prerendering?0:1/0,im=t=>{if(fq(t)&&Ic>-1){if(t.type==="visibilitychange"||t.type==="pagehide")for(const e of q2)e();isFinite(Ic)||(Ic=t.type==="visibilitychange"?t.timeStamp:0,Vm("prerenderingchange",im,!0))}},Vf=()=>{if(Ue.document&&Ic<0){const t=lu();Ic=(Ue.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>t)[0]?.startTime)??dq(),Qa("visibilitychange",im,!0),Qa("pagehide",im,!0),Qa("prerenderingchange",im,!0)}return{get firstHiddenTime(){return Ic},onHidden(t){q2.add(t)}}};function fq(t){return t.type==="pagehide"||Ue.document?.visibilityState==="hidden"}const hq=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,jf=(t,e=-1)=>{const n=Uf();let r="navigate";return n&&(Ue.document?.prerendering||lu()>0?r="prerender":Ue.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:hq(),navigationType:r}},bv=new WeakMap;function LS(t,e){try{return bv.get(t)||bv.set(t,new e),bv.get(t)}catch{return new e}}class jm{constructor(){jm.prototype.__init.call(this),jm.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const cu=(t,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{e(s.getEntries())})});return r.observe({type:t,buffered:!0,...n}),r}}catch{}},US=t=>{let e=!1;return()=>{e||(t(),e=!0)}},Pg=t=>{Ue.document?.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},pq=[1800,3e3],mq=(t,e={})=>{Pg(()=>{const n=Vf(),r=jf("FCP");let s;const c=cu("paint",d=>{for(const f of d)f.name==="first-contentful-paint"&&(c.disconnect(),f.startTime<n.firstHiddenTime&&(r.value=Math.max(f.startTime-lu(),0),r.entries.push(f),s(!0)))});c&&(s=Lf(t,r,pq,e.reportAllChanges))})},gq=[.1,.25],yq=(t,e={})=>{mq(US(()=>{const n=jf("CLS",0);let r;const s=Vf(),o=LS(e,jm),c=f=>{for(const p of f)o._processEntry(p);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},d=cu("layout-shift",c);d&&(r=Lf(t,n,gq,e.reportAllChanges),s.onHidden(()=>{c(d.takeRecords()),r(!0)}),Ue?.setTimeout?.(r))}))};let $2=0,Tv=1/0,xp=0;const _q=t=>{t.forEach(e=>{e.interactionId&&(Tv=Math.min(Tv,e.interactionId),xp=Math.max(xp,e.interactionId),$2=xp?(xp-Tv)/7+1:0)})};let N0;const G2=()=>N0?$2:performance.interactionCount||0,vq=()=>{"interactionCount"in performance||N0||(N0=cu("event",_q,{type:"event",buffered:!0,durationThreshold:0}))},wv=10;let W2=0;const Eq=()=>G2()-W2;class Bm{constructor(){Bm.prototype.__init.call(this),Bm.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){W2=G2(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(Eq()/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||e.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(e.interactionId);if(r||this._longestInteractionList.length<wv||e.duration>n._latency){if(r?e.duration>r._latency?(r.entries=[e],r._latency=e.duration):e.duration===r._latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,o)=>o._latency-s._latency),this._longestInteractionList.length>wv){const s=this._longestInteractionList.splice(wv);for(const o of s)this._longestInteractionMap.delete(o.id)}this._onAfterProcessingINPCandidate?.(r)}}}const Y2=t=>{const e=Ue.requestIdleCallback||Ue.setTimeout;Ue.document?.visibilityState==="hidden"?t():(t=US(t),Qa("visibilitychange",t,{once:!0,capture:!0}),Qa("pagehide",t,{once:!0,capture:!0}),e(()=>{t(),Vm("visibilitychange",t,{capture:!0}),Vm("pagehide",t,{capture:!0})}))},Sq=[200,500],bq=40,Tq=(t,e={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Vf();Pg(()=>{vq();const r=jf("INP");let s;const o=LS(e,Bm),c=f=>{Y2(()=>{for(const y of f)o._processEntry(y);const p=o._estimateP98LongestInteraction();p&&p._latency!==r.value&&(r.value=p._latency,r.entries=p.entries,s())})},d=cu("event",c,{durationThreshold:e.durationThreshold??bq});s=Lf(t,r,Sq,e.reportAllChanges),d&&(d.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{c(d.takeRecords()),s(!0)}))})};class wq{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const Aq=[2500,4e3],Rq=(t,e={})=>{Pg(()=>{const n=Vf(),r=jf("LCP");let s;const o=LS(e,wq),c=f=>{e.reportAllChanges||(f=f.slice(-1));for(const p of f)o._processEntry(p),p.startTime<n.firstHiddenTime&&(r.value=Math.max(p.startTime-lu(),0),r.entries=[p],s())},d=cu("largest-contentful-paint",c);if(d){s=Lf(t,r,Aq,e.reportAllChanges);const f=US(()=>{c(d.takeRecords()),d.disconnect(),s(!0)}),p=y=>{y.isTrusted&&(Y2(f),Vm(y.type,p,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])Qa(y,p,{capture:!0})}})},Iq=[800,1800],k0=t=>{Ue.document?.prerendering?Pg(()=>k0(t)):Ue.document?.readyState!=="complete"?addEventListener("load",()=>k0(t),!0):setTimeout(t)},xq=(t,e={})=>{const n=jf("TTFB"),r=Lf(t,n,Iq,e.reportAllChanges);k0(()=>{const s=Uf();s&&(n.value=Math.max(s.responseStart-lu(),0),n.entries=[s],r(!0))})},xd={},zm={};let K2,Q2,X2,J2;function VS(t,e=!1){return Lg("cls",t,Nq,K2,e)}function jS(t,e=!1){return Lg("lcp",t,kq,Q2,e)}function Cq(t){return Lg("ttfb",t,Oq,X2)}function Z2(t){return Lg("inp",t,Dq,J2)}function fl(t,e){return eO(t,e),zm[t]||(Mq(t),zm[t]=!0),tO(t,e)}function Bf(t,e){const n=xd[t];if(n?.length)for(const r of n)try{r(e)}catch(s){dl&&pe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ks(r)}
Error:`,s)}}function Nq(){return yq(t=>{Bf("cls",{metric:t}),K2=t},{reportAllChanges:!0})}function kq(){return Rq(t=>{Bf("lcp",{metric:t}),Q2=t},{reportAllChanges:!0})}function Oq(){return xq(t=>{Bf("ttfb",{metric:t}),X2=t})}function Dq(){return Tq(t=>{Bf("inp",{metric:t}),J2=t})}function Lg(t,e,n,r,s=!1){eO(t,e);let o;return zm[t]||(o=n(),zm[t]=!0),r&&e({metric:r}),tO(t,e,s?o:void 0)}function Mq(t){const e={};t==="event"&&(e.durationThreshold=0),cu(t,n=>{Bf(t,{entries:n})},e)}function eO(t,e){xd[t]=xd[t]||[],xd[t].push(e)}function tO(t,e,n){return()=>{n&&n();const r=xd[t];if(!r)return;const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}function Pq(t){return"duration"in t}const Lq=t=>{const e=n=>{(n.type==="pagehide"||Ue.document?.visibilityState==="hidden")&&t(n)};Qa("visibilitychange",e,{capture:!0,once:!0}),Qa("pagehide",e,{capture:!0,once:!0})};function Av(t){return typeof t=="number"&&isFinite(t)}function lo(t,e,n,{...r}){const s=it(t).start_timestamp;return s&&s>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),AS(t,()=>{const o=ou({startTime:e,...r});return o&&o.end(n),o})}function BS(t){const e=Ze();if(!e)return;const{name:n,transaction:r,attributes:s,startTime:o}=t,{release:c,environment:d,sendDefaultPii:f}=e.getOptions(),y=e.getIntegrationByName("Replay")?.getReplayId(),_=dt(),E=_.getUser(),w=E!==void 0?E.email||E.id||E.ip_address:void 0;let A;try{A=_.getScopeData().contexts.profile.profile_id}catch{}const N={release:c,environment:d,user:w||void 0,profile_id:A||void 0,replay_id:y||void 0,transaction:r,"user_agent.original":Ue.navigator?.userAgent,"client.address":f?"{{auto}}":void 0,...s};return ou({name:n,attributes:N,startTime:o,experimental:{standalone:!0}})}function zf(){return Ue.addEventListener&&Ue.performance}function Vt(t){return t/1e3}function Uq(t){let e="unknown",n="unknown",r="";for(const s of t){if(s==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=s}return r===t&&(e=r),{name:e,version:n}}function nO(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function rO(t,e){let n,r=!1;function s(d){!r&&n&&e(d,n),r=!0}Lq(()=>{s("pagehide")});const o=t.on("beforeStartNavigationSpan",(d,f)=>{f?.isRedirect||(s("navigation"),o(),c())}),c=t.on("afterStartPageLoadSpan",d=>{n=d.spanContext().spanId,c()})}function Vq(t){let e=0,n;if(!nO("layout-shift"))return;const r=VS(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(e=s.value,n=o)},!0);rO(t,(s,o)=>{jq(e,n,o,s),r()})}function jq(t,e,n,r){dl&&pe.log(`Sending CLS span (${t})`);const s=e?Vt((cr()||0)+e.startTime):_n(),o=dt().getScopeData().transactionName,c=e?or(e.sources[0]?.node):"Layout shift",d={[ln]:"auto.http.browser.cls",[Ms]:"ui.webvital.cls",[su]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};e?.sources&&e.sources.forEach((p,y)=>{d[`cls.source.${y+1}`]=or(p.node)});const f=BS({name:c,transaction:o,attributes:d,startTime:s});f&&(f.addEvent("cls",{[Mf]:"",[Pf]:t}),f.end(s))}function Bq(t){let e=0,n;if(!nO("largest-contentful-paint"))return;const r=jS(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(e=s.value,n=o)},!0);rO(t,(s,o)=>{zq(e,n,o,s),r()})}function zq(t,e,n,r){dl&&pe.log(`Sending LCP span (${t})`);const s=Vt((cr()||0)+(e?.startTime||0)),o=dt().getScopeData().transactionName,c=e?or(e.element):"Largest contentful paint",d={[ln]:"auto.http.browser.lcp",[Ms]:"ui.webvital.lcp",[su]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};e&&(e.element&&(d["lcp.element"]=or(e.element)),e.id&&(d["lcp.id"]=e.id),e.url&&(d["lcp.url"]=e.url),e.loadTime!=null&&(d["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(d["lcp.renderTime"]=e.renderTime),e.size!=null&&(d["lcp.size"]=e.size));const f=BS({name:c,transaction:o,attributes:d,startTime:s});f&&(f.addEvent("lcp",{[Mf]:"millisecond",[Pf]:t}),f.end(s))}function Br(t){return t&&((cr()||performance.timeOrigin)+t)/1e3}function iO(t){const e={};if(t.nextHopProtocol!=null){const{name:n,version:r}=Uq(t.nextHopProtocol);e["network.protocol.version"]=r,e["network.protocol.name"]=n}return cr()||zf()?.timeOrigin?Fq({...e,"http.request.redirect_start":Br(t.redirectStart),"http.request.redirect_end":Br(t.redirectEnd),"http.request.worker_start":Br(t.workerStart),"http.request.fetch_start":Br(t.fetchStart),"http.request.domain_lookup_start":Br(t.domainLookupStart),"http.request.domain_lookup_end":Br(t.domainLookupEnd),"http.request.connect_start":Br(t.connectStart),"http.request.secure_connection_start":Br(t.secureConnectionStart),"http.request.connection_end":Br(t.connectEnd),"http.request.request_start":Br(t.requestStart),"http.request.response_start":Br(t.responseStart),"http.request.response_end":Br(t.responseEnd),"http.request.time_to_first_byte":t.responseStart!=null?t.responseStart/1e3:void 0}):e}function Fq(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!=null))}const Hq=2147483647;let bI=0,ni={},rr,Fm;function qq({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:n}){const r=zf();if(r&&cr()){r.mark&&Ue.performance.mark("sentry-tracing-init");const s=e?Bq(n):Kq(),o=Qq(),c=t?Vq(n):Yq();return()=>{s?.(),o(),c?.()}}return()=>{}}function $q(){fl("longtask",({entries:t})=>{const e=Kn();if(!e)return;const{op:n,start_timestamp:r}=it(e);for(const s of t){const o=Vt(cr()+s.startTime),c=Vt(s.duration);n==="navigation"&&r&&o<r||lo(e,o,o+c,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ln]:"auto.ui.browser.metrics"}})}})}function Gq(){new PerformanceObserver(e=>{const n=Kn();if(n)for(const r of e.getEntries()){if(!r.scripts[0])continue;const s=Vt(cr()+r.startTime),{start_timestamp:o,op:c}=it(n);if(c==="navigation"&&o&&s<o)continue;const d=Vt(r.duration),f={[ln]:"auto.ui.browser.metrics"},p=r.scripts[0],{invoker:y,invokerType:_,sourceURL:E,sourceFunctionName:w,sourceCharPosition:A}=p;f["browser.script.invoker"]=y,f["browser.script.invoker_type"]=_,E&&(f["code.filepath"]=E),w&&(f["code.function"]=w),A!==-1&&(f["browser.script.source_char_position"]=A),lo(n,s,s+d,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:f})}}).observe({type:"long-animation-frame",buffered:!0})}function Wq(){fl("event",({entries:t})=>{const e=Kn();if(e){for(const n of t)if(n.name==="click"){const r=Vt(cr()+n.startTime),s=Vt(n.duration),o={name:or(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ln]:"auto.ui.browser.metrics"}},c=zk(n.target);c&&(o.attributes["ui.component_name"]=c),lo(e,r,r+s,o)}}})}function Yq(){return VS(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(ni.cls={value:t.value,unit:""},Fm=e)},!0)}function Kq(){return jS(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(ni.lcp={value:t.value,unit:"millisecond"},rr=e)},!0)}function Qq(){return Cq(({metric:t})=>{t.entries[t.entries.length-1]&&(ni.ttfb={value:t.value,unit:"millisecond"})})}function Xq(t,e){const n=zf(),r=cr();if(!n?.getEntries||!r)return;const s=Vt(r),o=n.getEntries(),{op:c,start_timestamp:d}=it(t);o.slice(bI).forEach(f=>{const p=Vt(f.startTime),y=Vt(Math.max(0,f.duration));if(!(c==="navigation"&&d&&s+p<d))switch(f.entryType){case"navigation":{t$(t,f,s);break}case"mark":case"paint":case"measure":{Zq(t,f,p,y,s,e.ignorePerformanceApiSpans);const _=Vf(),E=f.startTime<_.firstHiddenTime;f.name==="first-paint"&&E&&(ni.fp={value:f.startTime,unit:"millisecond"}),f.name==="first-contentful-paint"&&E&&(ni.fcp={value:f.startTime,unit:"millisecond"});break}case"resource":{i$(t,f,f.name,p,y,s,e.ignoreResourceSpans);break}}}),bI=Math.max(o.length-1,0),s$(t),c==="pageload"&&(l$(ni),e.recordClsOnPageloadSpan||delete ni.cls,e.recordLcpOnPageloadSpan||delete ni.lcp,Object.entries(ni).forEach(([f,p])=>{UF(f,p.value,p.unit)}),t.setAttribute("performance.timeOrigin",s),t.setAttribute("performance.activationStart",lu()),a$(t,e)),rr=void 0,Fm=void 0,ni={}}function Jq(t){if(t?.entryType==="measure")try{return t.detail.devtools.track==="Components "}catch{return}}function Zq(t,e,n,r,s,o){if(Jq(e)||["mark","measure"].includes(e.entryType)&&Ss(e.name,o))return;const c=Uf(!1),d=Vt(c?c.requestStart:0),f=s+Math.max(n,d),p=s+n,y=p+r,_={[ln]:"auto.resource.browser.metrics"};f!==p&&(_["sentry.browser.measure_happened_before_request"]=!0,_["sentry.browser.measure_start_time"]=f),e$(_,e),f<=y&&lo(t,f,y,{name:e.name,op:e.entryType,attributes:_})}function e$(t,e){try{const n=e.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Lc(s))t[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{t[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Lc(n)){t["sentry.browser.measure.detail"]=n;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function t$(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Cp(t,e,r,n)}),Cp(t,e,"secureConnection",n,"TLS/SSL"),Cp(t,e,"fetch",n,"cache"),Cp(t,e,"domainLookup",n,"DNS"),r$(t,e,n)}function Cp(t,e,n,r,s=n){const o=n$(n),c=e[o],d=e[`${n}Start`];!d||!c||lo(t,r+Vt(d),r+Vt(c),{op:`browser.${s}`,name:e.name,attributes:{[ln]:"auto.ui.browser.metrics",...n==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function n$(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function r$(t,e,n){const r=n+Vt(e.requestStart),s=n+Vt(e.responseEnd),o=n+Vt(e.responseStart);e.responseEnd&&(lo(t,r,s,{op:"browser.request",name:e.name,attributes:{[ln]:"auto.ui.browser.metrics"}}),lo(t,o,s,{op:"browser.response",name:e.name,attributes:{[ln]:"auto.ui.browser.metrics"}}))}function i$(t,e,n,r,s,o,c){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const d=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(c?.includes(d))return;const f={[ln]:"auto.resource.browser.metrics"},p=il(n);p.protocol&&(f["url.scheme"]=p.protocol.split(":").pop()),p.host&&(f["server.address"]=p.host),f["url.same_origin"]=n.includes(Ue.location.origin),o$(e,f,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const y={...f,...iO(e)},_=o+r,E=_+s;lo(t,_,E,{name:n.replace(Ue.location.origin,""),op:d,attributes:y})}function s$(t){const e=Ue.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),Av(n.rtt)&&(ni["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Av(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),Av(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function a$(t,e){rr&&e.recordLcpOnPageloadSpan&&(rr.element&&t.setAttribute("lcp.element",or(rr.element)),rr.id&&t.setAttribute("lcp.id",rr.id),rr.url&&t.setAttribute("lcp.url",rr.url.trim().slice(0,200)),rr.loadTime!=null&&t.setAttribute("lcp.loadTime",rr.loadTime),rr.renderTime!=null&&t.setAttribute("lcp.renderTime",rr.renderTime),t.setAttribute("lcp.size",rr.size)),Fm?.sources&&e.recordClsOnPageloadSpan&&Fm.sources.forEach((n,r)=>t.setAttribute(`cls.source.${r+1}`,or(n.node)))}function o$(t,e,n){n.forEach(([r,s])=>{const o=t[r];o!=null&&(typeof o=="number"&&o<Hq||typeof o=="string")&&(e[s]=o)})}function l$(t){const e=Uf(!1);if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function c$(){return zf()&&cr()?fl("element",u$):()=>{}}const u$=({entries:t})=>{const e=Kn(),n=e?Pn(e):void 0,r=n?it(n).description:dt().getScopeData().transactionName;t.forEach(s=>{const o=s;if(!o.identifier)return;const c=o.name,d=o.renderTime,f=o.loadTime,[p,y]=f?[Vt(f),"load-time"]:d?[Vt(d),"render-time"]:[_n(),"entry-emission"],_=c==="image-paint"?Vt(Math.max(0,(d??0)-(f??0))):0,E={[ln]:"auto.ui.browser.elementtiming",[Ms]:"ui.elementtiming",[si]:"component","sentry.span_start_time_source":y,"sentry.transaction_name":r,"element.id":o.id,"element.type":o.element?.tagName?.toLowerCase()||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":d,"element.load_time":f,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":c};HF({name:`element[${o.identifier}]`,attributes:E,startTime:p,onlyIfParent:!0},w=>{w.end(p+_)})})},d$=1e3;let TI,O0,D0;function sO(t){po("dom",t),mo("dom",f$)}function f$(){if(!Ue.document)return;const t=Fr.bind(null,"dom"),e=wI(t,!0);Ue.document.addEventListener("click",e,!1),Ue.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const s=Ue[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(ar(s,"addEventListener",function(o){return function(c,d,f){if(c==="click"||c=="keypress")try{const p=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=p[c]=p[c]||{refCount:0};if(!y.handler){const _=wI(t);y.handler=_,o.call(this,c,_,f)}y.refCount++}catch{}return o.call(this,c,d,f)}}),ar(s,"removeEventListener",function(o){return function(c,d,f){if(c==="click"||c=="keypress")try{const p=this.__sentry_instrumentation_handlers__||{},y=p[c];y&&(y.refCount--,y.refCount<=0&&(o.call(this,c,y.handler,f),y.handler=void 0,delete p[c]),Object.keys(p).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,c,d,f)}}))})}function h$(t){if(t.type!==O0)return!1;try{if(!t.target||t.target._sentryId!==D0)return!1}catch{}return!0}function p$(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function wI(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=m$(n);if(p$(n.type,r))return;lr(n,"_sentryCaptured",!0),r&&!r._sentryId&&lr(r,"_sentryId",Ar());const s=n.type==="keypress"?"input":n.type;h$(n)||(t({event:n,name:s,global:e}),O0=n.type,D0=r?r._sentryId:void 0),clearTimeout(TI),TI=Ue.setTimeout(()=>{D0=void 0,O0=void 0},d$)}}function m$(t){try{return t.target}catch{return null}}let Np;function Ug(t){const e="history";po(e,t),mo(e,g$)}function g$(){if(Ue.addEventListener("popstate",()=>{const e=Ue.location.href,n=Np;if(Np=e,n===e)return;Fr("history",{from:n,to:e})}),!VH())return;function t(e){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Np,o=y$(String(r));if(Np=o,s===o)return e.apply(this,n);Fr("history",{from:s,to:o})}return e.apply(this,n)}}ar(Ue.history,"pushState",t),ar(Ue.history,"replaceState",t)}function y$(t){try{return new URL(t,Ue.location.origin).toString()}catch{return t}}const sm={};function aO(t){const e=sm[t];if(e)return e;let n=Ue[t];if(R0(n))return sm[t]=n.bind(Ue);const r=Ue.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o?.[t]&&(n=o[t]),r.head.removeChild(s)}catch(s){dl&&pe.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,s)}return n&&(sm[t]=n.bind(Ue))}function _$(t){sm[t]=void 0}function Ff(...t){return aO("setTimeout")(...t)}const Xo="__sentry_xhr_v3__";function oO(t){po("xhr",t),mo("xhr",v$)}function v$(){if(!Ue.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const s=new Error,o=_n()*1e3,c=Es(r[0])?r[0].toUpperCase():void 0,d=E$(r[1]);if(!c||!d)return e.apply(n,r);n[Xo]={method:c,url:d,request_headers:{}},c==="POST"&&d.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const f=()=>{const p=n[Xo];if(p&&n.readyState===4){try{p.status_code=n.status}catch{}const y={endTimestamp:_n()*1e3,startTimestamp:o,xhr:n,virtualError:s};Fr("xhr",y)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(p,y,_){return f(),p.apply(y,_)}}):n.addEventListener("readystatechange",f),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(p,y,_){const[E,w]=_,A=y[Xo];return A&&Es(E)&&Es(w)&&(A.request_headers[E.toLowerCase()]=w),p.apply(y,_)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const s=n[Xo];if(!s)return e.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:_n()*1e3,xhr:n};return Fr("xhr",o),e.apply(n,r)}})}function E$(t){if(Es(t))return t;try{return t.toString()}catch{}}const S$=Symbol.for("sentry__originalRequestBody");function lO(t){return new URLSearchParams(t).toString()}function cO(t,e=pe){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[lO(t)];if(!t)return[void 0]}catch(n){return dl&&e.error(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return dl&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function uO(t=[]){if(t.length>=2&&t[1]&&typeof t[1]=="object"&&"body"in t[1])return t[1].body;if(t.length>=1&&t[0]instanceof Request){const n=t[0][S$];return n!==void 0?n:void 0}}function dO(t){let e;try{e=t.getAllResponseHeaders()}catch(n){return dl&&pe.error(n,"Failed to get xhr response headers",t),{}}return e?e.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}const Rv=[],am=new Map,cc=new Map,b$=60;function T$(){if(zf()&&cr()){const e=w$();return()=>{e()}}return()=>{}}const M0={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function w$(){return Z2(A$)}const A$=({metric:t})=>{if(t.value==null)return;const e=Vt(t.value);if(e>b$)return;const n=t.entries.find(A=>A.duration===t.value&&M0[A.name]);if(!n)return;const{interactionId:r}=n,s=M0[n.name],o=Vt(cr()+n.startTime),c=Kn(),d=c?Pn(c):void 0,f=r!=null?am.get(r):void 0,p=f?.span||d,y=p?it(p).description:dt().getScopeData().transactionName,_=f?.elementName||or(n.target),E={[ln]:"auto.http.browser.inp",[Ms]:`ui.interaction.${s}`,[su]:n.duration},w=BS({name:_,transaction:y,attributes:E,startTime:o});w&&(w.addEvent("inp",{[Mf]:"millisecond",[Pf]:t.value}),w.end(o+e))};function R$(){const t=Object.keys(M0);I0()&&t.forEach(s=>{Ue.addEventListener(s,e,{capture:!0,passive:!0})});function e(s){const o=s.target;if(!o)return;const c=or(o),d=Math.round(s.timeStamp);if(cc.set(d,c),cc.size>50){const f=cc.keys().next().value;f!==void 0&&cc.delete(f)}}function n(s){const o=Math.round(s.startTime);let c=cc.get(o);if(!c)for(let d=-5;d<=5;d++){const f=cc.get(o+d);if(f){c=f;break}}return c||"<unknown>"}const r=({entries:s})=>{const o=Kn(),c=o&&Pn(o);s.forEach(d=>{if(!Pq(d))return;const f=d.interactionId;if(f==null||am.has(f))return;const p=d.target?or(d.target):n(d);if(Rv.length>10){const y=Rv.shift();am.delete(y)}Rv.push(f),am.set(f,{span:c,elementName:p})})};fl("event",r),fl("first-input",r)}const I$=40;function x$(t,e=aO("fetch")){let n=0,r=0;async function s(o){const c=o.body.length;n+=c,r++;const d={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{const f=await e(t.url,d);return{statusCode:f.status,headers:{"x-sentry-rate-limits":f.headers.get("X-Sentry-Rate-Limits"),"retry-after":f.headers.get("Retry-After")}}}catch(f){throw _$("fetch"),f}finally{n-=c,r--}}return L7(t,s,CS(t.bufferSize||I$))}const Gr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,C$=30,N$=50;function P0(t,e,n,r){const s={filename:t,function:e==="<anonymous>"?cl:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const k$=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,O$=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,D$=/\((\S*)(?::(\d+))(?::(\d+))\)/,M$=/at (.+?) ?\(data:(.+?),/,P$=t=>{const e=t.match(M$);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const n=k$.exec(t);if(n){const[,s,o,c]=n;return P0(s,cl,+o,+c)}const r=O$.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const d=D$.exec(r[2]);d&&(r[2]=d[1],r[3]=d[2],r[4]=d[3])}const[o,c]=fO(r[1]||cl,r[2]);return P0(c,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},L$=[C$,P$],U$=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,V$=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,j$=t=>{const e=U$.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=V$.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let r=e[3],s=e[1]||cl;return[s,r]=fO(s,r),P0(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},B$=[N$,j$],z$=[L$,B$],F$=Mk(...z$),fO=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:cl,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},kp=1024,H$="Breadcrumbs",q$=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:H$,setup(n){e.console&&SH(Y$(n)),e.dom&&sO(W$(n,e.dom)),e.xhr&&oO(K$(n)),e.fetch&&B2(Q$(n)),e.history&&Ug(X$(n)),e.sentry&&n.on("beforeSendEvent",G$(n))}}}),$$=q$;function G$(t){return function(n){Ze()===t&&Ls({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ko(n)},{event:n})}}function W$(t,e){return function(r){if(Ze()!==t)return;let s,o,c=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>kp&&(Gr&&pe.warn(`\`dom.maxStringLength\` cannot exceed ${kp}, but a value of ${d} was configured. Sentry will use ${kp} instead.`),d=kp),typeof c=="string"&&(c=[c]);try{const p=r.event,y=J$(p)?p.target:p;s=or(y,{keyAttrs:c,maxStringLength:d}),o=zk(y)}catch{s="<unknown>"}if(s.length===0)return;const f={category:`ui.${r.name}`,message:s};o&&(f.data={"ui.component_name":o}),Ls(f,{event:r.event,name:r.name,global:r.global})}}function Y$(t){return function(n){if(Ze()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:L2(n.level),message:MR(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${MR(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ls(r,{input:n.args,level:n.level})}}function K$(t){return function(n){if(Ze()!==t)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[Xo];if(!r||!s||!o)return;const{method:c,url:d,status_code:f,body:p}=o,y={method:c,url:d,status_code:f},_={xhr:n.xhr,input:p,startTimestamp:r,endTimestamp:s},E={category:"xhr",data:y,type:"http",level:j2(f)};t.emit("beforeOutgoingRequestBreadcrumb",E,_),Ls(E,_)}}function Q$(t){return function(n){if(Ze()!==t)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,c={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},d={category:"fetch",data:o,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",d,c),Ls(d,c)}else{const o=n.response,c={...n.fetchData,status_code:o?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o?.status;const d={input:n.args,response:o,startTimestamp:r,endTimestamp:s},f={category:"fetch",data:c,type:"http",level:j2(c.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",f,d),Ls(f,d)}}}function X$(t){return function(n){if(Ze()!==t)return;let r=n.from,s=n.to;const o=il(st.location.href);let c=r?il(r):void 0;const d=il(s);c?.path||(c=o),o.protocol===d.protocol&&o.host===d.host&&(s=d.relative),o.protocol===c.protocol&&o.host===c.host&&(r=c.relative),Ls({category:"navigation",data:{from:r,to:s}})}}function J$(t){return!!t&&!!t.target}const Z$=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],eG="BrowserApiErrors",tG=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:eG,setupOnce(){e.setTimeout&&ar(st,"setTimeout",AI),e.setInterval&&ar(st,"setInterval",AI),e.requestAnimationFrame&&ar(st,"requestAnimationFrame",rG),e.XMLHttpRequest&&"XMLHttpRequest"in st&&ar(XMLHttpRequest.prototype,"send",iG);const n=e.eventTarget;n&&(Array.isArray(n)?n:Z$).forEach(s=>sG(s,e))}}}),nG=tG;function AI(t){return function(...e){const n=e[0];return e[0]=zc(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${ks(t)}`}}),t.apply(this,e)}}function rG(t){return function(e){return t.apply(this,[zc(e,{mechanism:{data:{handler:ks(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function iG(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ar(n,s,function(o){const c={mechanism:{data:{handler:ks(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},d=yS(o);return d&&(c.mechanism.data.handler=ks(d)),zc(o,c)})}),t.apply(this,e)}}function sG(t,e){const r=st[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(ar(r,"addEventListener",function(s){return function(o,c,d){try{aG(c)&&(c.handleEvent=zc(c.handleEvent,{mechanism:{data:{handler:ks(c),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&oG(this,o,c),s.apply(this,[o,zc(c,{mechanism:{data:{handler:ks(c),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),d])}}),ar(r,"removeEventListener",function(s){return function(o,c,d){try{const f=c.__sentry_wrapped__;f&&s.call(this,o,f,d)}catch{}return s.call(this,o,c,d)}}))}function aG(t){return typeof t.handleEvent=="function"}function oG(t,e,n){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,n)}const lG=()=>({name:"BrowserSession",setupOnce(){if(typeof st.document>"u"){Gr&&pe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}tI({ignoreDuration:!0}),nI(),Ug(({from:t,to:e})=>{t!==void 0&&t!==e&&(tI({ignoreDuration:!0}),nI())})}}),cG="GlobalHandlers",uG=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:cG,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(fG(n),RI("onerror")),e.onunhandledrejection&&(hG(n),RI("onunhandledrejection"))}}}),dG=uG;function fG(t){Lk(e=>{const{stackParser:n,attachStacktrace:r}=hO();if(Ze()!==t||F2())return;const{msg:s,url:o,line:c,column:d,error:f}=e,p=gG(PS(n,f||s,void 0,r,!1),o,c,d);p.level="error",g2(p,{originalException:f,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function hG(t){Uk(e=>{const{stackParser:n,attachStacktrace:r}=hO();if(Ze()!==t||F2())return;const s=pG(e),o=Lc(s)?mG(s):PS(n,s,void 0,r,!0);o.level="error",g2(o,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function pG(t){if(Lc(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function mG(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function gG(t,e,n,r){const s=t.exception=t.exception||{},o=s.values=s.values||[],c=o[0]=o[0]||{},d=c.stacktrace=c.stacktrace||{},f=d.frames=d.frames||[],p=r,y=n,_=yG(e)??ru();return f.length===0&&f.push({colno:p,filename:_,function:cl,in_app:!0,lineno:y}),t}function RI(t){Gr&&pe.log(`Global Handler attached: ${t}`)}function hO(){return Ze()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function yG(t){if(!(!Es(t)||t.length===0))return t.startsWith("data:")?`<${Ka(t,!1)}>`:t}const _G=()=>({name:"HttpContext",preprocessEvent(t){if(!st.navigator&&!st.location&&!st.document)return;const e=OS(),n={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:n}}}),vG="cause",EG=5,SG="LinkedErrors",bG=((t={})=>{const e=t.limit||EG,n=t.key||vG;return{name:SG,preprocessEvent(r,s,o){const c=o.getOptions();EH(DS,c.stackParser,n,e,r,s)}}}),TG=bG;function wG(){return AG()?(Gr&&Sl(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function AG(){if(typeof st.window>"u")return!1;const t=st;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const n=ru(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(st===st.top&&r.some(o=>n.startsWith(`${o}://`)))}function RG(t){return[fH(),lH(),kH(),nG(),$$(),dG(),TG(),AH(),_G(),lG()]}function IG(t={}){const e=!t.skipBrowserExtensionCheck&&wG();let n=t.defaultIntegrations==null?RG():t.defaultIntegrations;const r={...t,enabled:e?!1:t.enabled,stackParser:fz(t.stackParser||F$),integrations:A7({integrations:t.integrations,defaultIntegrations:n}),transport:t.transport||x$};return W7(lq,r)}const bt=Je,zS="sentryReplaySession",xG="replay_event",FS="Unable to send Replay",CG=3e5,NG=9e5,kG=5e3,OG=5500,DG=6e4,MG=5e3,PG=3,II=15e4,Op=5e3,LG=3e3,UG=300,HS=2e7,VG=4999,jG=5e4,xI=36e5;var BG=Object.defineProperty,zG=(t,e,n)=>e in t?BG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CI=(t,e,n)=>zG(t,typeof e!="symbol"?e+"":e,n),Xt=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Xt||{});function FG(t){return t.nodeType===t.ELEMENT_NODE}function Cd(t){return t?.host?.shadowRoot===t}function Nd(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function HG(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function qG(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function Hm(t){try{const e=t.rules||t.cssRules;return e?HG(Array.from(e,pO).join("")):null}catch{return null}}function $G(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style,s=r[n],o=r.getPropertyPriority(s);e+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${t.selectorText} { ${e} }`}function pO(t){let e;if(WG(t))try{e=Hm(t.styleSheet)||qG(t)}catch{}else if(YG(t)){let n=t.cssText;const r=t.selectorText.includes(":"),s=typeof t.style.all=="string"&&t.style.all;if(s&&(n=$G(t)),r&&(n=GG(n)),r||s)return n}return e||t.cssText}function GG(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function WG(t){return"styleSheet"in t}function YG(t){return"selectorText"in t}class mO{constructor(){CI(this,"idNodeMap",new Map),CI(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function KG(){return new mO}function Vg({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function nf({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function Fc(t){return t.toLowerCase()}function L0(t){return t.toUpperCase()}const NI="__rrweb_original__";function QG(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let s=0;s<t.height;s+=n){const o=e.getImageData,c=NI in o?o[NI]:o;if(new Uint32Array(c.call(e,r,s,Math.min(n,t.width-r),Math.min(n,t.height-s)).data.buffer).some(f=>f!==0))return!1}return!0}function qS(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Fc(e):null}function qm(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}function gO(t,e){let n;try{n=new URL(t,e??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}const kI={};function yO(t){const e=kI[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(s)}catch{}return kI[t]=r.bind(window)}function U0(...t){return yO("setTimeout")(...t)}function _O(...t){return yO("clearTimeout")(...t)}function vO(t){try{return t.contentDocument}catch{}}let XG=1;const JG=new RegExp("[^a-z0-9-_:]"),rf=-2;function $S(){return XG++}function ZG(t){if(t instanceof HTMLFormElement)return"form";const e=Fc(t.tagName);return JG.test(e)?"div":e}function eW(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let uc,OI;const tW=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,nW=/^(?:[a-z+]+:)?\/\//i,rW=/^www\..*/i,iW=/^(data:)([^,]*),(.*)/i;function sW(t,e){if(!t||e.size===0)return t;try{const n=t.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const o=s.indexOf(":");if(o===-1){r.push(s);continue}const c=s.slice(0,o).trim();e.has(c)||r.push(s)}return r.join("; ")+(r.length>0&&t.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),t}}function $m(t,e){return(t||"").replace(tW,(n,r,s,o,c,d)=>{const f=s||c||d,p=r||o||"";if(!f)return n;if(nW.test(f)||rW.test(f))return`url(${p}${f}${p})`;if(iW.test(f))return`url(${p}${f}${p})`;if(f[0]==="/")return`url(${p}${eW(e)+f}${p})`;const y=e.split("/"),_=f.split("/");y.pop();for(const E of _)E!=="."&&(E===".."?y.pop():y.push(E));return`url(${p}${y.join("/")}${p})`})}const aW=/^[^ \t\n\r\u000c]+/,oW=/^[, \t\n\r\u000c]+/;function lW(t,e){if(e.trim()==="")return e;let n=0;function r(o){let c;const d=o.exec(e.substring(n));return d?(c=d[0],n+=c.length,c):""}const s=[];for(;r(oW),!(n>=e.length);){let o=r(aW);if(o.slice(-1)===",")o=_c(t,o.substring(0,o.length-1)),s.push(o);else{let c="";o=_c(t,o);let d=!1;for(;;){const f=e.charAt(n);if(f===""){s.push((o+c).trim());break}else if(d)f===")"&&(d=!1);else if(f===","){n+=1,s.push((o+c).trim());break}else f==="("&&(d=!0);c+=f,n+=1}}}return s.join(", ")}const DI=new WeakMap;function _c(t,e){return!e||e.trim()===""?e:jg(t,e)}function cW(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function jg(t,e){let n=DI.get(t);if(n||(n=t.createElement("a"),DI.set(t,n)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return n.setAttribute("href",e),n.href}function EO(t,e,n,r,s,o,c){if(!r)return r;if(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#"))return _c(t,r);if(n==="xlink:href"&&r[0]!=="#")return _c(t,r);if(n==="background"&&(e==="table"||e==="td"||e==="th"))return _c(t,r);if(n==="srcset")return lW(t,r);if(n==="style"){let d=$m(r,jg(t));return c&&c.size>0&&(d=sW(d,c)),d}else if(e==="object"&&n==="data")return _c(t,r);return typeof o=="function"?o(n,r,s):r}function SO(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function uW(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let s=t.classList.length;s--;){const o=t.classList[s];if(e.test(o))return!0}if(n)return t.matches(n)}catch{}return!1}function dW(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function Jo(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:Jo(t.parentNode,e,n,r+1)}function vc(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(dW(r,t))return!0}return!!(e&&r.matches(e))}catch{return!1}}}function Hc(t,e,n,r,s,o){try{const c=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(c===null)return!1;if(c.tagName==="INPUT"){const p=c.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(p))return!0}let d=-1,f=-1;if(o){if(f=Jo(c,vc(r,s)),f<0)return!0;d=Jo(c,vc(e,n),f>=0?f:1/0)}else{if(d=Jo(c,vc(e,n)),d<0)return!1;f=Jo(c,vc(r,s),d>=0?d:1/0)}return d>=0?f>=0?d<=f:!0:f>=0?!1:!!o}catch{}return!!o}function fW(t,e,n){const r=t.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const d=U0(()=>{s||(e(),s=!0)},n);t.addEventListener("load",()=>{_O(d),s=!0,e()});return}const c="about:blank";if(r.location.href!==c||t.src===c||t.src==="")return U0(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function hW(t,e,n){let r=!1,s;try{s=t.sheet}catch{return}if(s)return;const o=U0(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{_O(o),r=!0,e()})}function pW(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:c,maskAllText:d,maskAttributeFn:f,maskTextClass:p,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:E,inlineStylesheet:w,maskInputOptions:A={},maskTextFn:N,maskInputFn:k,dataURLOptions:z={},inlineImages:F,recordCanvas:Q,keepIframeSrcFn:Z,newlyAddedElement:ue=!1,ignoreCSSAttributes:se}=e,x=mW(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:Xt.Document,childNodes:[],compatMode:t.compatMode}:{type:Xt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Xt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:x};case t.ELEMENT_NODE:return yW(t,{doc:n,blockClass:s,blockSelector:o,unblockSelector:c,inlineStylesheet:w,maskAttributeFn:f,maskInputOptions:A,maskInputFn:k,dataURLOptions:z,inlineImages:F,recordCanvas:Q,keepIframeSrcFn:Z,newlyAddedElement:ue,rootId:x,maskTextClass:p,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:E,ignoreCSSAttributes:se});case t.TEXT_NODE:return gW(t,{doc:n,maskAllText:d,maskTextClass:p,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:E,maskTextFn:N,maskInputOptions:A,maskInputFn:k,rootId:x});case t.CDATA_SECTION_NODE:return{type:Xt.CDATA,textContent:"",rootId:x};case t.COMMENT_NODE:return{type:Xt.Comment,textContent:t.textContent||"",rootId:x};default:return!1}}function mW(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function gW(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:c,maskTextFn:d,maskInputOptions:f,maskInputFn:p,rootId:y}=e,_=t.parentNode&&t.parentNode.tagName;let E=t.textContent;const w=_==="STYLE"?!0:void 0,A=_==="SCRIPT"?!0:void 0,N=_==="TEXTAREA"?!0:void 0;if(w&&E){try{t.nextSibling||t.previousSibling||t.parentNode.sheet?.cssRules&&(E=Hm(t.parentNode.sheet))}catch(z){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${z}`,t)}E=$m(E,jg(e.doc))}A&&(E="SCRIPT_PLACEHOLDER");const k=Hc(t,r,o,s,c,n);if(!w&&!A&&!N&&E&&k&&(E=d?d(E,t.parentElement):E.replace(/[\S]/g,"*")),N&&E&&(f.textarea||k)&&(E=p?p(E,t.parentNode):E.replace(/[\S]/g,"*")),_==="OPTION"&&E){const z=Vg({type:null,tagName:_,maskInputOptions:f});E=nf({isMasked:Hc(t,r,o,s,c,z),element:t,value:E,maskInputFn:p})}return{type:Xt.Text,textContent:E||"",isStyle:w,rootId:y}}function yW(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:c,maskInputOptions:d={},maskAttributeFn:f,maskInputFn:p,dataURLOptions:y={},inlineImages:_,recordCanvas:E,keepIframeSrcFn:w,newlyAddedElement:A=!1,rootId:N,maskTextClass:k,unmaskTextClass:z,maskTextSelector:F,unmaskTextSelector:Q,ignoreCSSAttributes:Z}=e,ue=uW(t,r,s,o),se=ZG(t);let x={};const I=t.attributes.length;for(let D=0;D<I;D++){const P=t.attributes[D];P.name&&!SO(se,P.name,P.value)&&(x[P.name]=EO(n,se,Fc(P.name),P.value,t,f,Z))}if(se==="link"&&c){const D=Array.from(n.styleSheets).find(U=>U.href===t.href);let P=null;D&&(P=Hm(D)),P&&(x.rel=null,x.href=null,x.crossorigin=null,x._cssText=$m(P,D.href))}if(se==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const D=Hm(t.sheet);D&&(x._cssText=$m(D,jg(n)))}if(se==="input"||se==="textarea"||se==="select"||se==="option"){const D=t,P=qS(D),U=qm(D,L0(se),P),M=D.checked;if(P!=="submit"&&P!=="button"&&U){const ge=Hc(D,k,F,z,Q,Vg({type:P,tagName:L0(se),maskInputOptions:d}));x.value=nf({isMasked:ge,element:D,value:U,maskInputFn:p})}M&&(x.checked=M)}if(se==="option"&&(t.selected&&!d.select?x.selected=!0:delete x.selected),se==="canvas"&&E){if(t.__context==="2d")QG(t)||(x.rr_dataURL=t.toDataURL(y.type,y.quality));else if(!("__context"in t)){const D=t.toDataURL(y.type,y.quality),P=n.createElement("canvas");P.width=t.width,P.height=t.height;const U=P.toDataURL(y.type,y.quality);D!==U&&(x.rr_dataURL=D)}}if(se==="img"&&_){uc||(uc=n.createElement("canvas"),OI=uc.getContext("2d"));const D=t,P=D.currentSrc||D.getAttribute("src")||"<unknown-src>",U=D.crossOrigin,M=()=>{D.removeEventListener("load",M);try{uc.width=D.naturalWidth,uc.height=D.naturalHeight,OI.drawImage(D,0,0),x.rr_dataURL=uc.toDataURL(y.type,y.quality)}catch(ge){if(D.crossOrigin!=="anonymous"){D.crossOrigin="anonymous",D.complete&&D.naturalWidth!==0?M():D.addEventListener("load",M);return}else console.warn(`Cannot inline img src=${P}! Error: ${ge}`)}D.crossOrigin==="anonymous"&&(U?x.crossOrigin=U:D.removeAttribute("crossorigin"))};D.complete&&D.naturalWidth!==0?M():D.addEventListener("load",M)}if((se==="audio"||se==="video")&&(x.rr_mediaState=t.paused?"paused":"played",x.rr_mediaCurrentTime=t.currentTime),A||(t.scrollLeft&&(x.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(x.rr_scrollTop=t.scrollTop)),ue){const{width:D,height:P}=t.getBoundingClientRect();x={class:x.class,rr_width:`${D}px`,rr_height:`${P}px`}}se==="iframe"&&!w(x.src)&&(!ue&&!vO(t)&&(x.rr_src=x.src),delete x.src);let O;try{customElements.get(se)&&(O=!0)}catch{}return{type:Xt.Element,tagName:se,attributes:x,childNodes:[],isSVG:cW(t)||void 0,needBlock:ue,rootId:N,isCustom:O}}function St(t){return t==null?"":t.toLowerCase()}function _W(t,e){if(e.comment&&t.type===Xt.Comment)return!0;if(t.type===Xt.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&gO(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(St(t.attributes.name).match(/^msapplication-tile(image|color)$/)||St(t.attributes.name)==="application-name"||St(t.attributes.rel)==="icon"||St(t.attributes.rel)==="apple-touch-icon"||St(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&St(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(St(t.attributes.property).match(/^(og|twitter|fb):/)||St(t.attributes.name).match(/^(og|twitter):/)||St(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(St(t.attributes.name)==="robots"||St(t.attributes.name)==="googlebot"||St(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(St(t.attributes.name)==="author"||St(t.attributes.name)==="generator"||St(t.attributes.name)==="framework"||St(t.attributes.name)==="publisher"||St(t.attributes.name)==="progid"||St(t.attributes.property).match(/^article:/)||St(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(St(t.attributes.name)==="google-site-verification"||St(t.attributes.name)==="yandex-verification"||St(t.attributes.name)==="csrf-token"||St(t.attributes.name)==="p:domain_verify"||St(t.attributes.name)==="verify-v1"||St(t.attributes.name)==="verification"||St(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Ec(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:c,maskAllText:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:y,unmaskTextSelector:_,skipChild:E=!1,inlineStylesheet:w=!0,maskInputOptions:A={},maskAttributeFn:N,maskTextFn:k,maskInputFn:z,slimDOMOptions:F,dataURLOptions:Q={},inlineImages:Z=!1,recordCanvas:ue=!1,onSerialize:se,onIframeLoad:x,iframeLoadTimeout:I=5e3,onBlockedImageLoad:O,onStylesheetLoad:D,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:U=()=>!1,newlyAddedElement:M=!1,ignoreCSSAttributes:ge}=e;let{preserveWhiteSpace:De=!0}=e;const Y=pW(t,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:d,unblockSelector:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:y,unmaskTextSelector:_,inlineStylesheet:w,maskInputOptions:A,maskAttributeFn:N,maskTextFn:k,maskInputFn:z,dataURLOptions:Q,inlineImages:Z,recordCanvas:ue,keepIframeSrcFn:U,newlyAddedElement:M,ignoreCSSAttributes:ge});if(!Y)return console.warn(t,"not serialized"),null;let ae;r.hasNode(t)?ae=r.getId(t):_W(Y,F)||!De&&Y.type===Xt.Text&&!Y.isStyle&&!Y.textContent.replace(/^\s+|\s+$/gm,"").length?ae=rf:ae=$S();const te=Object.assign(Y,{id:ae});if(r.add(t,te),ae===rf)return null;se&&se(t);let fe=!E;if(te.type===Xt.Element){fe=fe&&!te.needBlock;const le=t.shadowRoot;le&&Nd(le)&&(te.isShadowHost=!0)}if((te.type===Xt.Document||te.type===Xt.Element)&&fe){F.headWhitespace&&te.type===Xt.Element&&te.tagName==="head"&&(De=!1);const le={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:d,unblockSelector:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:y,unmaskTextSelector:_,skipChild:E,inlineStylesheet:w,maskInputOptions:A,maskAttributeFn:N,maskTextFn:k,maskInputFn:z,slimDOMOptions:F,dataURLOptions:Q,inlineImages:Z,recordCanvas:ue,preserveWhiteSpace:De,onSerialize:se,onIframeLoad:x,iframeLoadTimeout:I,onBlockedImageLoad:O,onStylesheetLoad:D,stylesheetLoadTimeout:P,keepIframeSrcFn:U,ignoreCSSAttributes:ge},L=t.childNodes?Array.from(t.childNodes):[];for(const q of L){const re=Ec(q,le);re&&te.childNodes.push(re)}if(FG(t)&&t.shadowRoot)for(const q of Array.from(t.shadowRoot.childNodes)){const re=Ec(q,le);re&&(Nd(t.shadowRoot)&&(re.isShadow=!0),te.childNodes.push(re))}}if(t.parentNode&&Cd(t.parentNode)&&Nd(t.parentNode)&&(te.isShadow=!0),te.type===Xt.Element&&te.tagName==="iframe"&&!te.needBlock&&fW(t,()=>{const le=vO(t);if(le&&x){const L=Ec(le,{doc:le,mirror:r,blockClass:s,blockSelector:o,unblockSelector:c,maskAllText:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:y,unmaskTextSelector:_,skipChild:!1,inlineStylesheet:w,maskInputOptions:A,maskAttributeFn:N,maskTextFn:k,maskInputFn:z,slimDOMOptions:F,dataURLOptions:Q,inlineImages:Z,recordCanvas:ue,preserveWhiteSpace:De,onSerialize:se,onIframeLoad:x,iframeLoadTimeout:I,onStylesheetLoad:D,stylesheetLoadTimeout:P,keepIframeSrcFn:U,ignoreCSSAttributes:ge});L&&x(t,L)}},I),te.type===Xt.Element&&te.tagName==="img"&&!t.complete&&te.needBlock){const le=t,L=()=>{if(le.isConnected&&!le.complete&&O)try{const q=le.getBoundingClientRect();q.width>0&&q.height>0&&O(le,te,q)}catch{}le.removeEventListener("load",L)};le.isConnected&&le.addEventListener("load",L)}return te.type===Xt.Element&&te.tagName==="link"&&typeof te.attributes.rel=="string"&&(te.attributes.rel==="stylesheet"||te.attributes.rel==="preload"&&typeof te.attributes.href=="string"&&gO(te.attributes.href)==="css")&&hW(t,()=>{if(D){const le=Ec(t,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:c,maskAllText:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:y,unmaskTextSelector:_,skipChild:!1,inlineStylesheet:w,maskInputOptions:A,maskAttributeFn:N,maskTextFn:k,maskInputFn:z,slimDOMOptions:F,dataURLOptions:Q,inlineImages:Z,recordCanvas:ue,preserveWhiteSpace:De,onSerialize:se,onIframeLoad:x,iframeLoadTimeout:I,onStylesheetLoad:D,stylesheetLoadTimeout:P,keepIframeSrcFn:U,ignoreCSSAttributes:ge});le&&D(t,le)}},P),te.type===Xt.Element&&delete te.needBlock,te}function vW(t,e){const{mirror:n=new mO,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:p=null,unmaskTextSelector:y=null,inlineStylesheet:_=!0,inlineImages:E=!1,recordCanvas:w=!1,maskAllInputs:A=!1,maskAttributeFn:N,maskTextFn:k,maskInputFn:z,slimDOM:F=!1,dataURLOptions:Q,preserveWhiteSpace:Z,onSerialize:ue,onIframeLoad:se,iframeLoadTimeout:x,onBlockedImageLoad:I,onStylesheetLoad:O,stylesheetLoadTimeout:D,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:U=new Set([])}=e||{};return Ec(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:y,skipChild:!1,inlineStylesheet:_,maskInputOptions:A===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:A===!1?{}:A,maskAttributeFn:N,maskTextFn:k,maskInputFn:z,slimDOMOptions:F===!0||F==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:F==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:F===!1?{}:F,dataURLOptions:Q,inlineImages:E,recordCanvas:w,preserveWhiteSpace:Z,onSerialize:ue,onIframeLoad:se,iframeLoadTimeout:x,onBlockedImageLoad:I,onStylesheetLoad:O,stylesheetLoadTimeout:D,keepIframeSrcFn:P,newlyAddedElement:!1,ignoreCSSAttributes:U})}function Yn(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const pc=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let MI={map:{},getId(){return console.error(pc),-1},getNode(){return console.error(pc),null},removeNodeFromMap(){console.error(pc)},has(){return console.error(pc),!1},reset(){console.error(pc)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(MI=new Proxy(MI,{get(t,e,n){return e==="map"&&console.error(pc),Reflect.get(t,e,n)}}));function sf(t,e,n={}){let r=null,s=0;return function(...o){const c=Date.now();!s&&n.leading===!1&&(s=c);const d=e-(c-s),f=this;d<=0||d>e?(r&&(RW(r),r=null),s=c,t.apply(f,o)):!r&&n.trailing!==!1&&(r=Bg(()=>{s=n.leading===!1?0:Date.now(),r=null,t.apply(f,o)},d))}}function bO(t,e,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(c){Bg(()=>{n.set.call(this,c)},0),o&&o.set&&o.set.call(this,c)}}),()=>bO(t,e,o||{},!0)}function GS(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch{return()=>{}}}let Gm=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Gm=()=>new Date().getTime());function TO(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:e?.documentElement.scrollLeft||e?.body?.parentElement?.scrollLeft||e?.body?.scrollLeft||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:e?.documentElement.scrollTop||e?.body?.parentElement?.scrollTop||e?.body?.scrollTop||0}}function wO(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function AO(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function RO(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function vr(t,e,n,r,s){if(!t)return!1;const o=RO(t);if(!o)return!1;const c=vc(e,n);if(!s){const p=r&&o.matches(r);return c(o)&&!p}const d=Jo(o,c);let f=-1;return d<0?!1:(r&&(f=Jo(o,vc(null,r))),d>-1&&f<0?!0:d<f)}function EW(t,e){return e.getId(t)!==-1}function Iv(t,e){return e.getId(t)===rf}function IO(t,e){if(Cd(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?IO(t.parentNode,e):!0:!0}function V0(t){return!!t.changedTouches}function SW(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function xO(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function CO(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function j0(t){return!!t?.shadowRoot}class bW{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function NO(t){let e=null;return t.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function TW(t){let e=t,n;for(;n=NO(e);)e=n;return e}function wW(t){const e=t.ownerDocument;if(!e)return!1;const n=TW(t);return e.contains(n)}function kO(t){const e=t.ownerDocument;return e?e.contains(t)||wW(t):!1}const PI={};function WS(t){const e=PI[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(s)}catch{}return PI[t]=r.bind(window)}function AW(...t){return WS("requestAnimationFrame")(...t)}function Bg(...t){return WS("setTimeout")(...t)}function RW(...t){return WS("clearTimeout")(...t)}var qe=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(qe||{}),Pe=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Pe||{}),Gn=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Gn||{}),gs=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(gs||{}),mc=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(mc||{});function YS(t){try{return t.contentDocument}catch{}}function IW(t){try{return t.contentWindow}catch{}}function LI(t){return"__ln"in t}class xW{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=n?.next||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&LI(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&LI(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const UI=(t,e)=>`${t}@${e}`;class CW{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new xW,s=f=>{let p=f,y=rf;for(;y===rf;)p=p&&p.nextSibling,y=p&&this.mirror.getId(p);return y},o=f=>{if(!f.parentNode||!kO(f))return;const p=Cd(f.parentNode)?this.mirror.getId(NO(f)):this.mirror.getId(f.parentNode),y=s(f);if(p===-1||y===-1)return r.addNode(f);const _=Ec(f,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:E=>{xO(E,this.mirror)&&!vr(E,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(E),CO(E,this.mirror)&&this.stylesheetManager.trackLinkElement(E),j0(f)&&this.shadowDomManager.addShadowRoot(f.shadowRoot,this.doc)},onIframeLoad:(E,w)=>{vr(E,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(E,w),E.contentWindow&&this.canvasManager.addWindow(E.contentWindow),this.shadowDomManager.observeAttachShadow(E))},onStylesheetLoad:(E,w)=>{this.stylesheetManager.attachLinkElement(E,w)},onBlockedImageLoad:(E,w,{width:A,height:N})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:w.id,attributes:{style:{width:`${A}px`,height:`${N}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});_&&(e.push({parentId:p,nextId:y,node:_}),n.add(_.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const f of this.movedSet)VI(this.removes,f,this.mirror)&&!this.movedSet.has(f.parentNode)||o(f);for(const f of this.addedSet)!jI(this.droppedSet,f)&&!VI(this.removes,f,this.mirror)||jI(this.movedSet,f)?o(f):this.droppedSet.add(f);let c=null;for(;r.length;){let f=null;if(c){const p=this.mirror.getId(c.value.parentNode),y=s(c.value);p!==-1&&y!==-1&&(f=c)}if(!f){let p=r.tail;for(;p;){const y=p;if(p=p.previous,y){const _=this.mirror.getId(y.value.parentNode);if(s(y.value)===-1)continue;if(_!==-1){f=y;break}else{const w=y.value;if(w.parentNode&&w.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const A=w.parentNode.host;if(this.mirror.getId(A)!==-1){f=y;break}}}}}}if(!f){for(;r.head;)r.removeNode(r.head.value);break}c=f.previous,r.removeNode(f.value),o(f.value)}const d={texts:this.texts.map(f=>({id:this.mirror.getId(f.node),value:f.value})).filter(f=>!n.has(f.id)).filter(f=>this.mirror.has(f.id)),attributes:this.attributes.map(f=>{const{attributes:p}=f;if(typeof p.style=="string"){const y=JSON.stringify(f.styleDiff),_=JSON.stringify(f._unchangedStyles);y.length<p.style.length&&(y+_).split("var(").length===p.style.split("var(").length&&(p.style=f.styleDiff)}return{id:this.mirror.getId(f.node),attributes:p}}).filter(f=>!n.has(f.id)).filter(f=>this.mirror.has(f.id)),removes:this.removes,adds:e};!d.texts.length&&!d.attributes.length&&!d.removes.length&&!d.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(d))},this.processMutation=e=>{if(!Iv(e.target,this.mirror))switch(e.type){case"characterData":{const n=e.target.textContent;!vr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:Hc(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,RO(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if(r==="value"){const c=qS(n),d=n.tagName;s=qm(n,d,c);const f=Vg({maskInputOptions:this.maskInputOptions,tagName:d,type:c}),p=Hc(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,f);s=nf({isMasked:p,element:n,value:s,maskInputFn:this.maskInputFn})}if(vr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let o=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!YS(n))r="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),r==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!SO(n.tagName,r)&&(o.attributes[r]=EO(this.doc,Fc(n.tagName),Fc(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const c=this.unattachedDoc.createElement("span");e.oldValue&&c.setAttribute("style",e.oldValue);for(const d of Array.from(n.style)){const f=n.style.getPropertyValue(d),p=n.style.getPropertyPriority(d);f!==c.style.getPropertyValue(d)||p!==c.style.getPropertyPriority(d)?p===""?o.styleDiff[d]=f:o.styleDiff[d]=[f,p]:o._unchangedStyles[d]=[f,p]}for(const d of Array.from(c.style))n.style.getPropertyValue(d)===""&&(o.styleDiff[d]=!1)}break}case"childList":{if(vr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Cd(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);vr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Iv(n,this.mirror)||!EW(n,this.mirror)||(this.addedSet.has(n)?(B0(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||IO(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[UI(r,s)]?B0(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Cd(e.target)&&Nd(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Iv(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[UI(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);vr(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(r=>this.genAdds(r)),j0(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function B0(t,e){t.delete(e),e.childNodes?.forEach(n=>B0(t,n))}function VI(t,e,n){return t.length===0?!1:NW(t,e,n)}function NW(t,e,n){let r=e.parentNode;for(;r;){const s=n.getId(r);if(t.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function jI(t,e){return t.size===0?!1:OO(t,e)}function OO(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:OO(t,n):!1}let kd;function kW(t){kd=t}function OW(){kd=void 0}const rt=t=>kd?(...n)=>{try{return t(...n)}catch(r){if(kd&&kd(r)===!0)return()=>{};throw r}}:t,Sc=[];function Hf(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function DO(t,e){const n=new CW;Sc.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const s=window?.Zone?.__symbol__?.("MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(rt(c=>{t.onMutation&&t.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function DW({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const s=typeof e.mousemove=="number"?e.mousemove:50,o=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let c=[],d;const f=sf(rt(_=>{const E=Date.now()-d;t(c.map(w=>(w.timeOffset-=E,w)),_),c=[],d=null}),o),p=rt(sf(rt(_=>{const E=Hf(_),{clientX:w,clientY:A}=V0(_)?_.changedTouches[0]:_;d||(d=Gm()),c.push({x:w,y:A,id:r.getId(E),timeOffset:Gm()-d}),f(typeof DragEvent<"u"&&_ instanceof DragEvent?Pe.Drag:_ instanceof MouseEvent?Pe.MouseMove:Pe.TouchMove)}),s,{trailing:!1})),y=[Yn("mousemove",p,n),Yn("touchmove",p,n),Yn("drag",p,n)];return rt(()=>{y.forEach(_=>_())})}function MW({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:c}){if(c.mouseInteraction===!1)return()=>{};const d=c.mouseInteraction===!0||c.mouseInteraction===void 0?{}:c.mouseInteraction,f=[];let p=null;const y=_=>E=>{const w=Hf(E);if(vr(w,r,s,o,!0))return;let A=null,N=_;if("pointerType"in E){switch(E.pointerType){case"mouse":A=gs.Mouse;break;case"touch":A=gs.Touch;break;case"pen":A=gs.Pen;break}A===gs.Touch?Gn[_]===Gn.MouseDown?N="TouchStart":Gn[_]===Gn.MouseUp&&(N="TouchEnd"):gs.Pen}else V0(E)&&(A=gs.Touch);A!==null?(p=A,(N.startsWith("Touch")&&A===gs.Touch||N.startsWith("Mouse")&&A===gs.Mouse)&&(A=null)):Gn[_]===Gn.Click&&(A=p,p=null);const k=V0(E)?E.changedTouches[0]:E;if(!k)return;const z=n.getId(w),{clientX:F,clientY:Q}=k;rt(t)({type:Gn[N],id:z,x:F,y:Q,...A!==null&&{pointerType:A}})};return Object.keys(Gn).filter(_=>Number.isNaN(Number(_))&&!_.endsWith("_Departed")&&d[_]!==!1).forEach(_=>{let E=Fc(_);const w=y(_);if(window.PointerEvent)switch(Gn[_]){case Gn.MouseDown:case Gn.MouseUp:E=E.replace("mouse","pointer");break;case Gn.TouchStart:case Gn.TouchEnd:return}f.push(Yn(E,w,e))}),rt(()=>{f.forEach(_=>_())})}function MO({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:c}){const d=rt(sf(rt(f=>{const p=Hf(f);if(!p||vr(p,r,s,o,!0))return;const y=n.getId(p);if(p===e&&e.defaultView){const _=TO(e.defaultView);t({id:y,x:_.left,y:_.top})}else t({id:y,x:p.scrollLeft,y:p.scrollTop})}),c.scroll||100));return Yn("scroll",d,e)}function PW({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const s=rt(sf(rt(()=>{const o=wO(),c=AO();(n!==o||r!==c)&&(t({width:Number(c),height:Number(o)}),n=o,r=c)}),200));return Yn("resize",s,e)}const LW=["INPUT","TEXTAREA","SELECT"],BI=new WeakMap;function UW({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:c,ignoreSelector:d,maskInputOptions:f,maskInputFn:p,sampling:y,userTriggeredOnInput:_,maskTextClass:E,unmaskTextClass:w,maskTextSelector:A,unmaskTextSelector:N}){function k(x){let I=Hf(x);const O=x.isTrusted,D=I&&L0(I.tagName);if(D==="OPTION"&&(I=I.parentElement),!I||!D||LW.indexOf(D)<0||vr(I,r,s,o,!0))return;const P=I;if(P.classList.contains(c)||d&&P.matches(d))return;const U=qS(I);let M=qm(P,D,U),ge=!1;const De=Vg({maskInputOptions:f,tagName:D,type:U}),Y=Hc(I,E,A,w,N,De);(U==="radio"||U==="checkbox")&&(ge=I.checked),M=nf({isMasked:Y,element:I,value:M,maskInputFn:p}),z(I,_?{text:M,isChecked:ge,userTriggered:O}:{text:M,isChecked:ge});const ae=I.name;U==="radio"&&ae&&ge&&e.querySelectorAll(`input[type="radio"][name="${ae}"]`).forEach(te=>{if(te!==I){const fe=nf({isMasked:Y,element:te,value:qm(te,D,U),maskInputFn:p});z(te,_?{text:fe,isChecked:!ge,userTriggered:!1}:{text:fe,isChecked:!ge})}})}function z(x,I){const O=BI.get(x);if(!O||O.text!==I.text||O.isChecked!==I.isChecked){BI.set(x,I);const D=n.getId(x);rt(t)({...I,id:D})}}const Q=(y.input==="last"?["change"]:["input","change"]).map(x=>Yn(x,rt(k),e)),Z=e.defaultView;if(!Z)return()=>{Q.forEach(x=>x())};const ue=Z.Object.getOwnPropertyDescriptor(Z.HTMLInputElement.prototype,"value"),se=[[Z.HTMLInputElement.prototype,"value"],[Z.HTMLInputElement.prototype,"checked"],[Z.HTMLSelectElement.prototype,"value"],[Z.HTMLTextAreaElement.prototype,"value"],[Z.HTMLSelectElement.prototype,"selectedIndex"],[Z.HTMLOptionElement.prototype,"selected"]];return ue&&ue.set&&Q.push(...se.map(x=>bO(x[0],x[1],{set(){rt(k)({target:this,isTrusted:!1})}},!1,Z))),rt(()=>{Q.forEach(x=>x())})}function Wm(t){const e=[];function n(r,s){if(Dp("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Dp("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Dp("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Dp("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const c=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(c)}else if(r.parentStyleSheet){const c=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(c)}return s}return n(t,e)}function ka(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function VW({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:rt((y,_,E)=>{const[w,A]=E,{id:N,styleId:k}=ka(_,e,n.styleMirror);return(N&&N!==-1||k&&k!==-1)&&t({id:N,styleId:k,adds:[{rule:w,index:A}]}),y.apply(_,E)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:rt((y,_,E)=>{const[w]=E,{id:A,styleId:N}=ka(_,e,n.styleMirror);return(A&&A!==-1||N&&N!==-1)&&t({id:A,styleId:N,removes:[{index:w}]}),y.apply(_,E)})});let c;r.CSSStyleSheet.prototype.replace&&(c=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(c,{apply:rt((y,_,E)=>{const[w]=E,{id:A,styleId:N}=ka(_,e,n.styleMirror);return(A&&A!==-1||N&&N!==-1)&&t({id:A,styleId:N,replace:w}),y.apply(_,E)})}));let d;r.CSSStyleSheet.prototype.replaceSync&&(d=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(d,{apply:rt((y,_,E)=>{const[w]=E,{id:A,styleId:N}=ka(_,e,n.styleMirror);return(A&&A!==-1||N&&N!==-1)&&t({id:A,styleId:N,replaceSync:w}),y.apply(_,E)})}));const f={};Mp("CSSGroupingRule")?f.CSSGroupingRule=r.CSSGroupingRule:(Mp("CSSMediaRule")&&(f.CSSMediaRule=r.CSSMediaRule),Mp("CSSConditionRule")&&(f.CSSConditionRule=r.CSSConditionRule),Mp("CSSSupportsRule")&&(f.CSSSupportsRule=r.CSSSupportsRule));const p={};return Object.entries(f).forEach(([y,_])=>{p[y]={insertRule:_.prototype.insertRule,deleteRule:_.prototype.deleteRule},_.prototype.insertRule=new Proxy(p[y].insertRule,{apply:rt((E,w,A)=>{const[N,k]=A,{id:z,styleId:F}=ka(w.parentStyleSheet,e,n.styleMirror);return(z&&z!==-1||F&&F!==-1)&&t({id:z,styleId:F,adds:[{rule:N,index:[...Wm(w),k||0]}]}),E.apply(w,A)})}),_.prototype.deleteRule=new Proxy(p[y].deleteRule,{apply:rt((E,w,A)=>{const[N]=A,{id:k,styleId:z}=ka(w.parentStyleSheet,e,n.styleMirror);return(k&&k!==-1||z&&z!==-1)&&t({id:k,styleId:z,removes:[{index:[...Wm(w),N]}]}),E.apply(w,A)})})}),rt(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,c&&(r.CSSStyleSheet.prototype.replace=c),d&&(r.CSSStyleSheet.prototype.replaceSync=d),Object.entries(f).forEach(([y,_])=>{_.prototype.insertRule=p[y].insertRule,_.prototype.deleteRule=p[y].deleteRule})})}function PO({mirror:t,stylesheetManager:e},n){let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const s=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,o=s?.prototype?Object.getOwnPropertyDescriptor(s?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(c){const d=o.set?.call(this,c);if(r!==null&&r!==-1)try{e.adoptStyleSheets(c,r)}catch{}return d}}),rt(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function jW({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:rt((d,f,p)=>{const[y,_,E]=p;if(n.has(y))return o.apply(f,[y,_,E]);const{id:w,styleId:A}=ka(f.parentRule?.parentStyleSheet,e,r.styleMirror);return(w&&w!==-1||A&&A!==-1)&&t({id:w,styleId:A,set:{property:y,value:_,priority:E},index:Wm(f.parentRule)}),d.apply(f,p)})});const c=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(c,{apply:rt((d,f,p)=>{const[y]=p;if(n.has(y))return c.apply(f,[y]);const{id:_,styleId:E}=ka(f.parentRule?.parentStyleSheet,e,r.styleMirror);return(_&&_!==-1||E&&E!==-1)&&t({id:_,styleId:E,remove:{property:y},index:Wm(f.parentRule)}),d.apply(f,p)})}),rt(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=c})}function BW({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:c}){const d=rt(p=>sf(rt(y=>{const _=Hf(y);if(!_||vr(_,e,n,r,!0))return;const{currentTime:E,volume:w,muted:A,playbackRate:N}=_;t({type:p,id:s.getId(_),currentTime:E,volume:w,muted:A,playbackRate:N})}),o.media||500)),f=[Yn("play",d(mc.Play),c),Yn("pause",d(mc.Pause),c),Yn("seeked",d(mc.Seeked),c),Yn("volumechange",d(mc.VolumeChange),c),Yn("ratechange",d(mc.RateChange),c)];return rt(()=>{f.forEach(p=>p())})}function zW({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(f,p,y){const _=new o(f,p,y);return s.set(_,{family:f,buffer:typeof p!="string",descriptors:y,fontSource:typeof p=="string"?p:JSON.stringify(Array.from(new Uint8Array(p)))}),_};const c=GS(e.fonts,"add",function(d){return function(f){return Bg(rt(()=>{const p=s.get(f);p&&(t(p),s.delete(f))}),0),d.apply(this,[f])}});return r.push(()=>{n.FontFace=o}),r.push(c),rt(()=>{r.forEach(d=>d())})}function FW(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:c}=t;let d=!0;const f=rt(()=>{const p=e.getSelection();if(!p||d&&p?.isCollapsed)return;d=p.isCollapsed||!1;const y=[],_=p.rangeCount||0;for(let E=0;E<_;E++){const w=p.getRangeAt(E),{startContainer:A,startOffset:N,endContainer:k,endOffset:z}=w;vr(A,r,s,o,!0)||vr(k,r,s,o,!0)||y.push({start:n.getId(A),startOffset:N,end:n.getId(k),endOffset:z})}c({ranges:y})});return f(),Yn("selectionchange",f)}function HW({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:GS(n.customElements,"define",function(s){return function(o,c,d){try{e({define:{name:o}})}catch{}return s.apply(this,[o,c,d])}})}function qW(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};let r;t.recordDOM&&(r=DO(t,t.doc));const s=DW(t),o=MW(t),c=MO(t),d=PW(t,{win:n}),f=UW(t),p=BW(t);let y=()=>{},_=()=>{},E=()=>{},w=()=>{};t.recordDOM&&(y=VW(t,{win:n}),_=PO(t,t.doc),E=jW(t,{win:n}),t.collectFonts&&(w=zW(t)));const A=FW(t),N=HW(t),k=[];for(const z of t.plugins)k.push(z.observer(z.callback,n,z.options));return rt(()=>{Sc.forEach(z=>z.reset()),r?.disconnect(),s(),o(),c(),d(),f(),p(),y(),_(),E(),w(),A(),N(),k.forEach(z=>z())})}function Dp(t){return typeof window[t]<"u"}function Mp(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class z0{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,s){const o=r||this.getIdToRemoteIdMap(e),c=s||this.getRemoteIdToIdMap(e);let d=o.get(n);return d||(d=this.generateIdFn(),o.set(n,d),c.set(d,n)),d}getIds(e,n){const r=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return n.map(o=>this.getId(e,o,r,s))}getRemoteId(e,n,r){const s=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getRemoteId(e,s,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}class $W{constructor(){this.crossOriginIframeMirror=new z0($S),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class GW{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new z0($S),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new z0(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const r=YS(e);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const s=this.crossOriginIframeMap.get(e.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case qe.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:qe.IncrementalSnapshot,data:{source:Pe.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case qe.Meta:case qe.Load:case qe.DomContentLoaded:return!1;case qe.Plugin:return n;case qe.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case qe.IncrementalSnapshot:switch(n.data.source){case Pe.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);const s=this.crossOriginIframeRootIdMap.get(e);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case Pe.Drag:case Pe.TouchMove:case Pe.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case Pe.ViewportResize:return!1;case Pe.MediaInteraction:case Pe.MouseInteraction:case Pe.Scroll:case Pe.CanvasMutation:case Pe.Input:return this.replaceIds(n.data,e,["id"]),n;case Pe.StyleSheetRule:case Pe.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case Pe.Font:return n;case Pe.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),n;case Pe.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,e,["styleId"])}),n}}return!1}replace(e,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=e.getIds(r,n[o]):n[o]=e.getId(r,n[o]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==Xt.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class WW{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class YW{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!Nd(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const r=DO({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(MO({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Bg(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(PO({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const n=YS(e),r=IW(e);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(GS(e.prototype,"attachShadow",function(s){return function(o){const c=s.call(this,o);return this.shadowRoot&&kO(this)&&r.addShadowRoot(this.shadowRoot,n),c}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var zI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pp=0;Pp<zI.length;Pp++)KW[zI.charCodeAt(Pp)]=Pp;class FI{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class QW{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new bW,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of e){let c;this.styleMirror.has(o)?c=this.styleMirror.getId(o):(c=this.styleMirror.add(o),s.push({styleId:c,rules:Array.from(o.rules||CSSRule,(d,f)=>({rule:pO(d),index:f}))})),r.styleIds.push(c)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class XW{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(s=>s!==n)}add(e,n){this.active||(this.active=!0,AW(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}destroy(){}}let Ut,Ym;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=t.contentWindow?.Array.from||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const ei=KG();function Ts(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:c=null,ignoreClass:d="rr-ignore",ignoreSelector:f=null,maskAllText:p=!1,maskTextClass:y="rr-mask",unmaskTextClass:_=null,maskTextSelector:E=null,unmaskTextSelector:w=null,inlineStylesheet:A=!0,maskAllInputs:N,maskInputOptions:k,slimDOMOptions:z,maskAttributeFn:F,maskInputFn:Q,maskTextFn:Z,maxCanvasSize:ue=null,packFn:se,sampling:x={},dataURLOptions:I={},mousemoveWait:O,recordDOM:D=!0,recordCanvas:P=!1,recordCrossOriginIframes:U=!1,recordAfter:M=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:ge=!1,collectFonts:De=!1,inlineImages:Y=!1,plugins:ae,keepIframeSrcFn:te=()=>!1,ignoreCSSAttributes:fe=new Set([]),errorHandler:le,onMutation:L,getCanvasManager:q}=t;kW(le);const re=U?window.parent===window:!0;let me=!1;if(!re)try{window.parent.document&&(me=!1)}catch{me=!0}if(re&&!e)throw new Error("emit function is required");if(!re&&!me)return()=>{};O!==void 0&&x.mousemove===void 0&&(x.mousemove=O),ei.reset();const ve=N===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:k!==void 0?k:{},Oe=z===!0||z==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:z==="all",headMetaDescKeywords:z==="all"}:z||{};SW();let Me,It=0;const gt=ze=>{for(const cn of ae||[])cn.eventProcessor&&(ze=cn.eventProcessor(ze));return se&&!me&&(ze=se(ze)),ze};Ut=(ze,cn)=>{const Fe=ze;if(Fe.timestamp=Gm(),Sc[0]?.isFrozen()&&Fe.type!==qe.FullSnapshot&&!(Fe.type===qe.IncrementalSnapshot&&Fe.data.source===Pe.Mutation)&&Sc.forEach(Nt=>Nt.unfreeze()),re)e?.(gt(Fe),cn);else if(me){const Nt={type:"rrweb",event:gt(Fe),origin:window.location.origin,isCheckout:cn};window.parent.postMessage(Nt,"*")}if(Fe.type===qe.FullSnapshot)Me=Fe,It=0;else if(Fe.type===qe.IncrementalSnapshot){if(Fe.data.source===Pe.Mutation&&Fe.data.isAttachIframe)return;It++;const Nt=r&&It>=r,Re=n&&Me&&Fe.timestamp-Me.timestamp>n;(Nt||Re)&&mi(!0)}};const Cn=ze=>{Ut({type:qe.IncrementalSnapshot,data:{source:Pe.Mutation,...ze}})},Ir=ze=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.Scroll,...ze}}),Fi=ze=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.CanvasMutation,...ze}}),js=ze=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.AdoptedStyleSheet,...ze}}),nn=new QW({mutationCb:Cn,adoptedStyleSheetCb:js}),Un=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new $W:new GW({mirror:ei,mutationCb:Cn,stylesheetManager:nn,recordCrossOriginIframes:U,wrappedEmit:Ut});for(const ze of ae||[])ze.getMirror&&ze.getMirror({nodeMirror:ei,crossOriginIframeMirror:Un.crossOriginIframeMirror,crossOriginIframeStyleMirror:Un.crossOriginIframeStyleMirror});const pi=new XW,_o=ZW(q,{mirror:ei,win:window,mutationCb:ze=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.CanvasMutation,...ze}}),recordCanvas:P,blockClass:s,blockSelector:o,unblockSelector:c,maxCanvasSize:ue,sampling:x.canvas,dataURLOptions:I,errorHandler:le}),Hi=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new WW:new YW({mutationCb:Cn,scrollCb:Ir,bypassOptions:{onMutation:L,blockClass:s,blockSelector:o,unblockSelector:c,maskAllText:p,maskTextClass:y,unmaskTextClass:_,maskTextSelector:E,unmaskTextSelector:w,inlineStylesheet:A,maskInputOptions:ve,dataURLOptions:I,maskAttributeFn:F,maskTextFn:Z,maskInputFn:Q,recordCanvas:P,inlineImages:Y,sampling:x,slimDOMOptions:Oe,iframeManager:Un,stylesheetManager:nn,canvasManager:_o,keepIframeSrcFn:te,processedNodeManager:pi,ignoreCSSAttributes:fe},mirror:ei}),mi=(ze=!1)=>{if(!D)return;Ut({type:qe.Meta,data:{href:window.location.href,width:AO(),height:wO()}},ze),nn.reset(),Hi.init(),Sc.forEach(Fe=>Fe.lock());const cn=vW(document,{mirror:ei,blockClass:s,blockSelector:o,unblockSelector:c,maskAllText:p,maskTextClass:y,unmaskTextClass:_,maskTextSelector:E,unmaskTextSelector:w,inlineStylesheet:A,maskAllInputs:ve,maskAttributeFn:F,maskInputFn:Q,maskTextFn:Z,slimDOM:Oe,dataURLOptions:I,recordCanvas:P,inlineImages:Y,onSerialize:Fe=>{xO(Fe,ei)&&Un.addIframe(Fe),CO(Fe,ei)&&nn.trackLinkElement(Fe),j0(Fe)&&Hi.addShadowRoot(Fe.shadowRoot,document)},onIframeLoad:(Fe,Nt)=>{Un.attachIframe(Fe,Nt),Fe.contentWindow&&_o.addWindow(Fe.contentWindow),Hi.observeAttachShadow(Fe)},onStylesheetLoad:(Fe,Nt)=>{nn.attachLinkElement(Fe,Nt)},onBlockedImageLoad:(Fe,Nt,{width:Re,height:gi})=>{Cn({adds:[],removes:[],texts:[],attributes:[{id:Nt.id,attributes:{style:{width:`${Re}px`,height:`${gi}px`}}}]})},keepIframeSrcFn:te,ignoreCSSAttributes:fe});if(!cn)return console.warn("Failed to snapshot the document");Ut({type:qe.FullSnapshot,data:{node:cn,initialOffset:TO(window)}}),Sc.forEach(Fe=>Fe.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&nn.adoptStyleSheets(document.adoptedStyleSheets,ei.getId(document))};Ym=mi;try{const ze=[],cn=Nt=>rt(qW)({onMutation:L,mutationCb:Cn,mousemoveCb:(Re,gi)=>Ut({type:qe.IncrementalSnapshot,data:{source:gi,positions:Re}}),mouseInteractionCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.MouseInteraction,...Re}}),scrollCb:Ir,viewportResizeCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.ViewportResize,...Re}}),inputCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.Input,...Re}}),mediaInteractionCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.MediaInteraction,...Re}}),styleSheetRuleCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.StyleSheetRule,...Re}}),styleDeclarationCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.StyleDeclaration,...Re}}),canvasMutationCb:Fi,fontCb:Re=>Ut({type:qe.IncrementalSnapshot,data:{source:Pe.Font,...Re}}),selectionCb:Re=>{Ut({type:qe.IncrementalSnapshot,data:{source:Pe.Selection,...Re}})},customElementCb:Re=>{Ut({type:qe.IncrementalSnapshot,data:{source:Pe.CustomElement,...Re}})},blockClass:s,ignoreClass:d,ignoreSelector:f,maskAllText:p,maskTextClass:y,unmaskTextClass:_,maskTextSelector:E,unmaskTextSelector:w,maskInputOptions:ve,inlineStylesheet:A,sampling:x,recordDOM:D,recordCanvas:P,inlineImages:Y,userTriggeredOnInput:ge,collectFonts:De,doc:Nt,maskAttributeFn:F,maskInputFn:Q,maskTextFn:Z,keepIframeSrcFn:te,blockSelector:o,unblockSelector:c,slimDOMOptions:Oe,dataURLOptions:I,mirror:ei,iframeManager:Un,stylesheetManager:nn,shadowDomManager:Hi,processedNodeManager:pi,canvasManager:_o,ignoreCSSAttributes:fe,plugins:ae?.filter(Re=>Re.observer)?.map(Re=>({observer:Re.observer,options:Re.options,callback:gi=>Ut({type:qe.Plugin,data:{plugin:Re.name,payload:gi}})}))||[]},{});Un.addLoadListener(Nt=>{try{ze.push(cn(Nt.contentDocument))}catch(Re){console.warn(Re)}});const Fe=()=>{mi(),ze.push(cn(document))};return document.readyState==="interactive"||document.readyState==="complete"?Fe():(ze.push(Yn("DOMContentLoaded",()=>{Ut({type:qe.DomContentLoaded,data:{}}),M==="DOMContentLoaded"&&Fe()})),ze.push(Yn("load",()=>{Ut({type:qe.Load,data:{}}),M==="load"&&Fe()},window))),()=>{ze.forEach(Nt=>Nt()),pi.destroy(),Ym=void 0,OW()}}catch(ze){console.warn(ze)}}function JW(t){if(!Ym)throw new Error("please take full snapshot after start recording");Ym(t)}Ts.mirror=ei;Ts.takeFullSnapshot=JW;function ZW(t,e){try{return t?t(e):new FI}catch{return console.warn("Unable to initialize CanvasManager"),new FI}}var HI;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(HI||(HI={}));const eY=3,tY=5;function KS(t){return t>9999999999?t:t*1e3}function xv(t){return t>9999999999?t/1e3:t}function qf(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:qe.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ti(e,10,1e3)}}),e.category==="console")))}const nY="button,a";function LO(t){return t.closest(nY)||t}function UO(t){const e=VO(t);return!e||!(e instanceof Element)?e:LO(e)}function VO(t){return rY(t)?t.target:t}function rY(t){return typeof t=="object"&&!!t&&"target"in t}let Oa;function iY(t){return Oa||(Oa=[],sY()),Oa.push(t),()=>{const e=Oa?Oa.indexOf(t):-1;e>-1&&Oa.splice(e,1)}}function sY(){ar(bt,"open",function(t){return function(...e){if(Oa)try{Oa.forEach(n=>n())}catch{}return t.apply(bt,e)}})}const aY=new Set([Pe.Mutation,Pe.StyleSheetRule,Pe.StyleDeclaration,Pe.AdoptedStyleSheet,Pe.CanvasMutation,Pe.Selection,Pe.MediaInteraction]);function oY(t,e,n){t.handleClick(e,n)}class lY{constructor(e,n,r=qf){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=iY(()=>{this._lastMutation=qI()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(uY(n,this._ignoreSelector)||!dY(e))return;const r={timestamp:xv(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=xv(e)}registerScroll(e=Date.now()){this._lastScroll=xv(e)}registerClick(e){const n=LO(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=qI();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,s=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:c,clickBreadcrumb:d}=e;if(o){const f=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,p=f<this._timeout*1e3?"mutation":"timeout",y={type:"default",message:d.message,timestamp:d.timestamp,category:"ui.slowClickDetected",data:{...d.data,url:bt.location.href,route:n.getCurrentRoute(),timeAfterClickMs:f,endReason:p,clickCount:c||1}};this._addBreadcrumbEvent(n,y);return}if(c>1){const f={type:"default",message:d.message,timestamp:d.timestamp,category:"ui.multiClick",data:{...d.data,url:bt.location.href,route:n.getCurrentRoute(),clickCount:c,metric:!0}};this._addBreadcrumbEvent(n,f)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Ff(()=>this._checkClicks(),1e3)}}const cY=["A","BUTTON","INPUT"];function uY(t,e){return!!(!cY.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function dY(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function qI(){return Date.now()/1e3}function fY(t,e){try{if(!hY(e))return;const{source:n}=e.data;if(aY.has(n)&&t.registerMutation(e.timestamp),n===Pe.Scroll&&t.registerScroll(e.timestamp),pY(e)){const{type:r,id:s}=e.data,o=Ts.mirror.getNode(s);o instanceof HTMLElement&&r===Gn.Click&&t.registerClick(o)}}catch{}}function hY(t){return t.type===eY}function pY(t){return t.data.source===Pe.MouseInteraction}function Ni(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var QS=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(QS||{});const mY=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function gY(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(mY.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const yY=t=>e=>{if(!t.isEnabled())return;const n=_Y(e);if(!n)return;const r=e.name==="click",s=r?e.event:void 0;r&&t.clickDetector&&s?.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&oY(t.clickDetector,n,UO(e.event)),qf(t,n)};function jO(t,e){const n=Ts.mirror.getId(t),r=n&&Ts.mirror.getNode(n),s=r&&Ts.mirror.getMeta(r),o=s&&EY(s)?s:null;return{message:e,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(c=>c.type===QS.Text&&c.textContent).filter(Boolean).map(c=>c.trim()).join(""),attributes:gY(o.attributes)}}:{}}}function _Y(t){const{target:e,message:n}=vY(t);return Ni({category:`ui.${t.name}`,...jO(e,n)})}function vY(t){const e=t.name==="click";let n,r=null;try{r=e?UO(t.event):VO(t.event),n=or(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function EY(t){return t.type===QS.Element}function SY(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=bY(e);n&&qf(t,n)}function bY(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:c}=t;if(!c||TY(c)||!o)return null;const d=e||r||s,f=o.length===1;if(!d&&f)return null;const p=or(c,{maxStringLength:200})||"<unknown>",y=jO(c,p);return Ni({category:"ui.keyDown",message:p,data:{...y.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function TY(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const wY={resource:CY,paint:IY,navigation:xY};function Cv(t,e){return({metric:n})=>{e.replayPerformanceEntries.push(t(n))}}function AY(t){return t.map(RY).filter(Boolean)}function RY(t){const e=wY[t.entryType];return e?e(t):null}function qc(t){return((cr()||bt.performance.timeOrigin)+t)/1e3}function IY(t){const{duration:e,entryType:n,name:r,startTime:s}=t,o=qc(s);return{type:n,name:r,start:o,end:o+e,data:void 0}}function xY(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:c,domContentLoadedEventStart:d,domContentLoadedEventEnd:f,domInteractive:p,loadEventStart:y,loadEventEnd:_,redirectCount:E,startTime:w,transferSize:A,type:N}=t;return s===0?null:{type:`${e}.${N}`,start:qc(w),end:qc(o),name:n,data:{size:A,decodedBodySize:r,encodedBodySize:c,duration:s,domInteractive:p,domContentLoadedEventStart:d,domContentLoadedEventEnd:f,loadEventStart:y,loadEventEnd:_,domComplete:o,redirectCount:E}}}function CY(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:c,encodedBodySize:d,responseStatus:f,transferSize:p}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:qc(o),end:qc(s),name:r,data:{size:p,statusCode:f,decodedBodySize:c,encodedBodySize:d}}}function NY(t){const e=t.entries[t.entries.length-1],n=e?.element?[e.element]:void 0;return XS(t,"largest-contentful-paint",n)}function kY(t){return t.sources!==void 0}function OY(t){const e=[],n=[];for(const r of t.entries)if(kY(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const c=Ts.mirror.getId(o.node);c&&s.push(c)}e.push({value:r.value,nodeIds:s.length?s:void 0})}return XS(t,"cumulative-layout-shift",n,e)}function DY(t){const e=t.entries[t.entries.length-1],n=e?.target?[e.target]:void 0;return XS(t,"interaction-to-next-paint",n)}function XS(t,e,n,r){const s=t.value,o=t.rating,c=qc(s);return{type:"web-vital",name:e,start:c,end:c,data:{value:s,size:s,rating:o,nodeIds:n?n.map(d=>Ts.mirror.getId(d)):void 0,attributions:r}}}function MY(t){function e(s){t.performanceEntries.includes(s)||t.performanceEntries.push(s)}function n({entries:s}){s.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(fl(s,n))}),r.push(jS(Cv(NY,t)),VS(Cv(OY,t)),Z2(Cv(DY,t))),()=>{r.forEach(s=>s())}}const Ne=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,PY='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function LY(){const t=new Blob([PY]);return URL.createObjectURL(t)}const $I=["log","warn","error"],om="[Replay] ";function Nv(t,e="info"){Ls({category:"console",data:{logger:"replay"},level:e,message:`${om}${t}`},{level:e})}function UY(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{t=!!r.captureExceptions,e=!!r.traceInternals}};return Ne?($I.forEach(r=>{n[r]=(...s)=>{pe[r](om,...s),e&&Nv(s.join(""),L2(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),pe.error(om,r),t?Mg(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):e&&Nv(r,"error")},n.infoTick=(...r)=>{pe.log(om,...r),e&&setTimeout(()=>Nv(r[0]),0)}):$I.forEach(r=>{n[r]=()=>{}}),n}const ke=UY();class JS extends Error{constructor(){super(`Event buffer exceeded maximum size of ${HS}.`)}}class BO{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>HS)throw new JS;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?KS(e):null}}class VY{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ne&&ke.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const c=({data:d})=>{const f=d;if(f.method===e&&f.id===r){if(this._worker.removeEventListener("message",c),!f.success){Ne&&ke.error("Error in compression worker: ",f.response),o(new Error("Error in compression worker"));return}s(f.response)}};this._worker.addEventListener("message",c),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class jY{constructor(e){this._worker=new VY(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=KS(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>HS?Promise.reject(new JS):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Ne&&ke.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class BY{constructor(e){this._fallback=new BO,this._compression=new jY(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){Ne&&ke.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of e)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){Ne&&ke.exception(o,"Failed to add events when switching buffers.")}}}function zY({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=FY(e);if(n)return n}return Ne&&ke.log("Using simple buffer"),new BO}function FY(t){try{const e=t||HY();if(!e)return;Ne&&ke.log(`Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new BY(n)}catch(e){Ne&&ke.exception(e,"Failed to create compression worker")}}function HY(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?LY():""}function ZS(){try{return"sessionStorage"in bt&&!!bt.sessionStorage}catch{return!1}}function qY(t){$Y(),t.session=void 0}function $Y(){if(ZS())try{bt.sessionStorage.removeItem(zS)}catch{}}function zO(t){return t===void 0?!1:Math.random()<t}function zg(t){if(ZS())try{bt.sessionStorage.setItem(zS,JSON.stringify(t))}catch{}}function FO(t){const e=Date.now(),n=t.id||Ar(),r=t.started||e,s=t.lastActivity||e,o=t.segmentId||0,c=t.sampled,d=t.previousSessionId,f=t.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:c,previousSessionId:d,dirty:f}}function GY(t,e){return zO(t)?"session":e?"buffer":!1}function GI({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=GY(t,e),o=FO({sampled:s,previousSessionId:r});return n&&zg(o),o}function WY(){if(!ZS())return null;try{const t=bt.sessionStorage.getItem(zS);if(!t)return null;const e=JSON.parse(t);return Ne&&ke.infoTick("Loading existing session"),FO(e)}catch{return null}}function F0(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function HO(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return F0(t.started,e,r)||F0(t.lastActivity,n,r)}function qO(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!HO(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function kv({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:n},r){const s=r.stickySession&&WY();return s?qO(s,{sessionIdleExpire:t,maxReplayDuration:e})?(Ne&&ke.infoTick("Session in sessionStorage is expired, creating new one..."),GI(r,{previousSessionId:s.id})):s:(Ne&&ke.infoTick("Creating new session"),GI(r,{previousSessionId:n}))}function YY(t){return t.type===qe.Custom}function eb(t,e,n){return GO(t,e)?($O(t,e,n),!0):!1}function KY(t,e,n){return GO(t,e)?$O(t,e,n):Promise.resolve(null)}async function $O(t,e,n){const{eventBuffer:r}=t;if(!r||r.waitForCheckout&&!n)return null;const s=t.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=t.getOptions(),c=QY(e,o.beforeAddRecordingEvent);return c?await r.addEvent(c):void 0}catch(o){const c=o&&o instanceof JS,d=c?"addEventSizeExceeded":"addEvent",f=Ze();if(f){const p=c?"buffer_overflow":"internal_sdk_error";f.recordDroppedEvent(p,"replay")}if(c&&s)return r.clear(),r.waitForCheckout=!0,null;t.handleException(o),await t.stop({reason:d})}}function GO(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=KS(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(Ne&&ke.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function QY(t,e){try{if(typeof e=="function"&&YY(t))return e(t)}catch(n){return Ne&&ke.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function tb(t){return!t.type}function H0(t){return t.type==="transaction"}function XY(t){return t.type==="replay_event"}function WI(t){return t.type==="feedback"}function JY(t){return(e,n)=>{if(!t.isEnabled()||!tb(e)&&!H0(e))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(H0(e)){ZY(t,e);return}eK(t,e)}}}function ZY(t,e){const n=t.getContext();e.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function eK(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||Ff(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(s){t.handleException(s)}})}function tK(t){return e=>{!t.isEnabled()||!tb(e)||nK(t,e)}}function nK(t,e){const n=e.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ni({category:"replay.hydrate-error",data:{url:ru()}});qf(t,r)}}function rK(t){const e=Ze();e&&e.on("beforeAddBreadcrumb",n=>iK(t,n))}function iK(t,e){if(!t.isEnabled()||!WO(e))return;const n=sK(e);n&&qf(t,n)}function sK(t){return!WO(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?aK(t):Ni(t)}function aK(t){const e=t.data?.arguments;if(!Array.isArray(e)||e.length===0)return Ni(t);let n=!1;const r=e.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Op?(n=!0,`${s.slice(0,Op)}`):s;if(typeof s=="object")try{const o=ti(s,7);return JSON.stringify(o).length>Op?(n=!0,`${JSON.stringify(o,null,2).slice(0,Op)}`):o}catch{}return s});return Ni({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function WO(t){return!!t.category}function oK(t,e){return t.type||!t.exception?.values?.length?!1:!!e.originalException?.__rrweb__}function YO(){const t=dt().getPropagationContext().dsc;t&&delete t.replay_id;const e=Kn();if(e){const n=Ps(e);delete n.replay_id}}function lK(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:qe.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function cK(t,e){return t.recordingMode!=="buffer"||e.message===FS||!e.exception||e.type?!1:zO(t.getOptions().errorSampleRate)}function uK(t){return Object.assign((e,n)=>{if(!t.isEnabled()||t.isPaused())return e;if(XY(e))return delete e.breadcrumbs,e;if(!tb(e)&&!H0(e)&&!WI(e))return e;if(!t.checkAndHandleExpiredSession())return YO(),e;if(WI(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),lK(t,e),e;if(oK(e,n)&&!t.getOptions()._experiments.captureExceptions)return Ne&&ke.log("Ignoring error from rrweb internals",e),null;const s=cK(t,e);if((s||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),s&&t.recordingMode==="buffer"&&t.session?.sampled==="buffer"){const c=t.session;c.dirty=!0,t.getOptions().stickySession&&zg(c)}return e},{id:"Replay"})}function Fg(t,e){return e.map(({type:n,start:r,end:s,name:o,data:c})=>{const d=t.throttledAddEvent({type:qe.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:c}}});return typeof d=="string"?Promise.resolve(null):d})}function dK(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function fK(t){return e=>{if(!t.isEnabled())return;const n=dK(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(Fg(t,[n]),!1)))}}function hK(t,e){return Ne&&t.getOptions()._experiments.traceInternals?!1:J7(e,Ze())}function KO(t,e){t.isEnabled()&&e!==null&&(hK(t,e.name)||t.addUpdate(()=>(Fg(t,[e]),!0)))}function Hg(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=lO(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function QO(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Km(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function XO(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:c,request:d,response:f}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:c,request:d,response:f}}}function af(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Xa(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:o}=pK(n);return r.body=s,o?.length&&(r._meta={warnings:o}),r}function q0(t,e){return Object.entries(t).reduce((n,[r,s])=>{const o=r.toLowerCase();return e.includes(o)&&t[r]&&(n[o]=s),n},{})}function pK(t){if(!t||typeof t!="string")return{body:t};const e=t.length>II,n=mK(t);if(e){const r=t.slice(0,II);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function mK(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function Qm(t,e){const n=gK(t);return Ss(n,e)}function gK(t,e=bt.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(bt.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function yK(t,e,n){try{const r=await vK(t,e,n),s=XO("resource.fetch",r);KO(n.replay,s)}catch(r){Ne&&ke.exception(r,"Failed to capture fetch breadcrumb")}}function _K(t,e){const{input:n,response:r}=e,s=n?uO(n):void 0,o=Hg(s),c=r?QO(r.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),c!==void 0&&(t.data.response_body_size=c)}async function vK(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=e,{url:c,method:d,status_code:f=0,request_body_size:p,response_body_size:y}=t.data,_=Qm(c,n.networkDetailAllowUrls)&&!Qm(c,n.networkDetailDenyUrls),E=_?EK(n,e.input,p):af(p),w=await SK(_,n,e.response,y);return{startTimestamp:s,endTimestamp:o,url:c,method:d,statusCode:f,request:E,response:w}}function EK({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?wK(n,e):{};if(!t)return Xa(s,r,void 0);const o=uO(n),[c,d]=cO(o,ke),f=Xa(s,r,c);return d?Km(f,d):f}async function SK(t,{networkCaptureBodies:e,networkResponseHeaders:n},r,s){if(!t&&s!==void 0)return af(s);const o=r?JO(r.headers,n):{};if(!r||!e&&s!==void 0)return Xa(o,s,void 0);const[c,d]=await TK(r),f=bK(c,{networkCaptureBodies:e,responseBodySize:s,captureDetails:t,headers:o});return d?Km(f,d):f}function bK(t,{networkCaptureBodies:e,responseBodySize:n,captureDetails:r,headers:s}){try{const o=t?.length&&n===void 0?Hg(t):n;return r?e?Xa(s,o,t):Xa(s,o,void 0):af(o)}catch(o){return Ne&&ke.exception(o,"Failed to serialize response body"),Xa(s,n,void 0)}}async function TK(t){const e=AK(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await RK(e)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(Ne&&ke.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Ne&&ke.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function JO(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function wK(t,e){return t.length===1&&typeof t[0]!="string"?YI(t[0],e):t.length===2?YI(t[1],e):{}}function YI(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?JO(n,e):Array.isArray(n)?{}:q0(n,e):{}}function AK(t){try{return t.clone()}catch(e){Ne&&ke.exception(e,"Failed to clone response body")}}function RK(t){return new Promise((e,n)=>{const r=Ff(()=>n(new Error("Timeout while trying to read response body")),500);IK(t).then(s=>e(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function IK(t){return await t.text()}async function xK(t,e,n){try{const r=NK(t,e,n),s=XO("resource.xhr",r);KO(n.replay,s)}catch(r){Ne&&ke.exception(r,"Failed to capture xhr breadcrumb")}}function CK(t,e){const{xhr:n,input:r}=e;if(!n)return;const s=Hg(r),o=n.getResponseHeader("content-length")?QO(n.getResponseHeader("content-length")):DK(n.response,n.responseType);s!==void 0&&(t.data.request_body_size=s),o!==void 0&&(t.data.response_body_size=o)}function NK(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:c,xhr:d}=e,{url:f,method:p,status_code:y=0,request_body_size:_,response_body_size:E}=t.data;if(!f)return null;if(!d||!Qm(f,n.networkDetailAllowUrls)||Qm(f,n.networkDetailDenyUrls)){const se=af(_),x=af(E);return{startTimestamp:s,endTimestamp:o,url:f,method:p,statusCode:y,request:se,response:x}}const w=d[Xo],A=w?q0(w.request_headers,n.networkRequestHeaders):{},N=q0(dO(d),n.networkResponseHeaders),[k,z]=n.networkCaptureBodies?cO(c,ke):[void 0],[F,Q]=n.networkCaptureBodies?kK(d):[void 0],Z=Xa(A,_,k),ue=Xa(N,E,F);return{startTimestamp:s,endTimestamp:o,url:f,method:p,statusCode:y,request:z?Km(Z,z):Z,response:Q?Km(ue,Q):ue}}function kK(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return OK(t.response,t.responseType)}catch(n){e.push(n)}return Ne&&ke.warn("Failed to get xhr response body",...e),[void 0]}function OK(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return Ne&&ke.exception(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Ne&&ke.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function DK(t,e){try{const n=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return Hg(n)}catch{return}}function MK(t){const e=Ze();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:c}=t.getOptions(),d={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:c};e&&e.on("beforeAddBreadcrumb",(f,p)=>PK(d,f,p))}catch{}}function PK(t,e,n){if(e.data)try{LK(e)&&VK(n)&&(CK(e,n),xK(e,n,t)),UK(e)&&jK(n)&&(_K(e,n),yK(e,n,t))}catch(r){Ne&&ke.exception(r,"Error when enriching network breadcrumb")}}function LK(t){return t.category==="xhr"}function UK(t){return t.category==="fetch"}function VK(t){return t?.xhr}function jK(t){return t?.response}function BK(t){const e=Ze();sO(yY(t)),Ug(fK(t)),rK(t),MK(t);const n=uK(t);_7(n),e&&(e.on("beforeSendEvent",tK(t)),e.on("afterSendEvent",JY(t)),e.on("createDsc",r=>{const s=t.getSessionId();s&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(r.replay_id=s)}),e.on("spanStart",r=>{t.lastActiveSpan=r}),e.on("spanEnd",r=>{t.lastActiveSpan=r}),e.on("beforeSendFeedback",async(r,s)=>{const o=t.getSessionId();s?.includeReplay&&t.isEnabled()&&o&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function zK(t){try{return Promise.all(Fg(t,[FK(bt.performance.memory)]))}catch{return[]}}function FK(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function HK(t,e,n){return iH(t,e,{...n,setTimeoutImpl:Ff})}const Lp=Je.navigator;function qK(){return/iPhone|iPad|iPod/i.test(Lp?.userAgent??"")||/Macintosh/i.test(Lp?.userAgent??"")&&Lp?.maxTouchPoints&&Lp?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function $K(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){Ne&&ke.warn("Received replay event after session expired.");return}const s=r||!e;e=!0,t.clickDetector&&fY(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&s&&t.setInitialState(),!eb(t,n,s))return!0;if(!s)return!1;const o=t.session;if(WK(t,s),t.recordingMode==="buffer"&&o&&t.eventBuffer&&!o.dirty){const c=t.eventBuffer.getEarliestTimestamp();c&&(Ne&&ke.log(`Updating session start time to earliest event in buffer to ${new Date(c)}`),o.started=c,t.getOptions().stickySession&&zg(o))}return o?.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function GK(t){const e=t.getOptions();return{type:qe.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function WK(t,e){!e||!t.session||t.session.segmentId!==0||eb(t,GK(t),!1)}function YK(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function KK(t,e,n,r){return yo(c2(t,wS(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function QK({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+t.length),n.set(o),n.set(t,o.length)}return n}async function XK({client:t,scope:e,replayId:n,event:r}){const s=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,o={event_id:n,integrations:s};t.emit("preprocessEvent",r,o);const c=await m2(t.getOptions(),r,o,e,t,hi());if(!c)return null;t.emit("postprocessEvent",c,o),c.platform=c.platform||"javascript";const d=t.getSdkMetadata(),{name:f,version:p,settings:y}=d?.sdk||{};return c.sdk={...c.sdk,name:f||"sentry.javascript.unknown",version:p||"0.0.0",settings:y},c}async function JK({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:o}){const c=QK({recordingData:t,headers:{segment_id:n}}),{urls:d,errorIds:f,traceIds:p,initialTimestamp:y}=r,_=Ze(),E=dt(),w=_?.getTransport(),A=_?.getDsn();if(!_||!w||!A||!o.sampled)return Promise.resolve({});const N={type:xG,replay_start_timestamp:y/1e3,timestamp:s/1e3,error_ids:f,trace_ids:p,urls:d,replay_id:e,segment_id:n,replay_type:o.sampled},k=await XK({scope:E,client:_,replayId:e,event:N});if(!k)return _.recordDroppedEvent("event_processor","replay"),Ne&&ke.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete k.sdkProcessingMetadata;const z=KK(k,c,A,_.getOptions().tunnel);let F;try{F=await w.send(z)}catch(Z){const ue=new Error(FS);try{ue.cause=Z}catch{}throw ue}const Q=R2({},F);if(A2(Q,"replay"))throw new nb(Q);if(typeof F.statusCode=="number"&&(F.statusCode<200||F.statusCode>=300))throw new ZO(F.statusCode);return F}class ZO extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class nb extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}class KI extends Error{constructor(){super("Session is too long, not sending replay")}}async function eD(t,e={count:0,interval:MG}){const{recordingData:n,onError:r}=t;if(n.length)try{return await JK(t),!0}catch(s){if(s instanceof ZO||s instanceof nb)throw s;if(y2("Replays",{_retryCount:e.count}),r&&r(s),e.count>=PG){const o=new Error(`${FS} - max retries exceeded`);try{o.cause=s}catch{}throw o}return e.interval*=++e.count,new Promise((o,c)=>{Ff(async()=>{try{await eD(t,e),o(!0)}catch(d){c(d)}},e.interval)})}}const tD="__THROTTLED",ZK="__SKIPPED";function eQ(t,e,n){const r=new Map,s=d=>{const f=d-n;r.forEach((p,y)=>{y<f&&r.delete(y)})},o=()=>[...r.values()].reduce((d,f)=>d+f,0);let c=!1;return(...d)=>{const f=Math.floor(Date.now()/1e3);if(s(f),o()>=e){const y=c;return c=!0,y?ZK:tD}c=!1;const p=r.get(f)||0;return r.set(f,p+1),t(...d)}}class tQ{constructor({options:e,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:CG,sessionIdleExpire:NG},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=HK(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=eQ((c,d)=>KY(this,c,d),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(LG,r),timeout:r,scrollTimeout:UG,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new lY(this,o)),Ne){const c=e._experiments;ke.setConfig({captureExceptions:!!c.captureExceptions,traceInternals:!!c.traceInternals})}this._handleVisibilityChange=()=>{bt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const c=Ni({category:"ui.blur"});this._doChangeToBackgroundTasks(c)},this._handleWindowFocus=()=>{const c=Ni({category:"ui.focus"});this._doChangeToForegroundTasks(c)},this._handleKeyboardEvent=c=>{SY(this,c)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){Ne&&ke.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(e),!this.session){Ne&&ke.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ne&&ke.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Ne&&ke.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Ne&&ke.log("Buffering is in progress, call `flush()` to save the replay");return}Ne&&ke.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=kv({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){Ne&&ke.log("Buffering is in progress, call `flush()` to save the replay");return}Ne&&ke.infoTick("Starting replay in buffer mode");const e=kv({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Ts({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:DG}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:$K(this),...qK(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Ne&&ke.log(`Stopping Replay${n?` triggered by ${n}`:""}`),YO(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,qY(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ne&&ke.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ne&&ke.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Ne&&ke.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){if(!(e&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&F0(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${bt.location.pathname}${bt.location.hash}${bt.location.search}`,n=`${bt.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===tD){const s=Ni({category:"replay.throttled"});this.addUpdate(()=>!eb(this,{type:tY,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastActiveSpan||Kn(),n=e&&Pn(e),s=(n&&it(n).data||{})[si];if(!(!n||!s||!["route","custom"].includes(s)))return it(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=zY({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=kv({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return qO(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{bt.document.addEventListener("visibilitychange",this._handleVisibilityChange),bt.addEventListener("blur",this._handleWindowBlur),bt.addEventListener("focus",this._handleWindowFocus),bt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(BK(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=MY(this)}_removeListeners(){try{bt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),bt.removeEventListener("blur",this._handleWindowBlur),bt.removeEventListener("focus",this._handleWindowFocus),bt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||HO(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ne&&ke.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:qe.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=AY(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;e=e.filter(r=>r.start>=n)}return Promise.all(Fg(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||this._requiresManualStart||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){Ne&&ke.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await zK(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new KI;const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await eD({replayId:e,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:c=>this.handleException(c)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=Ze();if(r){let s;n instanceof nb?s="ratelimit_backoff":n instanceof KI?s="invalid":s="send_error",r.recordDroppedEvent(s,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){Ne&&ke.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,c=s>this._options.maxReplayDuration+5e3;if(o||c){Ne&&ke.log(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const d=this.eventBuffer;d&&this.session.segmentId===0&&!d.hasCheckout&&Ne&&ke.log("Flushing initial segment without checkout.");const f=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(p){this.handleException(p)}finally{this._flushLock=void 0,f&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&zg(this.session)}_onMutationHandler(e){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&e.some(d=>{const f=YK(d.target),p=n.join(",");return f?.matches(p)}))return!1;const r=e.length,s=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,c=s&&r>s;if(r>o||c){const d=Ni({category:"replay.mutations",data:{count:r,limit:c}});this._createCustomBreadcrumb(d)}return c?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function md(t,e){return[...t,...e].join(",")}function nQ({mask:t,unmask:e,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],c=md(t,[".sentry-mask","[data-sentry-mask]"]),d=md(e,[]);return{maskTextSelector:c,unmaskTextSelector:d,blockSelector:md(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:md(r,[]),ignoreSelector:md(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function rQ({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?o:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const QI='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',iQ=["content-length","content-type","accept"],sQ=Symbol.for("sentry__originalRequestBody");let XI=!1,JI=!1;function aQ(){if(typeof Request>"u"||JI)return;const t=Request;try{const e=function(n,r){const s=new t(n,r);return r?.body!=null&&(s[sQ]=r.body),s};e.prototype=t.prototype,Je.Request=e,JI=!0}catch{}}const oQ=(t=>new lQ(t));class lQ{constructor({flushMinDelay:e=kG,flushMaxDelay:n=OG,minReplayDuration:r=VG,maxReplayDuration:s=xI,stickySession:o=!0,useCompression:c=!0,workerUrl:d,_experiments:f={},maskAllText:p=!0,maskAllInputs:y=!0,blockAllMedia:_=!0,mutationBreadcrumbLimit:E=750,mutationLimit:w=1e4,slowClickTimeout:A=7e3,slowClickIgnoreSelectors:N=[],networkDetailAllowUrls:k=[],networkDetailDenyUrls:z=[],networkCaptureBodies:F=!0,networkRequestHeaders:Q=[],networkResponseHeaders:Z=[],mask:ue=[],maskAttributes:se=["title","placeholder","aria-label"],unmask:x=[],block:I=[],unblock:O=[],ignore:D=[],maskFn:P,beforeAddRecordingEvent:U,beforeErrorSampling:M,onError:ge,attachRawBodyFromRequest:De=!1}={}){this.name="Replay";const Y=nQ({mask:ue,unmask:x,block:I,unblock:O,ignore:D});if(this._recordingOptions={maskAllInputs:y,maskAllText:p,maskInputOptions:{password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(ae,te,fe)=>rQ({maskAttributes:se,maskAllText:p,privacyOptions:Y,key:ae,value:te,el:fe}),...Y,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ae=>{try{ae.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!f.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,jG),maxReplayDuration:Math.min(s,xI),stickySession:o,useCompression:c,workerUrl:d,blockAllMedia:_,maskAllInputs:y,maskAllText:p,mutationBreadcrumbLimit:E,mutationLimit:w,slowClickTimeout:A,slowClickIgnoreSelectors:N,networkDetailAllowUrls:k,networkDetailDenyUrls:z,networkCaptureBodies:F,networkRequestHeaders:ZI(Q),networkResponseHeaders:ZI(Z),beforeAddRecordingEvent:U,beforeErrorSampling:M,onError:ge,attachRawBodyFromRequest:De,_experiments:f},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${QI}`:QI,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&I0())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return XI}set _isInitialized(e){XI=e}afterAllSetup(e){!I0()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&aQ(),this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){if(this._replay?.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const n=cQ(this._initialOptions,e);this._replay=new tQ({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const n=e.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function cQ(t,e){const n=e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...t},s=ul(n.replaysSessionSampleRate),o=ul(n.replaysOnErrorSampleRate);return s==null&&o==null&&Sl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function ZI(t){return[...iQ,...t.map(e=>e.toLowerCase())]}function uQ(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function nD(t){try{return new URL(t,st.location.origin).href}catch{return}}function dQ(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function rD(t){try{return new Headers(t)}catch{return}}const ex=new WeakMap,Ov=new Map,iD={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function fQ(t,e){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:c,tracePropagationTargets:d,onRequestSpanStart:f,onRequestSpanEnd:p}={...iD,...e},y=typeof o=="function"?o:A=>!0,_=A=>hQ(A,d),E={},w=t.getOptions().propagateTraceparent;n&&(t.addEventProcessor(A=>(A.type==="transaction"&&A.spans&&A.spans.forEach(N=>{if(N.op==="http.client"){const k=Ov.get(N.span_id);k&&(N.timestamp=k/1e3,Ov.delete(N.span_id))}}),A)),s&&zH(A=>{if(A.response){const N=ex.get(A.response);N&&A.endTimestamp&&Ov.set(N,A.endTimestamp)}}),B2(A=>{const N=OH(A,y,_,E,{propagateTraceparent:w,onRequestSpanEnd:p});if(A.response&&A.fetchData.__span&&ex.set(A.response,A.fetchData.__span),N){const k=nD(A.fetchData.url),z=k?il(k).host:void 0;N.setAttributes({"http.url":k?Ka(k):void 0,"server.address":z}),c&&tx(N),f?.(N,{headers:A.headers})}})),r&&oO(A=>{const N=pQ(A,y,_,E,w,p);N&&(c&&tx(N),f?.(N,{headers:rD(A.xhr.__sentry_xhr_v3__?.request_headers)}))})}function tx(t){const{url:e}=it(t).data;if(!e||typeof e!="string")return;const n=fl("resource",({entries:r})=>{r.forEach(s=>{dQ(s)&&s.name.endsWith(e)&&(t.setAttributes(iO(s)),setTimeout(n))})})}function hQ(t,e){const n=ru();if(n){let r,s;try{r=new URL(t,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return e?Ss(r.toString(),e)||o&&Ss(r.pathname,e):o}else{const r=!!t.match(/^\/(?!\/)/);return e?Ss(t,e):r}}function pQ(t,e,n,r,s,o){const c=t.xhr,d=c?.[Xo];if(!c||c.__sentry_own_request__||!d)return;const{url:f,method:p}=d,y=oi()&&e(f);if(t.endTimestamp&&y){const z=c.__sentry_xhr_span_id__;if(!z)return;const F=r[z];F&&d.status_code!==void 0&&(Wk(F,d.status_code),F.end(),o?.(F,{headers:rD(dO(c)),error:t.error}),delete r[z]);return}const _=nD(f),E=il(_||f),w=Ka(X7(f)),A=!!Kn(),N=y&&A?ou({name:`${p} ${w}`,attributes:{url:Ka(f),type:"xhr","http.method":p,"http.url":_?Ka(_):void 0,"server.address":E?.host,[ln]:"auto.http.browser",[Ms]:"http.client",...E?.search&&{"http.query":E?.search},...E?.hash&&{"http.fragment":E?.hash}}}):new oo;c.__sentry_xhr_span_id__=N.spanContext().spanId,r[c.__sentry_xhr_span_id__]=N,n(f)&&mQ(c,oi()&&A?N:void 0,s);const k=Ze();return k&&k.emit("beforeOutgoingRequestSpan",N,t),N}function mQ(t,e,n){const{"sentry-trace":r,baggage:s,traceparent:o}=M2({span:e,propagateTraceparent:n});r&&gQ(t,r,s,o)}function gQ(t,e,n,r){const s=t.__sentry_xhr_v3__?.request_headers;if(!(s?.["sentry-trace"]||!t.setRequestHeader))try{if(t.setRequestHeader("sentry-trace",e),r&&!s?.traceparent&&t.setRequestHeader("traceparent",r),n){const o=s?.baggage;(!o||!uQ(o))&&t.setRequestHeader("baggage",n)}}catch{}}function yQ(){st.document?st.document.addEventListener("visibilitychange",()=>{const t=Kn();if(!t)return;const e=Pn(t);if(st.document.hidden&&e){const n="cancelled",{op:r,status:s}=it(e);Gr&&pe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||e.setStatus({code:an,message:n}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Gr&&pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const _Q=3600,sD="sentry_previous_trace",vQ="sentry.previous_trace";function EQ(t,{linkPreviousTrace:e,consistentTraceSampling:n}){const r=e==="session-storage";let s=r?TQ():void 0;t.on("spanStart",c=>{if(Pn(c)!==c)return;const d=dt().getPropagationContext();s=SQ(s,c,d),r&&bQ(s)});let o=!0;n&&t.on("beforeSampling",c=>{if(!s)return;const d=dt(),f=d.getPropagationContext();if(o&&f.parentSpanId){o=!1;return}d.setPropagationContext({...f,dsc:{...f.dsc,sample_rate:String(s.sampleRate),sampled:String($0(s.spanContext))},sampleRand:s.sampleRand}),c.parentSampled=$0(s.spanContext),c.parentSampleRate=s.sampleRate,c.spanAttributes={...c.spanAttributes,[Gk]:s.sampleRate}})}function SQ(t,e,n){const r=it(e);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[_S])}catch{return 0}}const o={spanContext:e.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!t)return o;const c=t.spanContext;return c.traceId===r.trace_id?t:(Date.now()/1e3-t.startTimestamp<=_Q&&(Gr&&pe.log(`Adding previous_trace \`${JSON.stringify(c)}\` link to span \`${JSON.stringify({op:r.op,...e.spanContext()})}\``),e.addLink({context:c,attributes:{[Bz]:"previous_trace"}}),e.setAttribute(vQ,`${c.traceId}-${c.spanId}-${$0(c)?1:0}`)),o)}function bQ(t){try{st.sessionStorage.setItem(sD,JSON.stringify(t))}catch(e){Gr&&pe.warn("Could not store previous trace in sessionStorage",e)}}function TQ(){try{const t=st.sessionStorage?.getItem(sD);return JSON.parse(t)}catch{return}}function $0(t){return t.traceFlags===1}const wQ="BrowserTracing",AQ={...tm,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...iD},RQ=((t={})=>{const e={name:void 0,source:void 0},n=st.document,{enableInp:r,enableElementTiming:s,enableLongTask:o,enableLongAnimationFrame:c,_experiments:{enableInteractions:d,enableStandaloneClsSpans:f,enableStandaloneLcpSpans:p},beforeStartSpan:y,idleTimeout:_,finalTimeout:E,childSpanTimeout:w,markBackgroundSpan:A,traceFetch:N,traceXHR:k,trackFetchStreamPerformance:z,shouldCreateSpanForRequest:F,enableHTTPTimings:Q,ignoreResourceSpans:Z,ignorePerformanceApiSpans:ue,instrumentPageLoad:se,instrumentNavigation:x,detectRedirects:I,linkPreviousTrace:O,consistentTraceSampling:D,enableReportPageLoaded:P,onRequestSpanStart:U,onRequestSpanEnd:M}={...AQ,...t};let ge,De,Y;function ae(te,fe,le=!0){const L=fe.op==="pageload",q=fe.name,re=y?y(fe):fe,me=re.attributes||{};if(q!==re.name&&(me[si]="custom",re.attributes=me),!le){const Me=bl();ou({...re,startTime:Me}).end(Me);return}e.name=re.name,e.source=me[si];const ve=p2(re,{idleTimeout:_,finalTimeout:E,childSpanTimeout:w,disableAutoFinish:L,beforeSpanEnd:Me=>{ge?.(),Xq(Me,{recordClsOnPageloadSpan:!f,recordLcpOnPageloadSpan:!p,ignoreResourceSpans:Z,ignorePerformanceApiSpans:ue}),rx(te,void 0);const It=dt(),gt=It.getPropagationContext();It.setPropagationContext({...gt,traceId:ve.spanContext().traceId,sampled:go(ve),dsc:Ps(Me)}),L&&(Y=void 0)},trimIdleSpanEndTimestamp:!P});L&&P&&(Y=ve),rx(te,ve);function Oe(){n&&["interactive","complete"].includes(n.readyState)&&te.emit("idleSpanEnableAutoFinish",ve)}L&&!P&&n&&(n.addEventListener("readystatechange",()=>{Oe()}),Oe())}return{name:wQ,setup(te){if(gF(),ge=qq({recordClsStandaloneSpans:f||!1,recordLcpStandaloneSpans:p||!1,client:te}),r&&T$(),s&&c$(),c&&Je.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Gq():o&&$q(),d&&Wq(),I&&n){const le=()=>{De=_n()};addEventListener("click",le,{capture:!0}),addEventListener("keydown",le,{capture:!0,passive:!0})}function fe(){const le=of(te);le&&!it(le).timestamp&&(Gr&&pe.log(`[Tracing] Finishing current active span with op: ${it(le).op}`),le.setAttribute(Zd,"cancelled"),le.end())}te.on("startNavigationSpan",(le,L)=>{if(Ze()!==te)return;if(L?.isRedirect){Gr&&pe.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ae(te,{op:"navigation.redirect",...le},!1);return}De=void 0,fe(),hi().setPropagationContext({traceId:Ds(),sampleRand:Math.random(),propagationSpanId:oi()?void 0:bs()});const q=dt();q.setPropagationContext({traceId:Ds(),sampleRand:Math.random(),propagationSpanId:oi()?void 0:bs()}),q.setSDKProcessingMetadata({normalizedRequest:void 0}),ae(te,{op:"navigation",...le,parentSpan:null,forceTransaction:!0})}),te.on("startPageLoadSpan",(le,L={})=>{if(Ze()!==te)return;fe();const q=L.sentryTrace||nx("sentry-trace"),re=L.baggage||nx("baggage"),me=oF(q,re),ve=dt();ve.setPropagationContext(me),oi()||(ve.getPropagationContext().propagationSpanId=bs()),ve.setSDKProcessingMetadata({normalizedRequest:OS()}),ae(te,{op:"pageload",...le})}),te.on("endPageloadSpan",()=>{P&&Y&&(Y.setAttribute(Zd,"reportPageLoaded"),Y.end())})},afterAllSetup(te){let fe=ru();if(O!=="off"&&EQ(te,{linkPreviousTrace:O,consistentTraceSampling:D}),st.location){if(se){const le=cr();IQ(te,{name:st.location.pathname,startTime:le?le/1e3:void 0,attributes:{[si]:"url",[ln]:"auto.pageload.browser"}})}x&&Ug(({to:le,from:L})=>{if(L===void 0&&fe?.indexOf(le)!==-1){fe=void 0;return}fe=void 0;const q=kS(le),re=of(te),me=re&&I&&NQ(re,De);xQ(te,{name:q?.pathname||st.location.pathname,attributes:{[si]:"url",[ln]:"auto.navigation.browser"}},{url:le,isRedirect:me})})}A&&yQ(),d&&CQ(te,_,E,w,e),r&&R$(),fQ(te,{traceFetch:N,traceXHR:k,trackFetchStreamPerformance:z,tracePropagationTargets:te.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:F,enableHTTPTimings:Q,onRequestSpanStart:U,onRequestSpanEnd:M})}}});function IQ(t,e,n){t.emit("startPageLoadSpan",e,n),dt().setTransactionName(e.name);const r=of(t);return r&&t.emit("afterStartPageLoadSpan",r),r}function xQ(t,e,n){const{url:r,isRedirect:s}=n||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:s}),t.emit("startNavigationSpan",e,{isRedirect:s});const o=dt();return o.setTransactionName(e.name),r&&!s&&o.setSDKProcessingMetadata({normalizedRequest:{...OS(),url:r}}),of(t)}function nx(t){return st.document?.querySelector(`meta[name=${t}]`)?.getAttribute("content")||void 0}function CQ(t,e,n,r,s){const o=st.document;let c;const d=()=>{const f="ui.action.click",p=of(t);if(p){const y=it(p).op;if(["navigation","pageload"].includes(y)){Gr&&pe.warn(`[Tracing] Did not create ${f} span because a pageload or navigation span is in progress.`);return}}if(c&&(c.setAttribute(Zd,"interactionInterrupted"),c.end(),c=void 0),!s.name){Gr&&pe.warn(`[Tracing] Did not create ${f} transaction because _latestRouteName is missing.`);return}c=p2({name:s.name,op:f,attributes:{[si]:s.source||"url"}},{idleTimeout:e,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",d,{capture:!0})}const aD="_sentry_idleSpan";function of(t){return t[aD]}function rx(t,e){lr(t,aD,e)}const ix=1.5;function NQ(t,e){const n=it(t),r=bl(),s=n.start_timestamp;return!(r-s>ix||e&&r-e<=ix)}function kQ(t){const e={...t};return D2(e,"react"),y2("react",{version:j.version}),IG(e)}class OQ extends Wr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught Error:",e,n),Mg(e,{extra:n}),this.setState({errorInfo:n})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:T.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[T.jsx("div",{className:"bg-red-50 p-6 border-b border-red-100 flex justify-center",children:T.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:T.jsx(dS,{size:48,className:"text-red-600"})})}),T.jsxs("div",{className:"p-6 text-center space-y-4",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Something went wrong"}),T.jsx("p",{className:"text-gray-600 text-sm",children:"We encountered an unexpected error. Our team has been notified. Please try reloading the page."}),!1,T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[T.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all shadow-sm",children:[T.jsx(xk,{size:18})," Reload Page"]}),T.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-semibold transition-all",children:[T.jsx(mB,{size:18})," Go Home"]})]})]}),T.jsx("div",{className:"bg-gray-50 p-3 text-center border-t border-gray-200",children:T.jsx("p",{className:"text-xs text-gray-400",children:"Error Code: UI_CRASH_HANDLER"})})]})}):this.props.children}}function Xm(){return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 text-gray-600",children:[T.jsx(bk,{size:"h-16 w-16",className:"mb-4"}),T.jsx("p",{className:"text-xl font-semibold",children:"Loading..."})]})}function DQ(){const[t,e]=j.useState(!0),[n,r]=j.useState([]),[s,o]=j.useState(""),{currentUserClaims:c,loginToCompany:d,handleLogout:f}=qg();return j.useEffect(()=>{async function p(){if(!c||!c.roles){o("Could not find user roles."),e(!1);return}const y={...c.roles};delete y.globalRole;const _=Object.keys(y);if(_.length===0){o("User has no company memberships."),e(!1);return}e(!0),o("");try{const E=[];for(const w of _){const A=await C8(w);A&&E.push({id:w,data:A,role:y[w]})}r(E)}catch(E){console.error("Error populating company chooser:",E),o("Could not load your companies.")}finally{e(!1)}}p()},[c]),T.jsx("div",{id:"choose-company-modal",className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:T.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md border border-gray-200",children:T.jsxs("div",{className:"p-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Choose Company"}),T.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"You have access to multiple companies. Please pick one to continue."}),T.jsxs("div",{id:"company-choice-list",className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:[t&&T.jsx("p",{className:"text-center text-gray-500",children:"Loading companies..."}),s&&T.jsx("p",{className:"text-red-600 text-center",children:s}),!t&&!s&&n.map(p=>T.jsxs("button",{className:"w-full text-left p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-white hover:border-blue-500 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 flex justify-between items-center transition-all",onClick:()=>d(p.id,p.role),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-full",children:T.jsx(Nf,{size:20})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:p.data.companyName}),T.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:["Your role: ",p.role.replace("_"," ")]})]})]}),T.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"Select "})]},p.id))]}),T.jsxs("button",{id:"logout-button-modal",className:"w-full text-center mt-6 px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-all flex items-center justify-center gap-2",onClick:f,children:[T.jsx(EB,{size:16}),"Logout"]})]})})})}async function MQ(t){if(!t)return null;const e=qr(tn,"users",t),n=await Yd(e);return n.exists()?n.data():(console.error("No user document found for this user!"),null)}async function $X(t,e,n=null){return t?(await Ek(Sk,"updatePortalUser")({userId:t,companyId:n,name:e.name,email:e.email})).data:void 0}async function PQ(t){if(!t)return null;const e=Ns(tn,"memberships"),n=wg(e,Wd("userId","==",t));return await xf(n)}async function GX(t){const e=wg(Ns(tn,"memberships"),Wd("userId","==",t.userId),Wd("companyId","==",t.companyId));if(!(await xf(e)).empty)throw new Error("User is already a member of this company.");return await QN(Ns(tn,"memberships"),t)}async function WX(t,e){if(!t)return;const n=qr(tn,"memberships",t);return await eS(n,{role:e})}async function YX(t){if(!t)return;const e=qr(tn,"memberships",t);return await Fj(e)}function LQ({onSelect:t}){return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"p-8 text-center border-b border-slate-100",children:[T.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Welcome Back"}),T.jsx("p",{className:"text-slate-500",children:"You have access to multiple portals. Where would you like to go?"})]}),T.jsxs("div",{className:"p-6 space-y-4",children:[T.jsxs("button",{onClick:()=>t("driver"),className:"w-full flex items-center gap-4 p-5 bg-slate-50 hover:bg-blue-50 border-2 border-slate-200 hover:border-blue-500 rounded-xl transition-all group",children:[T.jsx("div",{className:"w-14 h-14 bg-blue-100 group-hover:bg-blue-200 rounded-xl flex items-center justify-center transition-colors",children:T.jsx(jB,{size:28,className:"text-blue-600"})}),T.jsxs("div",{className:"flex-1 text-left",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-900 group-hover:text-blue-700 transition-colors",children:"Driver Portal"}),T.jsx("p",{className:"text-sm text-slate-500",children:"Manage your profile, view applications, and find opportunities"})]}),T.jsx(Om,{size:20,className:"text-slate-400 group-hover:text-blue-600 transition-colors"})]}),T.jsxs("button",{onClick:()=>t("employer"),className:"w-full flex items-center gap-4 p-5 bg-slate-50 hover:bg-indigo-50 border-2 border-slate-200 hover:border-indigo-500 rounded-xl transition-all group",children:[T.jsx("div",{className:"w-14 h-14 bg-indigo-100 group-hover:bg-indigo-200 rounded-xl flex items-center justify-center transition-colors",children:T.jsx(G8,{size:28,className:"text-indigo-600"})}),T.jsxs("div",{className:"flex-1 text-left",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-900 group-hover:text-indigo-700 transition-colors",children:"Employer Portal"}),T.jsx("p",{className:"text-sm text-slate-500",children:"Manage your company, review applications, and recruit drivers"})]}),T.jsx(Om,{size:20,className:"text-slate-400 group-hover:text-indigo-600 transition-colors"})]})]}),T.jsx("div",{className:"px-6 pb-6",children:T.jsx("p",{className:"text-xs text-slate-400 text-center",children:"You can switch between portals anytime from the menu"})})]})})}const oD=j.createContext(),qg=()=>{const t=j.useContext(oD);if(!t)throw new Error("useData must be used within a DataProvider");return t};function UQ({children:t}){const[e,n]=j.useState(null),[r,s]=j.useState(null),[o,c]=j.useState(null),[d,f]=j.useState(null),[p,y]=j.useState(!0),[_,E]=j.useState(!1),[w,A]=j.useState(!1),[N,k]=j.useState(!1),[z,F]=j.useState(!1),[Q,Z]=j.useState(null),ue=j.useCallback(async(P,U,M=!1)=>{M||y(!0);try{const ge=await Yd(qr(tn,"companies",P));if(ge.exists()){const De={id:ge.id,...ge.data()};f(De),localStorage.setItem("selectedCompanyId",P),E(!1)}else console.warn("Saved company ID no longer exists."),localStorage.removeItem("selectedCompanyId"),M&&E(!0)}catch(ge){console.error("Error logging into company:",ge),localStorage.removeItem("selectedCompanyId")}finally{M||y(!1)}},[]);j.useEffect(()=>{const P=m6(km,async U=>{try{if(U){n(U);const ge=(await U.getIdTokenResult()).claims;s(ge);const De=ge.roles||{},Y=Object.keys(De).filter(q=>q!=="globalRole"),ae=ge.globalRole==="super_admin"||De.globalRole==="super_admin"||U.email==="holmurod96@gmail.com",te=Y.length>0,le=(await Yd(qr(tn,"drivers",U.uid))).exists();if(A(le),k(ae||te),console.log("[DataContext] User claims:",ge),console.log("[DataContext] Profile detection:",{isDriver:le,hasCompanyRoles:te,isSuperAdmin:ae}),ae)try{const[q,re]=await Promise.all([pR(Ns(tn,"companies")),pR(Ns(tn,"drivers"))]),me={companies:q.data().count||0,drivers:re.data().count||0,updatedAt:Date.now()};localStorage.setItem("platformStats",JSON.stringify(me))}catch(q){console.warn("Could not cache platform stats:",q)}const L=localStorage.getItem("selectedPortal");if(ae){c("super_admin"),Z("employer");const q=localStorage.getItem("selectedCompanyId");q&&await ue(q,null,!0)}else if(le&&te)if(L==="driver")c("driver"),Z("driver");else if(L==="employer"){c("company_admin"),Z("employer");const q=localStorage.getItem("selectedCompanyId");q?await ue(q,null,!0):E(!0)}else F(!0),c(null);else if(te){c("company_admin"),Z("employer");const q=localStorage.getItem("selectedCompanyId");q?await ue(q,null,!0):E(!0)}else c("driver"),Z("driver")}else n(null),s(null),f(null),c(null),E(!1),A(!1),k(!1),F(!1),Z(null),localStorage.removeItem("selectedCompanyId"),localStorage.removeItem("selectedPortal")}catch(M){console.error("Error initializing user data:",M)}finally{y(!1)}});return()=>{P()}},[ue]);const se=async P=>{if(Z(P),localStorage.setItem("selectedPortal",P),F(!1),P==="driver")c("driver"),window.location.href="/driver/dashboard";else{c("company_admin");const U=localStorage.getItem("selectedCompanyId");U?(await ue(U,null,!0),window.location.href="/company/dashboard"):E(!0)}},x=()=>{localStorage.removeItem("selectedPortal"),Z(null),c(null),F(!0)},I=async()=>{try{await km.signOut(),localStorage.removeItem("selectedCompanyId"),localStorage.removeItem("selectedPortal"),window.location.href="/login"}catch(P){console.error("Logout failed",P)}},O=()=>{f(null),localStorage.removeItem("selectedCompanyId"),E(!0)};if(p)return T.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx(bk,{size:"h-20 w-20",className:"mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Platform..."})]})});const D={currentUser:e,currentUserClaims:r,userRole:o,currentCompanyProfile:d,setCurrentCompanyProfile:f,loginToCompany:ue,handleLogout:I,returnToCompanyChooser:O,setShowCompanyChooser:E,loading:p,setLoading:y,hasDriverProfile:w,hasEmployerProfile:N,selectedPortal:Q,switchPortal:x,canSwitchPortals:w&&N};return T.jsxs(oD.Provider,{value:D,children:[t,e&&z&&!p&&T.jsx(LQ,{onSelect:se}),e&&_&&!p&&o==="company_admin"&&!z&&T.jsx(DQ,{})]})}const An=[];for(let t=0;t<256;++t)An.push((t+256).toString(16).slice(1));function VQ(t,e=0){return(An[t[e+0]]+An[t[e+1]]+An[t[e+2]]+An[t[e+3]]+"-"+An[t[e+4]]+An[t[e+5]]+"-"+An[t[e+6]]+An[t[e+7]]+"-"+An[t[e+8]]+An[t[e+9]]+"-"+An[t[e+10]]+An[t[e+11]]+An[t[e+12]]+An[t[e+13]]+An[t[e+14]]+An[t[e+15]]).toLowerCase()}let Dv;const jQ=new Uint8Array(16);function BQ(){if(!Dv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dv=crypto.getRandomValues.bind(crypto)}return Dv(jQ)}const zQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sx={randomUUID:zQ};function FQ(t,e,n){if(sx.randomUUID&&!t)return sx.randomUUID();t=t||{};const r=t.random??t.rng?.()??BQ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,VQ(r)}const HQ="SafeHaulSubmissionQueue",qQ=1,ji="pending_submissions",$Q=10,GQ=1e3,WQ=6e4;let ki=null;async function lD(){return ki||new Promise((t,e)=>{const n=indexedDB.open(HQ,qQ);n.onerror=()=>{console.error("[SubmissionQueue] Failed to open database:",n.error),e(new Error("Failed to initialize submission queue"))},n.onsuccess=()=>{ki=n.result,console.log("[SubmissionQueue] Database initialized"),t(ki)},n.onupgradeneeded=r=>{const s=r.target.result;if(!s.objectStoreNames.contains(ji)){const o=s.createObjectStore(ji,{keyPath:"id"});o.createIndex("status","status",{unique:!1}),o.createIndex("companyId","companyId",{unique:!1}),o.createIndex("createdAt","createdAt",{unique:!1}),console.log("[SubmissionQueue] Object store created")}}})}async function $g(){return ki||await lD(),ki}async function KX(t,e,n={}){await $g();const r={id:FQ(),companyId:e,data:{...t},type:n.type||"authenticated",userId:n.userId||null,createdAt:Date.now(),attempts:0,lastAttemptAt:null,nextRetryAt:null,status:"pending",lastError:null};return new Promise((s,o)=>{const f=ki.transaction([ji],"readwrite").objectStore(ji).add(r);f.onsuccess=()=>{console.log(`[SubmissionQueue] Enqueued submission ${r.id}`),s(r.id)},f.onerror=()=>{console.error("[SubmissionQueue] Failed to enqueue:",f.error),o(new Error("Failed to queue submission"))}})}async function YQ(t){return await $g(),new Promise((e,n)=>{const o=ki.transaction([ji],"readwrite").objectStore(ji).delete(t);o.onsuccess=()=>{console.log(`[SubmissionQueue] Dequeued submission ${t}`),e(!0)},o.onerror=()=>{console.error("[SubmissionQueue] Failed to dequeue:",o.error),n(new Error("Failed to remove from queue"))}})}async function Mv(t,e){return await $g(),new Promise((n,r)=>{const o=ki.transaction([ji],"readwrite").objectStore(ji),c=o.get(t);c.onsuccess=()=>{const d=c.result;if(!d){r(new Error(`Queue entry ${t} not found`));return}const f={...d,...e},p=o.put(f);p.onsuccess=()=>n(!0),p.onerror=()=>r(new Error("Failed to update queue entry"))},c.onerror=()=>r(new Error("Failed to get queue entry"))})}async function rb(){return await $g(),new Promise((t,e)=>{const o=ki.transaction([ji],"readonly").objectStore(ji).index("status").getAll("pending");o.onsuccess=()=>t(o.result||[]),o.onerror=()=>e(new Error("Failed to get pending submissions"))})}async function Pv(){return(await rb()).length}function KQ(t){const e=Math.min(GQ*Math.pow(2,t),WQ),n=e*.25*(Math.random()*2-1);return Math.floor(e+n)}async function QQ(t,e){if(!t||t.status!=="pending")return{success:!1,error:new Error("Invalid entry or not pending")};if(t.nextRetryAt&&Date.now()<t.nextRetryAt)return{success:!1,error:new Error("Not time to retry yet")};if(t.attempts>=$Q)return await Mv(t.id,{status:"failed",lastError:"Max retries exceeded"}),{success:!1,error:new Error("Max retries exceeded")};await Mv(t.id,{status:"processing",lastAttemptAt:Date.now(),attempts:t.attempts+1});try{return await e(t.data,t.companyId,t),await YQ(t.id),console.log(`[SubmissionQueue] Successfully processed ${t.id}`),{success:!0}}catch(n){console.error(`[SubmissionQueue] Attempt ${t.attempts+1} failed:`,n);const r=KQ(t.attempts);return await Mv(t.id,{status:"pending",lastError:n.message,nextRetryAt:Date.now()+r}),{success:!1,error:n}}}async function XQ(t){const e=await rb();console.log(`[SubmissionQueue] Processing ${e.length} pending submissions`);const n={processed:0,succeeded:0,failed:0};for(const r of e){const s=await QQ(r,t);n.processed++,s.success?n.succeeded++:n.failed++}return console.log(`[SubmissionQueue] Processed: ${n.processed}, Succeeded: ${n.succeeded}, Failed: ${n.failed}`),n}function Up(){return typeof indexedDB<"u"}function JQ(){const[t,e]=j.useState(0),[n,r]=j.useState(!1),[s,o]=j.useState(navigator.onLine),[c,d]=j.useState(null),[f,p]=j.useState(null),y=j.useRef(!1),_=j.useRef(!1);j.useEffect(()=>{if(!Up())return;(async()=>{try{await lD();const N=await Pv();e(N),y.current=!0}catch(N){console.error("[useSubmissionQueue] Init failed:",N),p(N.message)}})()},[]),j.useEffect(()=>{const A=()=>{console.log("[useSubmissionQueue] Online detected"),o(!0)},N=()=>{console.log("[useSubmissionQueue] Offline detected"),o(!1)};return window.addEventListener("online",A),window.addEventListener("offline",N),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",N)}},[]);const E=j.useCallback(async(A,N,k)=>{const z=A.applicationId||k.id;let F;N&&N!=="general-leads"?F=qr(tn,"companies",N,"applications",z):F=qr(tn,"leads",z);const Q={...A,submittedAt:Qj(),lifecycle:{...A.lifecycle,processedFromQueue:!0,queueProcessedAt:new Date().toISOString()}};await zj(F,Q,{merge:!0}),Ls({category:"queue",message:"Queued submission processed successfully",data:{applicationId:z,companyId:N},level:"info"})},[]),w=j.useCallback(async()=>{if(!Up()||!y.current)return{processed:0};if(_.current)return{processed:0};_.current=!0,r(!0),p(null);try{const A=await rb();if(A.length===0)return r(!1),_.current=!1,{processed:0,succeeded:0,failed:0};console.log(`[useSubmissionQueue] Processing ${A.length} queued submissions`);const N=await XQ(E),k=await Pv();return e(k),d(new Date),N.succeeded>0&&g7(`Queue processed: ${N.succeeded}/${N.processed} succeeded`,"info"),N}catch(A){return console.error("[useSubmissionQueue] Processing failed:",A),p(A.message),Mg(A,{tags:{flow:"queue_processing"}}),{processed:0,succeeded:0,failed:0,error:A.message}}finally{r(!1),_.current=!1}},[E]);return j.useEffect(()=>{if(s&&t>0&&y.current&&!_.current){const A=setTimeout(()=>{w()},2e3);return()=>clearTimeout(A)}},[s,t,w]),j.useEffect(()=>{if(!Up())return;const N=setInterval(async()=>{try{const k=await Pv();e(k)}catch{}},3e4);return()=>clearInterval(N)},[]),{pendingCount:t,isProcessing:n,isOnline:s,lastProcessed:c,error:f,isSupported:Up(),processQueueNow:w,hasQueuedItems:t>0,showQueueIndicator:t>0||n}}function ZQ(){const{pendingCount:t,isProcessing:e,isOnline:n,hasQueuedItems:r,showQueueIndicator:s,processQueueNow:o,error:c}=JQ();return!s&&n?null:n?e?T.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-2 fade-in",children:T.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-blue-100 text-blue-800 rounded-lg shadow-lg border border-blue-200",children:[T.jsx(Qd,{size:18,className:"animate-spin"}),T.jsxs("span",{className:"text-sm font-medium",children:["Submitting ",t," queued application",t>1?"s":"","..."]})]})}):c?T.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-2 fade-in",children:T.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-red-100 text-red-800 rounded-lg shadow-lg border border-red-200",children:[T.jsx(lS,{size:18}),T.jsx("span",{className:"text-sm font-medium",children:"Queue error"}),T.jsx("button",{onClick:o,className:"ml-2 px-2 py-1 text-xs font-bold bg-red-200 rounded hover:bg-red-300 transition-colors",children:"Retry"})]})}):r?T.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-2 fade-in",children:T.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-yellow-100 text-yellow-800 rounded-lg shadow-lg border border-yellow-200",children:[T.jsx(lB,{size:18}),T.jsxs("span",{className:"text-sm font-medium",children:[t," application",t>1?"s":""," pending"]}),T.jsx("button",{onClick:o,className:"ml-2 px-2 py-1 text-xs font-bold bg-yellow-200 rounded hover:bg-yellow-300 transition-colors",children:"Submit Now"})]})}):null:T.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-2 fade-in",children:T.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-amber-100 text-amber-800 rounded-lg shadow-lg border border-amber-200",children:[T.jsx(GB,{size:18}),T.jsxs("span",{className:"text-sm font-medium",children:["You're offline",r&&`  ${t} pending`]})]})})}async function eX(t,e){try{return(await f6(km,t,e)).user}catch(n){throw cD(n)}}async function tX(t){try{return await d6(km,t),{success:!0}}catch(e){throw cD(e)}}function cD(t){switch(console.error("Auth Error:",t.code,t.message),t.code){case"auth/email-already-in-use":return new Error("This email is already registered. Please log in.");case"auth/invalid-email":return new Error("Please enter a valid email address.");case"auth/weak-password":return new Error("Password should be at least 6 characters.");case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return new Error("Invalid email or password.");case"auth/too-many-requests":return new Error("Too many failed attempts. Please try again later.");default:return new Error("An unexpected error occurred. Please try again.")}}const ax=({className:t=""})=>T.jsxs("svg",{className:t,viewBox:"0 0 150 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M84.5048 0H38.3646C35.6441 0 33.1101 1.38249 31.6377 3.67003L10.0621 37.1892C7.65527 40.9284 8.00677 45.8078 10.9247 49.1634L34.5051 76.2809C35.4547 77.373 36.831 78 38.2782 78H84.5043C85.3578 78 85.819 76.9996 85.2647 76.3506L60.1709 46.969C57.4395 43.7709 57.2872 39.1074 59.8042 35.7379L85.306 1.59845C85.7986 0.938977 85.328 0 84.5048 0Z",fill:"url(#paint0_linear_logo)"}),T.jsx("path",{d:"M76.26 51.5H115.994C118.229 51.5 120.362 52.4346 121.876 54.0776L143.684 77.7336C146.805 81.1193 147.211 86.1988 144.667 90.037L120.983 125.763C120.057 127.16 118.492 128 116.816 128H68.9479C68.5459 128 68.3082 127.549 68.5353 127.218L96.563 86.2541C98.8806 82.8668 98.613 78.3405 95.9123 75.2499L75.8835 52.329C75.6009 52.0056 75.8306 51.5 76.26 51.5Z",fill:"#004C68"}),T.jsx("path",{d:"M145.426 0.0370348L97.1296 0.476095C95.4834 0.49106 93.9501 1.31535 93.0296 2.68018L67.603 40.3817C66.7071 41.7101 67.6589 43.5 69.2612 43.5H111.534C114.663 43.5 117.611 42.0361 119.501 39.5439L147.038 3.24572C148.042 1.92198 147.088 0.0219304 145.426 0.0370348Z",fill:"#0BE2A4"}),T.jsx("path",{d:"M83.603 85.5H34.9709C33.4135 85.5 31.9451 86.2257 30.9991 87.4627L2.45845 124.785C1.45208 126.101 2.39046 128 4.04717 128H51.8679C55.0895 128 58.1139 126.448 59.9923 123.83L85.2279 88.6661C86.1775 87.3428 85.2318 85.5 83.603 85.5Z",fill:"#004C68"}),T.jsx("defs",{children:T.jsxs("linearGradient",{id:"paint0_linear_logo",x1:"42.5",y1:"55",x2:"83",y2:"75.5",gradientUnits:"userSpaceOnUse",children:[T.jsx("stop",{offset:"0.283654",stopColor:"#0CE1A5"}),T.jsx("stop",{offset:"0.913462",stopColor:"#077B5A"})]})})]});function nX(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,o]=j.useState(!1),[c,d]=j.useState(!1),[f,p]=j.useState(""),[y,_]=j.useState(!1),[E,w]=j.useState(""),[A,N]=j.useState(!1),[k,z]=j.useState(!1),[F,Q]=j.useState(""),Z=cf(),ue=Bi(),se=()=>{w(t),Q(""),N(!1),_(!0)},x=()=>{_(!1),w(""),Q(""),N(!1)},I=async D=>{if(D.preventDefault(),!E){Q("Please enter your email address");return}Q(""),z(!0);try{await tX(E),N(!0)}catch(P){Q(P.message||"Failed to send reset email")}finally{z(!1)}},O=async D=>{D.preventDefault(),p(""),d(!0);const P=ue.state?.from;try{const U=await eX(t,n);if(P){Z(P,{replace:!0});return}const[M,ge]=await Promise.all([MQ(U.uid),PQ(U.uid)]);if((await U.getIdTokenResult()).claims.super_admin||M?.role==="super_admin"){Z("/super-admin",{replace:!0});return}const ae=M?.role==="driver",te=!ge.empty;ae&&te?Z("/",{replace:!0}):te?Z("/company/dashboard",{replace:!0}):ae?Z("/driver/dashboard",{replace:!0}):Z("/",{replace:!0})}catch(U){console.error("Auth error:",U),p(U.message||"Invalid email or password"),d(!1)}};return T.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[T.jsx("div",{className:"w-full lg:w-[45%] flex flex-col justify-center px-6 sm:px-12 lg:px-16 xl:px-24 bg-white",children:T.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[T.jsxs("div",{className:"mb-10",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[T.jsx(ax,{className:"w-10 h-10"}),T.jsx("span",{className:"text-xl font-bold text-slate-900",children:"SafeHaul"})]}),T.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 mb-2 tracking-tight",children:"Welcome Back"}),T.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Sign in to access your portal"})]}),f&&T.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 rounded-xl flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[T.jsx("div",{className:"w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center shrink-0",children:T.jsx(lS,{size:18})}),T.jsx("p",{className:"text-sm text-red-600 font-semibold",children:f})]}),T.jsxs("form",{onSubmit:O,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email address"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:T.jsx(wR,{size:18,className:"text-slate-400"})}),T.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:D=>e(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"you@example.com"})]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:T.jsx(Ik,{size:18,className:"text-slate-400"})}),T.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:D=>r(D.target.value),className:"w-full pl-10 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"Enter your password"}),T.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600",children:s?T.jsx(uB,{size:18}):T.jsx(Ak,{size:18})})]}),T.jsx("div",{className:"mt-2 text-right",children:T.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:se,children:"Forgot password?"})})]}),T.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-sm transition-all flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:c?T.jsx(Qd,{size:20,className:"animate-spin"}):T.jsxs(T.Fragment,{children:["Sign In",T.jsx(Om,{size:18})]})})]}),T.jsx("div",{className:"mt-12 pt-8 border-t border-slate-100",children:T.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[T.jsx("p",{className:"text-sm text-slate-600 font-medium mb-1",children:"New to SafeHaul?"}),T.jsx("p",{className:"text-xs text-slate-400 mb-4 leading-relaxed",children:"Contact our administration team to set up a new company account."}),T.jsxs("a",{href:"mailto:info@safehaul.io",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-bold transition-all hover:gap-3",children:["Contact SafeHaul ",T.jsx(Om,{size:16})]})]})})]})}),T.jsxs("div",{className:"hidden lg:flex lg:w-[55%] bg-slate-900 relative overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0",children:[T.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#0BE2A4]/10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),T.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-[#004C68]/20 rounded-full blur-3xl transform -translate-x-1/2 translate-y-1/2"}),T.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-white/5 rounded-full blur-2xl transform -translate-x-1/2 -translate-y-1/2"})]}),T.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center text-center px-12 lg:px-16 xl:px-20 w-full",children:T.jsxs("div",{className:"max-w-lg",children:[T.jsx(ax,{className:"w-20 h-20 mx-auto mb-8"}),T.jsx("h2",{className:"text-3xl xl:text-4xl font-bold text-white mb-4 leading-tight",children:"Your Gateway to the Road"}),T.jsx("p",{className:"text-lg text-white/80 leading-relaxed mb-10",children:"Whether you're a driver seeking your next opportunity or a company building your fleet, SafeHaul connects you to success."}),T.jsxs("div",{className:"space-y-4 text-left mb-10",children:[T.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10 hover:bg-white/15 transition-colors",children:[T.jsx("div",{className:"w-10 h-10 bg-[#0BE2A4]/20 rounded-lg flex items-center justify-center shrink-0",children:T.jsx(Nf,{size:20,className:"text-[#0BE2A4]"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-white font-semibold mb-1",children:"For Drivers"}),T.jsx("p",{className:"text-white/70 text-sm",children:"Apply to top carriers, track your applications, and find the perfect driving job that fits your lifestyle."})]})]}),T.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10 hover:bg-white/15 transition-colors",children:[T.jsx("div",{className:"w-10 h-10 bg-[#0BE2A4]/20 rounded-lg flex items-center justify-center shrink-0",children:T.jsx(Ck,{size:20,className:"text-[#0BE2A4]"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-white font-semibold mb-1",children:"For Companies"}),T.jsx("p",{className:"text-white/70 text-sm",children:"Streamline recruitment, manage applications, and connect with qualified CDL drivers faster than ever."})]})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl xl:text-3xl font-bold text-[#0BE2A4] mb-1",children:"10K+"}),T.jsx("div",{className:"text-sm text-white/60",children:"Active Drivers"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl xl:text-3xl font-bold text-[#0BE2A4] mb-1",children:"10+"}),T.jsx("div",{className:"text-sm text-white/60",children:"Partner Carriers"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl xl:text-3xl font-bold text-[#0BE2A4] mb-1",children:"98%"}),T.jsx("div",{className:"text-sm text-white/60",children:"Satisfaction Rate"})]})]}),T.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-white/50 text-sm",children:[T.jsx(Qp,{size:16,className:"text-[#0BE2A4]"}),T.jsx("span",{children:"DOT Compliant"}),T.jsx("span",{className:"mx-2",children:"|"}),T.jsx(Qp,{size:16,className:"text-[#0BE2A4]"}),T.jsx("span",{children:"FMCSA Approved"})]})]})})]}),y&&T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:T.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-in fade-in zoom-in-95 duration-200",children:A?T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(Qp,{size:32,className:"text-green-600"})}),T.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Check your email"}),T.jsxs("p",{className:"text-slate-500 mb-6",children:["We've sent password reset instructions to ",T.jsx("strong",{className:"text-slate-700",children:E})]}),T.jsx("button",{onClick:x,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all",children:"Back to Sign In"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:x,className:"flex items-center gap-1 text-sm text-slate-500 hover:text-slate-700 mb-4",children:[T.jsx(V8,{size:16})," Back to login"]}),T.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Reset your password"}),T.jsx("p",{className:"text-slate-500 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),F&&T.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-100 rounded-lg",children:T.jsx("p",{className:"text-sm text-red-600",children:F})}),T.jsxs("form",{onSubmit:I,children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email address"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:T.jsx(wR,{size:18,className:"text-slate-400"})}),T.jsx("input",{id:"reset-email",type:"email",value:E,onChange:D=>w(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"you@example.com",required:!0})]})]}),T.jsx("button",{type:"submit",disabled:k,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-sm transition-all flex items-center justify-center gap-2 disabled:opacity-60",children:k?T.jsx(Qd,{size:20,className:"animate-spin"}):"Send Reset Link"})]})]})})})]})}function rX(){const{companyId:t}=MP(),e=cf(),[n,r]=j.useState(""),[s,o]=j.useState({fullName:"",email:"",password:""}),[c,d]=j.useState(!0),[f,p]=j.useState(!1),[y,_]=j.useState(""),[E,w]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const k=qr(tn,"companies",t),z=await Yd(k);z.exists()?r(z.data().companyName):_("Invalid Invite Link. Company not found.")}catch{_("Error loading invite.")}finally{d(!1)}})()},[t]);const A=async N=>{N.preventDefault(),p(!0),_("");try{await Ek(Sk,"joinCompanyTeam")({companyId:t,fullName:s.fullName,email:s.email,password:s.password}),w(!0),setTimeout(()=>e("/login"),3e3)}catch(k){console.error(k),_(k.message||"Failed to join team.")}finally{p(!1)}};return c?T.jsx("div",{className:"h-screen flex items-center justify-center",children:T.jsx(Qd,{className:"animate-spin"})}):E?T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(wk,{size:40})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Aboard!"}),T.jsxs("p",{className:"text-gray-600 mt-2",children:["You have successfully joined the ",T.jsx("strong",{children:n})," team."]}),T.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting to login..."})]})}):T.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-md w-full border border-gray-200",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"inline-block p-3 bg-blue-100 text-blue-600 rounded-full mb-4",children:T.jsx(zB,{size:32})}),T.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Join ",n]}),T.jsx("p",{className:"text-gray-500 mt-1",children:"Create your recruiter account below."})]}),y&&T.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg flex items-center gap-2",children:[T.jsx(dS,{size:16})," ",y]}),T.jsxs("form",{onSubmit:A,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Full Name"}),T.jsx("input",{required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"John Doe",value:s.fullName,onChange:N=>o({...s,fullName:N.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Work Email"}),T.jsx("input",{required:!0,type:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"john@company.com",value:s.email,onChange:N=>o({...s,email:N.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Password"}),T.jsx("input",{required:!0,type:"password",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"",value:s.password,onChange:N=>o({...s,password:N.target.value})})]}),T.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-all shadow-md flex justify-center items-center gap-2 disabled:opacity-50",children:f?T.jsx(Qd,{className:"animate-spin"}):"Create Account & Join"})]})]})})}const iX=Wr.lazy(()=>Us(()=>import("./SuperAdminDashboard-MLuiYKZy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(t=>({default:t.SuperAdminDashboard}))),sX=Wr.lazy(()=>Us(()=>import("./CompanyAdminDashboard-DqvPtrQ6.js"),__vite__mapDeps([22,12,8,5,9,10,11,17,23,24,7,25,26,6,27,21])).then(t=>({default:t.CompanyAdminDashboard}))),aX=Wr.lazy(()=>Us(()=>import("./CompanySettings-I1wroi0i.js").then(t=>t.C),__vite__mapDeps([28,17,29,7,24,1,2,3,4,5,6,20,13,15,19,30])).then(t=>({default:t.CompanySettings}))),oX=Wr.lazy(()=>Us(()=>import("./DriverDashboard-DtcJGCV8.js"),__vite__mapDeps([31,32,33,34,35,16,19,27,12,21])).then(t=>({default:t.DriverDashboard}))),ox=Wr.lazy(()=>Us(()=>import("./DriverApplicationWizard-DtV_ZevW.js"),__vite__mapDeps([36,32,33,37,23,12,9,4,6,29,13,34,16,7,21])).then(t=>({default:t.DriverApplicationWizard}))),lX=Wr.lazy(()=>Us(()=>import("./PublicApplyHandler-CopYuO7_.js"),__vite__mapDeps([38,37,23,12,9,4,6,29,13,34,16,7,33,21])).then(t=>({default:t.PublicApplyHandler}))),cX=Wr.lazy(()=>Us(()=>import("./InterestPage-DjrnRccf.js"),__vite__mapDeps([39,18,21])).then(t=>({default:t.InterestPage}))),uX=Wr.lazy(()=>Us(()=>import("./SigningRoom-BFMEi7XA.js"),__vite__mapDeps([40,34,41,25,21,35,27]))),dX=Wr.lazy(()=>Us(()=>import("./DocumentsManager-Br-0G_f-.js"),__vite__mapDeps([42,41,25,21,12,7,27,3,11,16,30,2,17])));function fX(){const{currentUser:t,userRole:e,loading:n}=qg();return n?T.jsx(Xm,{}):t?e==="super_admin"?T.jsx(ja,{to:"/super-admin"}):e==="company_admin"?T.jsx(ja,{to:"/company/dashboard"}):e==="driver"?T.jsx(ja,{to:"/driver/dashboard"}):T.jsx(Xm,{}):T.jsx(ja,{to:"/login"})}function Wo({children:t,allowedRoles:e}){const{currentUser:n,userRole:r,loading:s}=qg();return s?T.jsx(Xm,{}):n?e&&!e.includes(r)?T.jsx(ja,{to:"/"}):t:T.jsx(ja,{to:"/login"})}function hX(){const{currentCompanyProfile:t}=qg();return T.jsx(j.Suspense,{fallback:T.jsx(Xm,{}),children:T.jsxs(KP,{children:[T.jsx($n,{path:"/login",element:T.jsx(nX,{})}),T.jsx($n,{path:"/join/:companyId",element:T.jsx(rX,{})}),T.jsx($n,{path:"/apply/:slug",element:T.jsx(lX,{})}),T.jsx($n,{path:"/interest/:slug",element:T.jsx(cX,{})}),T.jsx($n,{path:"/sign/:companyId/:requestId",element:T.jsx(uX,{})}),T.jsx($n,{path:"/super-admin/*",element:T.jsx(Wo,{allowedRoles:["super_admin"],children:T.jsx(iX,{})})}),T.jsx($n,{path:"/company/dashboard",element:T.jsx(Wo,{allowedRoles:["company_admin","super_admin"],children:t?T.jsx(sX,{}):T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Please select a company."})})}),T.jsx($n,{path:"/company/documents",element:T.jsx(Wo,{allowedRoles:["company_admin","super_admin"],children:T.jsx(dX,{})})}),T.jsx($n,{path:"/company/settings",element:T.jsx(Wo,{allowedRoles:["company_admin","super_admin"],children:t?T.jsx(aX,{}):T.jsx(ja,{to:"/company/dashboard"})})}),T.jsx($n,{path:"/driver/dashboard",element:T.jsx(Wo,{allowedRoles:["driver"],children:T.jsx(oX,{})})}),T.jsx($n,{path:"/driver/apply",element:T.jsx(Wo,{allowedRoles:["driver"],children:T.jsx(ox,{})})}),T.jsx($n,{path:"/driver/apply/:companyId",element:T.jsx(Wo,{allowedRoles:["driver"],children:T.jsx(ox,{})})}),T.jsx($n,{path:"/",element:T.jsx(fX,{})}),T.jsx($n,{path:"*",element:T.jsx(ja,{to:"/"})})]})})}function pX(){return T.jsx(OQ,{children:T.jsx(iz,{children:T.jsx(UQ,{children:T.jsxs(EL,{children:[T.jsx(hX,{}),T.jsx(ZQ,{})]})})})})}UM.workerSrc="/pdf.worker.min.mjs";kQ({dsn:void 0,integrations:[RQ(),oQ()],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});KM.createRoot(document.getElementById("root")).render(T.jsx(Wr.StrictMode,{children:T.jsx(pX,{})}));export{Rk as $,cf as A,qX as B,j as C,T as D,sB as E,G8 as F,wk as G,Ek as H,Sk as I,$M as J,lx as K,Qd as L,h0 as M,A3 as N,f6 as O,km as P,vX as Q,Wr as R,qg as S,dS as T,lS as U,AX as V,AB as W,Nk as X,wR as Y,p0 as Z,Us as _,tn as a,R8 as a$,Om as a0,xk as a1,Fj as a2,Y8 as a3,HB as a4,EB as a5,Ax as a6,J8 as a7,Nf as a8,TB as a9,OB as aA,Ck as aB,GB as aC,BX as aD,zB as aE,pR as aF,RX as aG,FX as aH,bk as aI,Q8 as aJ,UX as aK,VX as aL,kX as aM,jX as aN,gX as aO,ez as aP,H8 as aQ,LB as aR,ZB as aS,zX as aT,uS as aU,yX as aV,HX as aW,xX as aX,C8 as aY,sr as aZ,I8 as a_,IX as aa,Qp as ab,hB as ac,lB as ad,QN as ae,wX as af,CX as ag,CB as ah,DX as ai,JB as aj,MQ as ak,$X as al,d6 as am,PQ as an,GX as ao,WX as ap,YX as aq,cS as ar,Ik as as,uB as at,Ak as au,jB as av,G0 as aw,FQ as ax,Xm as ay,V8 as az,bX as b,PX as b0,Ve as c,qr as d,xf as e,Ns as f,Yd as g,TX as h,OX as i,Ls as j,Up as k,lD as l,KX as m,g7 as n,zj as o,YQ as p,wg as q,MX as r,LX as s,Mg as t,NX as u,eS as v,Wd as w,Qj as x,MP as y,_X as z};
