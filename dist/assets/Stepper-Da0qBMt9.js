import{c as U,D as e,C as E,S as O,B as D,U as X,a1 as ee,G as Y,X as se,ad as G,M as Z,a3 as Q,ab as te,a4 as re,a9 as ne,av as le,a8 as ae}from"./index-Eut2KIY5.js";import{Y as V,E as J,L as ie,a as oe,M as ce,b as de}from"./form-options-DRTvQM9c.js";import{F as ue}from"./file-text-fIi5thw4.js";import{U as xe,F as me}from"./upload-CeDmLZPo.js";import{C as ge}from"./circle-BoyhTIEe.js";import{S as he,a as pe}from"./shield-B8dSCmK2.js";import{B as be}from"./beaker-BDw6Lckq.js";import{P as ye}from"./pen-DKw8HDfG.js";import{i as K,g as je,c as F}from"./signature-CKsXCBTr.js";import{F as fe}from"./file-pen-line-CZApjMvZ.js";import{S as ve}from"./save-xDZOd2sT.js";const Ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],we=U("circle-minus",Ne);const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ke=U("circle-plus",Ce);const Se=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],qe=U("eraser",Se);const Ee=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],Ie=U("id-card",Ee);const Te=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ae=U("image",Te),g=({label:s,id:t,name:c,type:d="text",value:l,onChange:h,required:p=!1,placeholder:n,className:r=""})=>{const a=d==="file",x=o=>{a?h(c,o.target.files[0]||null):h(c,o.target.value)};let b="",f=!1;a&&l&&(l instanceof File?b=`Selected: ${l.name}`:l.name&&(b=`Uploaded: ${l.name}`,f=!0));const w="file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",N=a?{}:{value:l||""};return e.jsxs("div",{children:[e.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:[s," ",p&&e.jsx("span",{className:"text-red-500",children:"*"}),a&&b&&e.jsxs("span",{className:`ml-2 text-xs font-normal ${f?"text-green-600":"text-blue-500"}`,children:["(",b,")"]})]}),e.jsx("input",{type:d,id:t,name:c,onChange:x,required:p,placeholder:n,className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 "+r+" "+(a?w:""),...N})]})},q=({label:s,name:t,options:c,value:d,onChange:l,required:h=!1,horizontal:p=!0})=>{const n=r=>{l(t,r.target.value)};return e.jsxs("fieldset",{className:"space-y-2",children:[e.jsxs("legend",{className:"block text-sm font-medium text-gray-900",children:[s," ",h&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex "+(p?"space-x-4":"flex-col space-y-2"),children:c.map(r=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:t+"-"+r.value,name:t,value:r.value,checked:d===r.value,onChange:n,required:h,className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:t+"-"+r.value,className:"ml-2 text-gray-700",children:r.label})]},r.value))})]})},L=({listKey:s,formData:t,updateFormData:c,renderRow:d,initialItemState:l,addButtonLabel:h,title:p})=>{const n=E.useMemo(()=>{const b=t[s];return Array.isArray(b)?b:[]},[t,s]),r=E.useCallback((b,f,w)=>{const N=[...n];N[b]={...N[b],[f]:w},c(s,N)},[n,c,s]),a=E.useCallback(b=>{const f=n.filter((w,N)=>N!==b);c(s,f)},[n,c,s]),x=E.useCallback(()=>{const b={...l,id:Date.now()};c(s,[...n,b])},[n,c,s,l]);return e.jsxs("div",{className:"space-y-4",children:[p&&e.jsx("h3",{className:"text-lg font-semibold text-gray-800 px-2",children:p}),e.jsx("div",{id:s+"-container",className:"space-y-4",children:n.map((b,f)=>e.jsxs("div",{className:"dynamic-row border border-gray-200 rounded-lg p-4 space-y-3 relative shadow-sm",children:[d(f,b,(w,N)=>r(f,w,N)),e.jsx("button",{type:"button",onClick:()=>a(f),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 p-1 rounded-full bg-white transition duration-150","aria-label":"Remove "+h.replace("Add","")+" #"+(f+1),children:e.jsx(we,{size:20})})]},b.id||f))}),e.jsxs("button",{type:"button",onClick:x,className:"flex items-center space-x-2 text-sm font-medium text-blue-600 hover:text-blue-800 transition duration-150",children:[e.jsx(ke,{size:16}),e.jsx("span",{children:h})]})]})},Pe=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],B=()=>{const s=E.useMemo(()=>Pe,[]),t=E.useCallback(c=>{if(!c)return;const d=c.companyName||"Our Company";document.querySelectorAll(".company-name-placeholder").forEach(h=>{h.textContent=d})},[]);return{states:s,initializeFormBranding:t}},$e=({formData:s,updateFormData:t,onNavigate:c,onPartialSubmit:d})=>{const{states:l}=B(),{currentCompanyProfile:h}=O(),{showError:p}=D(),n=h,r=(j,A=!0)=>{const P=n?.applicationConfig?.[j];return{hidden:P?.hidden||!1,required:P!==void 0?P.required:A}},a=r("ssn",!0),x=r("dob",!0),b=r("addressHistory",!0),f=r("referralSource",!1),w=s["residence-3-years"],N=s["known-by-other-name"]==="yes";E.useEffect(()=>{s["known-by-other-name"]===void 0&&t("known-by-other-name","no")},[s,t]);const o=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],v=j=>{t("known-by-other-name",j.target.checked?"yes":"no")},S=(j,A)=>{t(j,A)},m=()=>{const j={firstName:"First Name",lastName:"Last Name",phone:"Phone",email:"Email",street:"Address 1",city:"City",state:"State",zip:"ZIP Code"};for(const[I,$]of Object.entries(j))if(!s[I]||s[I].trim()==="")return p(`${$} is required.`),!1;return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s.email)?s.phone.replace(/\D/g,"").length<10?(p("Phone number must have at least 10 digits."),!1):!0:(p("Please enter a valid email address."),!1)},i=()=>{if(!m())return;const j=document.getElementById("driver-form");if(j&&!j.checkValidity()){j.reportValidity();return}c("next")},u=j=>j&&j.length>5&&!/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4})$/.test(j),y=j=>j&&j.length>5&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j),k=j=>j&&j.length>7&&!/^\d{3}-?\d{2}-?\d{4}$/.test(j),R=j=>j&&j.length>0&&!/^\d{5}(-\d{4})?$/.test(j),T=({message:j})=>e.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-amber-600 text-xs font-medium animate-in fade-in slide-in-from-top-1",children:[e.jsx(X,{size:12}),e.jsx("span",{children:j})]});return e.jsxs("div",{id:"page-1",className:"form-step space-y-6",children:[e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Step 1 of 9: Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(g,{label:"First Name",id:"first-name",name:"firstName",required:!0,value:s.firstName,onChange:t,placeholder:"John"}),e.jsx(g,{label:"Middle Name",id:"middle-name",name:"middleName",value:s.middleName,onChange:t,placeholder:"M"}),e.jsx(g,{label:"Last Name",id:"last-name",name:"lastName",required:!0,value:s.lastName,onChange:t,placeholder:"Doe"}),e.jsx(g,{label:"Suffix",id:"suffix",name:"suffix",value:s.suffix,onChange:t,placeholder:"Jr."})]}),e.jsxs("div",{className:"flex items-center pt-2 border-t border-gray-200",children:[e.jsx("input",{id:"known-by-other-name",name:"known-by-other-name",type:"checkbox",checked:N,onChange:v,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"known-by-other-name",className:"ml-2 block text-sm font-medium text-gray-800",children:"Known by other name(s)?"})]}),N&&e.jsx("div",{id:"other-name-field",className:"pt-2",children:e.jsx(g,{label:"Other Name(s)",id:"other-name",name:"otherName",value:s.otherName,onChange:t,placeholder:"e.g., Johnny"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[!a.hidden&&e.jsxs("div",{children:[e.jsx(g,{label:"Social Security Number (SSN)",id:"ssn",name:"ssn",required:a.required,value:s.ssn,onChange:t,placeholder:"XXX-XX-XXXX"}),k(s.ssn)&&e.jsx(T,{message:"Format usually matches XXX-XX-XXXX"})]}),!x.hidden&&e.jsx(g,{label:"Date of Birth",id:"dob",name:"dob",type:"date",required:x.required,value:s.dob,onChange:t})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx(g,{label:"Phone",id:"phone",name:"phone",type:"tel",required:!0,value:s.phone,onChange:t,placeholder:"(555) 555-5555"}),u(s.phone)&&e.jsx(T,{message:"Please double-check phone format."})]}),e.jsxs("div",{children:[e.jsx(g,{label:"Email",id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:t,placeholder:"you@example.com"}),y(s.email)&&e.jsx(T,{message:"Email address looks incomplete."})]})]}),e.jsx(q,{label:"Can we send you SMS messages?",name:"sms-consent",options:o,value:s["sms-consent"],onChange:t,horizontal:!0}),!f.hidden&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx(g,{label:"How did you hear about us?",id:"referral-source",name:"referralSource",required:f.required,value:s.referralSource,onChange:t,placeholder:"e.g. Facebook, Indeed, Friend..."})})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Current Address"}),e.jsx("div",{children:e.jsx(g,{label:"Address 1",id:"street",name:"street",required:!0,value:s.street,onChange:t,placeholder:"123 Main St"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(g,{label:"City",id:"city",name:"city",required:!0,value:s.city,onChange:t,placeholder:"Anytown"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"state",name:"state",required:!0,value:s.state||"",onChange:j=>S(j.target.name,j.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),l.map(j=>e.jsx("option",{value:j,children:j},j))]})]}),e.jsxs("div",{children:[e.jsx(g,{label:"ZIP Code",id:"zip",name:"zip",required:!0,value:s.zip,onChange:t,placeholder:"12345"}),R(s.zip)&&e.jsx(T,{message:"Standard ZIP is 5 digits."})]})]}),!b.hidden&&e.jsx(q,{label:"Lived at this residence for 3 years or more?",name:"residence-3-years",options:o,value:w,onChange:t,horizontal:!0,required:b.required})]}),e.jsx("div",{className:"mt-6 animate-in fade-in",children:e.jsx(L,{listKey:"previousAddresses",title:"Previous Addresses (Past 3 Years)",formData:s,updateFormData:t,initialItemState:{street:"",city:"",state:"",zip:"",startDate:"",endDate:""},addButtonLabel:"Add Previous Address",renderRow:(j,A,P)=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Address",id:`prev-street-${j}`,name:"street",value:A.street,onChange:(I,$)=>P("street",$),placeholder:"123 Old St",required:!0}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(g,{label:"City",id:`prev-city-${j}`,name:"city",value:A.city,onChange:(I,$)=>P("city",$),placeholder:"City",required:!0}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:`prev-state-${j}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:`prev-state-${j}`,name:"state",value:A.state||"",onChange:I=>P("state",I.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),l.map(I=>e.jsx("option",{value:I,children:I},I))]})]}),e.jsx(g,{label:"ZIP Code",id:`prev-zip-${j}`,name:"zip",value:A.zip,onChange:(I,$)=>P("zip",$),placeholder:"Zip",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(g,{label:"From Date",id:`prev-start-${j}`,name:"startDate",type:"month",value:A.startDate,onChange:(I,$)=>P("startDate",$),required:!0}),e.jsx(g,{label:"To Date",id:`prev-end-${j}`,name:"endDate",type:"month",value:A.endDate,onChange:(I,$)=>P("endDate",$),required:!0})]})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end pt-6 space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsx("button",{type:"button",name:"submit-partial",onClick:d,className:"w-full sm:w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Save as Draft"}),e.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Continue"})]})]})},Re=({formData:s,updateFormData:t,onNavigate:c})=>{const d=V,l=s["drug-test-positive"]==="yes",h=J;return e.jsxs("div",{id:"page-2",className:"form-step space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 2 of 9: Qualification Information"}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"General Qualifications"}),e.jsx(q,{label:"Legally eligible to work in the U.S.?",name:"legal-work",options:d,value:s["legal-work"],onChange:t,required:!0}),e.jsx(q,{label:"Can you read, write, speak and understand English?",name:"english-fluency",options:d,value:s["english-fluency"],onChange:t,required:!0})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Drug & Alcohol History"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Have you ever tested positive, or refused to test on a pre-employment drug or alcohol test by an employer to whom you applied, but did not obtain safety-sensitive transportation work covered by DOT drug and alcohol testing regulations, or have you ever tested positive or refused to test on any DOT-mandated drug or alcohol test?"}),e.jsx(q,{label:"Drug and alcohol positive tests or refusals?",name:"drug-test-positive",options:d,value:s["drug-test-positive"],onChange:t,required:!0}),l&&e.jsxs("div",{id:"drug-test-details",className:"space-y-2 pt-4 border-t border-gray-200",children:[e.jsx("label",{htmlFor:"drug-test-explanation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Please explain:"}),e.jsx("textarea",{id:"drug-test-explanation",name:"drug-test-explanation",rows:"3",value:s["drug-test-explanation"]||"",onChange:p=>t(p.target.name,p.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx(q,{label:"Can you provide documentation, if requested, that confirms successful completion of the DOT return to duty process?",name:"dot-return-to-duty",options:d,value:s["dot-return-to-duty"],onChange:t,required:!0})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Commercial Experience"}),e.jsx(q,{label:"Years of commercial driving experience?",name:"experience-years",options:h,value:s["experience-years"],onChange:t,required:!0,horizontal:!1})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:()=>c("back"),className:"w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsx("button",{type:"button",onClick:()=>c("next"),className:"w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Continue"})]})]})},_=({label:s,value:t,onUpload:c,onChange:d,name:l,required:h=!1,accept:p="image/*,application/pdf"})=>{const[n,r]=E.useState("idle"),[a,x]=E.useState(0),[b,f]=E.useState(null),w=E.useRef(null),N=!!t,o=t?.name||(typeof t=="string"?"Uploaded File":null),v=t?.url||(typeof t=="string"?t:null),S=o?.match(/\.(jpg|jpeg|png|gif|webp)$/i)||typeof t=="string",m=async y=>{const k=y.target.files?.[0];if(!k)return;r("uploading"),x(10),f(null);const R=setInterval(()=>{x(T=>T>=90?90:T+Math.random()*10)},200);try{const T=await c(l,k);clearInterval(R),x(100),r("success"),d(l,T),setTimeout(()=>{r("idle")},1e3)}catch(T){clearInterval(R),console.error("Upload failed in component:",T),r("error"),f("Upload failed. Please try again."),x(0)}},i=()=>{w.current?.click()},u=y=>{y.preventDefault(),y.stopPropagation(),confirm("Are you sure you want to remove this file?")&&(d(l,null),r("idle"),x(0),w.current&&(w.current.value=""))};return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s," ",h&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n==="error"&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg animate-in fade-in slide-in-from-top-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[e.jsx(X,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:b})]}),e.jsxs("button",{type:"button",onClick:i,className:"px-3 py-1 bg-white border border-red-200 text-red-600 text-xs font-bold rounded shadow-sm hover:bg-gray-50 flex items-center gap-1",children:[e.jsx(ee,{size:12})," Retry"]})]}),n==="uploading"&&e.jsxs("div",{className:"p-4 border border-blue-200 bg-blue-50/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs font-semibold text-blue-700 mb-1",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${a}%`}})})]}),N&&n!=="uploading"&&n!=="error"&&e.jsxs("div",{className:"group relative flex items-center p-3 border border-green-200 bg-green-50/30 rounded-lg hover:bg-green-50 transition-all",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center text-green-600 mr-3 overflow-hidden",children:S&&v?e.jsx("img",{src:v,alt:"Preview",className:"h-full w-full object-cover"}):e.jsx(ue,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:o}),e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(Y,{size:12})," Uploaded Successfully"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"View File",children:e.jsx(Ae,{size:18})}),e.jsx("button",{type:"button",onClick:u,className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove File",children:e.jsx(se,{size:18})})]})]}),!N&&n!=="uploading"&&e.jsxs("div",{onClick:()=>w.current?.click(),className:`cursor-pointer border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-gray-50 transition-colors ${n==="error"?"border-red-300":"border-gray-300 hover:border-blue-400"}`,children:[e.jsx("div",{className:"h-10 w-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-2",children:e.jsx(xe,{size:20})}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to upload"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.includes("image")?"PDF, PNG, JPG accepted":"Files accepted"})]}),e.jsx("input",{ref:w,type:"file",name:l,className:"hidden",accept:p,onChange:m})]})},ze=({formData:s,updateFormData:t,handleFileUpload:c,onNavigate:d,isUploading:l})=>{const{states:h}=B(),{currentCompanyProfile:p}=O(),n=p,r=(i,u=!0)=>{const y=n?.applicationConfig?.[i];return{hidden:y?.hidden||!1,required:y!==void 0?y.required:u}},a=r("cdlUpload",!0),x=r("medCardUpload",!1),b=ie,f=oe,w=V,N=(s.endorsements||"").split(",").filter(i=>i),o=i=>{const u=i.target.value;let y;i.target.checked?y=[...N,u]:y=N.filter(k=>k!==u),t("endorsements",y.join(","))},v=(i,u)=>{t(i,u)},S=()=>{const i=document.getElementById("driver-form");if(i&&!i.checkValidity()){i.reportValidity();return}d("next")},m=s["has-twic"]==="yes";return e.jsxs("div",{id:"page-3",className:"form-step space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 3 of 9: License Information"}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Current License Information"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"cdl-state",className:"block text-sm font-medium text-gray-700 mb-1",children:["License State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"cdl-state",name:"cdlState",required:!0,value:s.cdlState||"",onChange:i=>v(i.target.name,i.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),h.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsx(q,{label:"License Class",name:"cdlClass",options:b,value:s.cdlClass,onChange:t,required:!0,horizontal:!1}),e.jsx(g,{label:"License Number",id:"cdl-number",name:"cdlNumber",required:!0,value:s.cdlNumber,onChange:t}),e.jsx(g,{label:"License Expiration",id:"cdl-expiration",name:"cdlExpiration",type:"date",required:!0,value:s.cdlExpiration,onChange:t}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Endorsements"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(i=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"endorse-"+i.value,name:"endorsements",value:i.value,type:"checkbox",checked:N.includes(i.value),onChange:o,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"endorse-"+i.value,className:"ml-2 text-sm text-gray-700",children:i.label})]},i.value))})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx(q,{label:"Have you held a license in any other state in the past 3 years?",name:"has-other-licenses",options:w,value:s["has-other-licenses"],onChange:t,required:!0}),s["has-other-licenses"]==="yes"&&e.jsxs("div",{className:"mt-4 animate-in fade-in",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Additional Licenses (Past 3 Years)"}),e.jsx(L,{listKey:"additionalLicenses",formData:s,updateFormData:t,initialItemState:{state:"",number:"",class:"A",expiration:""},addButtonLabel:"Add Another License",renderRow:(i,u,y)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:`add-lic-state-${i}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:`add-lic-state-${i}`,name:"state",value:u.state||"",onChange:k=>y("state",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),h.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsx(g,{label:"License Number",id:`add-lic-number-${i}`,name:"number",value:u.number,onChange:(k,R)=>y("number",R),placeholder:"License #",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:`add-lic-class-${i}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Class ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:`add-lic-class-${i}`,name:"class",value:u.class||"A",onChange:k=>y("class",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",required:!0,children:b.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]}),e.jsx(g,{label:"Expiration Date",id:`add-lic-exp-${i}`,name:"expiration",type:"date",value:u.expiration,onChange:(k,R)=>y("expiration",R),required:!0})]})]})})]})]}),!a.hidden&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsx(_,{label:"Upload CDL (Front)",name:"cdl-front",value:s["cdl-front"],onUpload:c,onChange:(i,u)=>t(i,u),required:a.required&&!s["cdl-front"]}),e.jsx(_,{label:"Upload CDL (Back)",name:"cdl-back",value:s["cdl-back"],onUpload:c,onChange:(i,u)=>t(i,u),required:a.required&&!s["cdl-back"]})]}),!x.hidden&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx(_,{label:"Upload Medical Card",name:"medical-card-upload",value:s["medical-card-upload"],onUpload:c,onChange:(i,u)=>t(i,u),required:x.required&&!s["medical-card-upload"]})})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"TWIC Card"}),e.jsx(q,{label:"Do you have a TWIC (Transportation Worker Identification Credential) card?",name:"has-twic",options:w,value:s["has-twic"],onChange:t,required:!0}),m&&e.jsxs("div",{id:"twic-card-details",className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsx(g,{label:"Expiration Date",id:"twic-expiration",name:"twicExpiration",type:"date",value:s.twicExpiration,onChange:t}),e.jsx(_,{label:"Upload TWIC Card",name:"twic-card-upload",value:s["twic-card-upload"],onUpload:c,onChange:(i,u)=>t(i,u)})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:()=>d("back"),className:"w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsx("button",{type:"button",onClick:S,disabled:l,className:"w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:l?"Uploading...":"Continue"})]})]})},Me=({formData:s,updateFormData:t,handleFileUpload:c,onNavigate:d})=>{const{currentCompanyProfile:l}=O(),h=V,p={date:"",charge:"",location:"",penalty:""},n=()=>{const a=document.getElementById("driver-form");if(a&&!a.checkValidity()){a.reportValidity();return}d("next")},r=(a,x,b)=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(g,{label:"Date of Conviction",id:"violation-date-"+a,name:"date",type:"date",value:x.date,onChange:b,required:!0}),e.jsx(g,{label:"Charge",id:"violation-charge-"+a,name:"charge",value:x.charge,onChange:b,required:!0}),e.jsx(g,{label:"Location (City, State)",id:"violation-location-"+a,name:"location",value:x.location,onChange:b,className:"sm:col-span-2"}),e.jsx(g,{label:"Penalty",id:"violation-penalty-"+a,name:"penalty",value:x.penalty,onChange:b,className:"sm:col-span-2"})]},a);return e.jsxs("div",{id:"page-4",className:"form-step space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 4 of 9: Motor Vehicle Record"}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Consent & Revocations"}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Motor Vehicle Record (MVR) Check"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This is required for employment. We will pull your driving record from all states where you have held a license in the past 3 years."}),e.jsx(q,{label:"I Consent to MVR Check",name:"consent-mvr",options:h,value:s["consent-mvr"],onChange:t,required:!0})]}),e.jsx(q,{label:"Has any license, permit or privilege ever been denied, suspended, or revoked for any reason?",name:"revoked-licenses",options:h,value:s["revoked-licenses"],onChange:t,required:!0}),s["revoked-licenses"]==="yes"&&e.jsxs("div",{className:"pt-2 animate-in fade-in slide-in-from-top-1",children:[e.jsxs("label",{htmlFor:"revocation-explanation",className:"block text-sm font-medium text-gray-700 mb-1",children:["Please provide details (date, location, circumstances): ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"revocation-explanation",name:"revocationExplanation",rows:"3",required:!0,value:s.revocationExplanation||"",onChange:a=>t(a.target.name,a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Provide details here..."})]}),e.jsx(q,{label:"Have you ever been convicted of driving during license suspension or revocation, or driving without a valid license or an expired license, or are any charges pending?",name:"driving-convictions",options:h,value:s["driving-convictions"],onChange:t,required:!0}),s["driving-convictions"]==="yes"&&e.jsxs("div",{className:"pt-2 animate-in fade-in slide-in-from-top-1",children:[e.jsxs("label",{htmlFor:"conviction-explanation",className:"block text-sm font-medium text-gray-700 mb-1",children:["Please provide details (date, location, circumstances): ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"conviction-explanation",name:"convictionExplanation",rows:"3",required:!0,value:s.convictionExplanation||"",onChange:a=>t(a.target.name,a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Provide details here..."})]}),e.jsx(q,{label:"Have you ever been convicted for any alcohol or controlled substance related offense while operating a motor vehicle, or are any charges pending?",name:"drug-alcohol-convictions",options:h,value:s["drug-alcohol-convictions"],onChange:t,required:!0}),s["drug-alcohol-convictions"]==="yes"&&e.jsxs("div",{className:"pt-2 animate-in fade-in slide-in-from-top-1",children:[e.jsxs("label",{htmlFor:"drug-conviction-explanation",className:"block text-sm font-medium text-gray-700 mb-1",children:["Please provide details (date, location, circumstances): ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"drug-conviction-explanation",name:"drugConvictionExplanation",rows:"3",required:!0,value:s.drugConvictionExplanation||"",onChange:a=>t(a.target.name,a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Provide details here..."})]})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Moving Violations (Past 3 Years)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please list all moving violations or traffic convictions within the past 3 years (whether in a personal or commercial vehicle)."}),e.jsx(L,{listKey:"violations",formData:s,updateFormData:t,renderRow:r,initialItemState:p,addButtonLabel:"+ Add Violation"})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:()=>d("back"),className:"w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsx("button",{type:"button",onClick:n,className:"w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Continue"})]})]})},Le=({formData:s,updateFormData:t,onNavigate:c})=>{const{states:d}=B(),l=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],h={date:"",city:"",state:"",commercial:"no",details:"",preventable:"no"},p=(n,r,a)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{label:"Date of Accident",id:"accident-date-"+n,name:"date",type:"date",value:r.date,onChange:a,required:!0}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(g,{label:"City",id:"accident-city-"+n,name:"city",value:r.city,onChange:a,required:!0}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"accident-state-"+n,className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"accident-state-"+n,name:"state",required:!0,value:r.state||"",onChange:x=>a(x.target.name,x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),d.map(x=>e.jsx("option",{value:x,children:x},x))]})]})]}),e.jsx(q,{label:"Were you in a commercial vehicle?",name:"commercial",options:l,value:r.commercial,onChange:(x,b)=>a(x,b),required:!0,horizontal:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"accident-details-"+n,className:"block text-sm font-medium text-gray-700 mb-1",children:["Accident details ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"accident-details-"+n,name:"details",rows:"3",value:r.details||"",onChange:x=>a(x.target.name,x.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx(q,{label:"Was this accident preventable?",name:"preventable",options:l,value:r.preventable,onChange:(x,b)=>a(x,b),required:!0,horizontal:!0})]},n);return e.jsxs("div",{id:"page-5",className:"form-step space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 5 of 9: Accident History"}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Accident History (Past 3 Years)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please list all motor vehicle accidents in which you were involved in the past 3 years."}),e.jsx(L,{listKey:"accidents",formData:s,updateFormData:t,renderRow:p,initialItemState:h,addButtonLabel:"+ Add Accident"})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:()=>c("back"),className:"w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsx("button",{type:"button",onClick:()=>c("next"),className:"w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Continue"})]})]})},Oe=({formData:s,updateFormData:t,onNavigate:c})=>{const{states:d}=B(),{currentCompanyProfile:l}=O(),h=l,p=V,r=((m,i=!0)=>{const u=h?.applicationConfig?.[m];return{hidden:u?.hidden||!1,required:u!==void 0?u.required:i}})("employmentHistory",!0),a={name:"",street:"",city:"",state:"",phone:"",position:"",startDate:"",endDate:"",reason:""},x={name:"",startDate:"",endDate:"",location:""},b={startDate:"",endDate:"",details:""},f={branch:"",start:"",end:"",rank:"",heavyEq:"no",honorable:"yes",explanation:""},w=()=>{const m=document.getElementById("driver-form");if(m&&!m.checkValidity()){m.reportValidity();return}c("next")},N=(m,i,u)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{label:"Company Name",id:"emp-name-"+m,name:"name",value:i.name,onChange:u,required:r.required}),e.jsx(g,{label:"Street Address",id:"emp-street-"+m,name:"street",value:i.street,onChange:u,required:r.required}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(g,{label:"City",id:"emp-city-"+m,name:"city",value:i.city,onChange:u,required:r.required}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"emp-state-"+m,className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",r.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"emp-state-"+m,name:"state",required:r.required,value:i.state||"",onChange:y=>u(y.target.name,y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),d.map(y=>e.jsx("option",{value:y,children:y},y))]})]}),e.jsx(g,{label:"Phone",id:"emp-phone-"+m,name:"phone",type:"tel",value:i.phone,onChange:u})]}),e.jsx(g,{label:"Position Held",id:"emp-position-"+m,name:"position",value:i.position,onChange:u}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(g,{label:"Start Date",id:"emp-start-"+m,name:"startDate",type:"date",value:i.startDate,onChange:u,required:r.required}),e.jsx(g,{label:"End Date",id:"emp-end-"+m,name:"endDate",type:"date",value:i.endDate,onChange:u,required:r.required})]}),e.jsx(g,{label:"Reason for Leaving",id:"emp-reason-"+m,name:"reason",value:i.reason,onChange:u})]},m),o=(m,i,u)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{label:"School Name",id:"school-name-"+m,name:"name",value:i.name,onChange:u,required:!0}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(g,{label:"Start Date",id:"school-start-"+m,name:"startDate",type:"date",value:i.startDate,onChange:u,required:!0}),e.jsx(g,{label:"End Date",id:"school-end-"+m,name:"endDate",type:"date",value:i.endDate,onChange:u,required:!0})]}),e.jsx(g,{label:"Location (City, State)",id:"school-location-"+m,name:"location",value:i.location,onChange:u})]},m),v=(m,i,u)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{label:"Start Date (mm/yyyy)",id:"unemp-start-"+m,name:"startDate",value:i.startDate,onChange:u,required:!0}),e.jsx(g,{label:"End Date (mm/yyyy)",id:"unemp-end-"+m,name:"endDate",value:i.endDate,onChange:u,required:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"unemp-details-"+m,className:"block text-sm font-medium text-gray-700 mb-1",children:"Details related to unemployment period"}),e.jsx("textarea",{id:"unemp-details-"+m,name:"details",rows:"3",value:i.details||"",onChange:y=>u(y.target.name,y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},m),S=(m,i,u)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(q,{label:"Branch of Service",name:"branch",options:ce,value:i.branch,onChange:(y,k)=>u(y,k),required:!0,horizontal:!1}),e.jsx(g,{label:"Start Date (mm/yyyy)",id:"mil-start-"+m,name:"start",value:i.start,onChange:u,required:!0}),e.jsx(g,{label:"End Date (mm/yyyy)",id:"mil-end-"+m,name:"end",value:i.end,onChange:u,required:!0}),e.jsx(g,{label:"Rank of Discharge",id:"mil-rank-"+m,name:"rank",value:i.rank,onChange:u,required:!0}),e.jsx(q,{label:"Did you operate heavy equipment/machinery?",name:"heavyEq",options:p,value:i.heavyEq,onChange:(y,k)=>u(y,k)}),e.jsx(q,{label:"Did you receive an honorable discharge?",name:"honorable",options:p,value:i.honorable,onChange:(y,k)=>u(y,k)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"mil-explain-"+m,className:"block text-sm font-medium text-gray-700 mb-1",children:"Please explain"}),e.jsx("textarea",{id:"mil-explain-"+m,name:"explanation",rows:"3",value:i.explanation||"",onChange:y=>u(y.target.name,y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},m);return e.jsxs("div",{id:"page-6",className:"form-step space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 6 of 9: Employment History"}),e.jsx("p",{className:"text-sm text-gray-600",children:"To comply with DOT regulations (49 CFR 391.21), please provide a complete **10-year employment history**. This includes all employers (commercial driving and non-driving), periods of unemployment, military service, and driving schools. Failure to provide a complete 10-year history may delay your application."}),!r.hidden&&e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Previous Employers"}),e.jsx(L,{listKey:"employers",formData:s,updateFormData:t,renderRow:N,initialItemState:a,addButtonLabel:"+ Add Employer"})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Employment Gaps"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please explain any gaps in employment of 30 days or more."}),e.jsx(L,{listKey:"unemployment",formData:s,updateFormData:t,renderRow:v,initialItemState:b,addButtonLabel:"+ Add Employment Gap"})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Driving Schools"}),e.jsx(L,{listKey:"schools",formData:s,updateFormData:t,renderRow:o,initialItemState:x,addButtonLabel:"+ Add Driving School"})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Military Service"}),e.jsx(L,{listKey:"military",formData:s,updateFormData:t,renderRow:S,initialItemState:f,addButtonLabel:"+ Add Military Service"})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:()=>c("back"),className:"w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsx("button",{type:"button",onClick:w,className:"w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Continue"})]})]})},Be=({question:s,index:t,formData:c,onAnswerChange:d,onCheckboxChange:l,handleFileUpload:h})=>{const p=c.customAnswers&&c.customAnswers[s.id||s]||"";if(typeof s=="string")return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[s," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",value:p,onChange:r=>d(s,r.target.value),required:!0})]},t);const n=s;switch(n.type){case"paragraph":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",rows:4,value:p,onChange:r=>d(n.id,r.target.value),required:n.required})]},n.id);case"shortAnswer":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:r=>d(n.id,r.target.value),required:n.required})]},n.id);case"multipleChoice":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsx("div",{className:"space-y-2",children:n.options?.map((r,a)=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:n.id,value:r,checked:p===r,onChange:x=>d(n.id,x.target.value),required:n.required,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700",children:r})]},a))})]},n.id);case"checkboxes":{const r=Array.isArray(p)?p:[];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsx("div",{className:"space-y-2",children:n.options?.map((a,x)=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:r.includes(a),onChange:()=>l(n.id,a),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},x))})]},n.id)}case"dropdown":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:r=>d(n.id,r.target.value),required:n.required,children:[e.jsx("option",{value:"",children:"Select an option..."}),n.options?.map((r,a)=>e.jsx("option",{value:r,children:r},a))]})]},n.id);case"date":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{size:18,className:"absolute left-3 top-3.5 text-gray-400"}),e.jsx("input",{type:"date",className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:r=>d(n.id,r.target.value),required:n.required})]})]},n.id);case"time":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{size:18,className:"absolute left-3 top-3.5 text-gray-400"}),e.jsx("input",{type:"time",className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:r=>d(n.id,r.target.value),required:n.required})]})]},n.id);case"fileUpload":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 bg-gray-50 text-center hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"file",id:`file-${n.id}`,className:"hidden",required:n.required&&!p,onChange:r=>{h&&h(n.id,r.target.files[0]),d(n.id,r.target.files[0]?.name||"")}}),e.jsxs("label",{htmlFor:`file-${n.id}`,className:"cursor-pointer flex flex-col items-center",children:[e.jsx(G,{size:24,className:"text-blue-500 mb-2"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Click to upload file"}),p&&e.jsxs("span",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",p]})]})]})]},n.id);case"linearScale":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:[n.label," ",n.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),n.helpText&&e.jsx("p",{className:"text-xs text-gray-500",children:n.helpText}),e.jsxs("div",{className:"flex items-center justify-between gap-4 max-w-md mx-auto py-2",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:n.minLabel||"Min"}),e.jsx("div",{className:"flex gap-4",children:[1,2,3,4,5].map(r=>e.jsxs("label",{className:"flex flex-col items-center gap-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:n.id,value:r,checked:Number(p)===r,onChange:a=>d(n.id,Number(a.target.value)),required:n.required,className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-600",children:r})]},r))}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:n.maxLabel||"Max"})]})]},n.id);default:return null}},Ue=({formData:s,updateFormData:t,states:c})=>e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Business Information (Owner-Operators)"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Employer ID Number (EIN)",id:"ein",name:"ein",value:s.ein,onChange:t}),e.jsx(g,{label:"Driver Initials",id:"driver-initials",name:"driverInitials",value:s.driverInitials,onChange:t,required:!0})]}),e.jsx(g,{label:"Business Name",id:"business-name",name:"businessName",value:s.businessName,onChange:t}),e.jsx(g,{label:"Business Street",id:"business-street",name:"businessStreet",value:s.businessStreet,onChange:t}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(g,{label:"City",id:"business-city",name:"businessCity",value:s.businessCity,onChange:t}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business-state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),e.jsxs("select",{id:"business-state",name:"businessState",value:s.businessState||"",onChange:d=>t(d.target.name,d.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:[e.jsx("option",{value:"",disabled:!0,children:"Select State"}),c.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsx(g,{label:"ZIP Code",id:"business-zip",name:"businessZip",value:s.businessZip,onChange:t})]})]}),Ve=({formData:s,updateFormData:t,milesOptions:c,expOptions:d})=>e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Experience by Vehicle Type"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exp-straight-truck-miles",className:"block text-sm font-medium text-gray-700 mb-1",children:"Miles Driven in Straight Truck"}),e.jsx("select",{id:"exp-straight-truck-miles",name:"expStraightTruckMiles",value:s.expStraightTruckMiles||"0",onChange:l=>t(l.target.name,l.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:c.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exp-straight-truck-exp",className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience in Straight Truck"}),e.jsx("select",{id:"exp-straight-truck-exp",name:"expStraightTruckExp",value:s.expStraightTruckExp||"<6 months",onChange:l=>t(l.target.name,l.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:d.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exp-semi-trailer-miles",className:"block text-sm font-medium text-gray-700 mb-1",children:"Miles Driven in Tractor + Semi Trailer"}),e.jsx("select",{id:"exp-semi-trailer-miles",name:"expSemiTrailerMiles",value:s.expSemiTrailerMiles||"0",onChange:l=>t(l.target.name,l.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:c.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exp-semi-trailer-exp",className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience in Tractor + Semi Trailer"}),e.jsx("select",{id:"exp-semi-trailer-exp",name:"expSemiTrailerExp",value:s.expSemiTrailerExp||"<6 months",onChange:l=>t(l.target.name,l.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:d.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exp-two-trailers-miles",className:"block text-sm font-medium text-gray-700 mb-1",children:"Miles Driven in Tractor + Two Trailers"}),e.jsx("select",{id:"exp-two-trailers-miles",name:"expTwoTrailersMiles",value:s.expTwoTrailersMiles||"0",onChange:l=>t(l.target.name,l.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:c.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exp-two-trailers-exp",className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience in Tractor + Two Trailers"}),e.jsx("select",{id:"exp-two-trailers-exp",name:"expTwoTrailersExp",value:s.expTwoTrailersExp||"<6 months",onChange:l=>t(l.target.name,l.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:d.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]})]})]}),_e=({formData:s,updateFormData:t})=>e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Emergency Contacts"}),e.jsx("h4",{className:"text-base font-medium text-gray-700",children:"Contact #1"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Contact #1 Name",id:"ec1-name",name:"ec1Name",value:s.ec1Name,onChange:t,required:!0}),e.jsx(g,{label:"Contact #1 Phone",id:"ec1-phone",name:"ec1Phone",type:"tel",value:s.ec1Phone,onChange:t,required:!0}),e.jsx(g,{label:"Contact #1 Relationship",id:"ec1-relationship",name:"ec1Relationship",value:s.ec1Relationship,onChange:t,required:!0}),e.jsx(g,{label:"Contact #1 Address",id:"ec1-address",name:"ec1Address",value:s.ec1Address,onChange:t,required:!0})]}),e.jsx("h4",{className:"text-base font-medium text-gray-700 pt-4 border-t border-gray-100",children:"Contact #2 (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Contact #2 Name",id:"ec2-name",name:"ec2Name",value:s.ec2Name,onChange:t}),e.jsx(g,{label:"Contact #2 Phone",id:"ec2-phone",name:"ec2Phone",type:"tel",value:s.ec2Phone,onChange:t}),e.jsx(g,{label:"Contact #2 Relationship",id:"ec2-relationship",name:"ec2Relationship",value:s.ec2Relationship,onChange:t}),e.jsx(g,{label:"Contact #2 Address",id:"ec2-address",name:"ec2Address",value:s.ec2Address,onChange:t})]})]}),He=({formData:s,updateFormData:t,onNavigate:c,handleFileUpload:d,isUploading:l})=>{const{states:h}=B(),{currentCompanyProfile:p}=O(),n=p,r=V,a=de,x=J,b=s["has-felony"]==="yes",f=()=>{const o=document.getElementById("driver-form");if(o&&!o.checkValidity()){o.reportValidity();return}c("next")},w=(o,v)=>{const m={...s.customAnswers||{},[o]:v};t("customAnswers",m)},N=(o,v)=>{const S=s.customAnswers||{},m=Array.isArray(S[o])?S[o]:[];let i;m.includes(v)?i=m.filter(u=>u!==v):i=[...m,v],w(o,i)};return e.jsxs("div",{id:"page-7",className:"form-step space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 7 of 9: Custom Applicant Questions"}),n?.customQuestions?.length>0&&e.jsxs("fieldset",{className:"border border-blue-200 bg-blue-50/30 rounded-lg p-6 space-y-6 shadow-sm",children:[e.jsxs("legend",{className:"text-lg font-bold text-blue-900 px-2 flex items-center gap-2",children:[e.jsx(ge,{size:16,fill:"currentColor",className:"text-blue-200"}),n.companyName||"Company"," Specific Questions"]}),e.jsx("p",{className:"text-sm text-blue-700 px-1 mb-4 border-b border-blue-100 pb-2",children:"Please answer the following questions required by the carrier."}),n.customQuestions.map((o,v)=>e.jsx(Be,{question:o,index:v,formData:s,onAnswerChange:w,onCheckboxChange:N,handleFileUpload:d},o.id||v))]}),(s.positionType==="ownerOperator"||s.positionType==="leaseOperator")&&e.jsx(Ue,{formData:s,updateFormData:t,states:h}),e.jsx(Ve,{formData:s,updateFormData:t,milesOptions:a,expOptions:x}),n?.applicationConfig?.showEmergencyContacts&&e.jsx(_e,{formData:s,updateFormData:t}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:"Felony History"}),e.jsx(q,{label:"Have you ever been convicted of a felony?",name:"has-felony",options:r,value:s["has-felony"],onChange:t,required:!0}),b&&e.jsxs("div",{id:"felony-details",className:"space-y-2 pt-4 border-t border-gray-200",children:[e.jsx("label",{htmlFor:"felony-explanation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Please explain:"}),e.jsx("textarea",{id:"felony-explanation",name:"felonyExplanation",rows:"3",value:s.felonyExplanation||"",onChange:o=>t(o.target.name,o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:()=>c("back"),className:"w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsx("button",{type:"button",onClick:f,className:"w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:"Continue"})]})]})},z=({title:s,icon:t,onEdit:c,children:d})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 px-5 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("h4",{className:"text-base font-bold text-gray-800 flex items-center gap-2",children:[t&&e.jsx(t,{size:18,className:"text-blue-600"}),s]}),e.jsxs("button",{type:"button",onClick:c,className:"flex items-center gap-1 text-gray-500 hover:text-blue-600 hover:bg-white px-3 py-1.5 rounded-lg border border-transparent hover:border-gray-200 transition-all text-xs font-bold uppercase tracking-wide",title:`Edit ${s}`,children:[e.jsx(ye,{size:14})," Edit"]})]}),e.jsx("div",{className:"p-5 grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:d})]}),C=({label:s,value:t,className:c="",fullWidth:d=!1})=>t==null||t===""?null:e.jsxs("div",{className:`flex flex-col ${d?"col-span-1 md:col-span-2":""} ${c}`,children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:s}),e.jsx("span",{className:"text-sm text-gray-900 font-medium break-words whitespace-pre-wrap",children:t})]}),H=({items:s,renderItem:t,emptyText:c="None recorded"})=>!s||s.length===0?e.jsx("p",{className:"text-sm text-gray-400 italic col-span-2",children:c}):e.jsx("div",{className:"col-span-2 space-y-2",children:s.map((d,l)=>e.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-100 text-sm text-gray-700",children:t(d,l)},l))}),We=({formData:s,onNavigate:t})=>{const c=l=>{t(l)},d=l=>{const h=s[l];return h&&h.name?` ${h.name} (Uploaded)`:null};return e.jsxs("div",{id:"page-8",className:"form-step space-y-8 animate-in fade-in duration-500",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Review & Confirm"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Please ensure all details are accurate before signing."})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-xl flex items-start gap-3",children:[e.jsx(te,{className:"text-green-600 mt-0.5",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-green-800 font-bold",children:"Almost Done!"}),e.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Review your application below. If you need to make changes, tap the ",e.jsx("strong",{children:"Edit"})," button on any section."]})]})]}),e.jsxs(z,{title:"Personal Information",icon:re,onEdit:()=>c(0),children:[e.jsx(C,{label:"Full Name",value:`${s.firstName} ${s.middleName||""} ${s.lastName} ${s.suffix||""}`}),e.jsx(C,{label:"Date of Birth",value:s.dob}),e.jsx(C,{label:"SSN",value:s.ssn}),e.jsx(C,{label:"Phone",value:s.phone}),e.jsx(C,{label:"Email",value:s.email}),e.jsx(C,{label:"Referral Source",value:s.referralSource}),s["known-by-other-name"]==="yes"&&e.jsx(C,{label:"Other Names",value:s.otherName,fullWidth:!0})]}),e.jsxs(z,{title:"Address History",icon:ne,onEdit:()=>c(0),children:[e.jsx(C,{label:"Current Address",value:`${s.street||""}, ${s.city||""}, ${s.state||""} ${s.zip||""}`,fullWidth:!0}),e.jsx(C,{label:"3+ Years at Current?",value:s["residence-3-years"]==="yes"?"Yes":"No"}),s["residence-3-years"]==="no"&&e.jsx(C,{label:"Previous Address",value:`${s.prevStreet}, ${s.prevCity}, ${s.prevState} ${s.prevZip}`,fullWidth:!0,className:"mt-2 pt-2 border-t border-gray-100"})]}),e.jsxs(z,{title:"Qualifications",icon:he,onEdit:()=>c(1),children:[e.jsx(C,{label:"Legal to Work in U.S.",value:s["legal-work"]==="yes"?"Yes":"No"}),e.jsx(C,{label:"English Fluency",value:s["english-fluency"]==="yes"?"Fluent":"Not Fluent"}),e.jsx(C,{label:"Commercial Experience",value:s["experience-years"]}),e.jsx(C,{label:"Drug Test History",value:s["drug-test-positive"]==="yes"?"Positive/Refusal Record":"No Issues"}),e.jsx(C,{label:"Return to Duty",value:s["dot-return-to-duty"]})]}),e.jsxs(z,{title:"License & Credentials",icon:Ie,onEdit:()=>c(2),children:[e.jsx(C,{label:"License Number",value:s.cdlNumber}),e.jsx(C,{label:"State & Class",value:`${s.cdlState} (Class ${s.cdlClass})`}),e.jsx(C,{label:"Expiration Date",value:s.cdlExpiration}),e.jsx(C,{label:"Endorsements",value:s.endorsements||"None",fullWidth:!0}),e.jsx("div",{className:"col-span-2 border-t border-gray-100 mt-2 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx(C,{label:"TWIC Card",value:s["has-twic"]==="yes"?`Yes (Exp: ${s.twicExpiration})`:"No"})}),e.jsxs("div",{className:"col-span-2 border-t border-gray-100 mt-2 pt-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Uploaded Documents"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[d("cdl-front"),d("cdl-back"),d("medical-card-upload"),d("twic-card-upload")].map((l,h)=>l&&e.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-medium border border-blue-100",children:l},h))})]})]}),e.jsxs(z,{title:"Driving History",icon:X,onEdit:()=>c(3),children:[e.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4 mb-4",children:[e.jsx(C,{label:"License Revoked?",value:s["revoked-licenses"]==="yes"?"YES":"No"}),e.jsx(C,{label:"Suspended Convictions?",value:s["driving-convictions"]==="yes"?"YES":"No"}),e.jsx(C,{label:"Drug/Alcohol Issues?",value:s["drug-alcohol-convictions"]==="yes"?"YES":"No"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Moving Violations (3 Years)"}),e.jsx(H,{items:s.violations,renderItem:l=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold",children:l.charge}),e.jsxs("span",{className:"text-gray-500",children:[l.date," (",l.location,")"]})]})})]})]}),e.jsx(z,{title:"Accident History",icon:le,onEdit:()=>c(4),children:e.jsx("div",{className:"col-span-2",children:e.jsx(H,{items:s.accidents,renderItem:l=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsxs("span",{children:[l.city,", ",l.state]}),e.jsx("span",{children:l.date})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:l.details}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Preventable: ",l.preventable," | Commercial: ",l.commercial]})]}),emptyText:"No accidents listed in the past 3 years."})})}),e.jsx(z,{title:"Work History",icon:ae,onEdit:()=>c(5),children:e.jsxs("div",{className:"col-span-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Employers"}),e.jsx(H,{items:s.employers,renderItem:l=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between font-bold text-gray-900",children:[e.jsx("span",{children:l.name}),e.jsx("span",{className:"text-xs bg-gray-200 px-2 py-0.5 rounded",children:l.dates})]}),e.jsx("p",{className:"text-gray-600",children:l.position})]})})]}),s.unemployment&&s.unemployment.length>0&&e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Unemployment Gaps"}),e.jsx(H,{items:s.unemployment,renderItem:l=>e.jsxs("span",{children:[l.startDate," - ",l.endDate,": ",l.details]})})]})]})}),e.jsxs(z,{title:"Operations & Compliance",icon:be,onEdit:()=>c(6),children:[s.businessName&&e.jsx("div",{className:"col-span-2 bg-gray-50 p-3 rounded mb-2 border border-gray-200",children:e.jsx(C,{label:"Owner Operator Info",value:`${s.businessName} (EIN: ${s.ein})`,fullWidth:!0})}),e.jsx(C,{label:"Straight Truck Exp",value:`${s.expStraightTruckExp} yrs`}),e.jsx(C,{label:"Semi-Trailer Exp",value:`${s.expSemiTrailerExp} yrs`}),e.jsx(C,{label:"Emergency Contact",value:`${s.ec1Name} (${s.ec1Relationship}) - ${s.ec1Phone}`,fullWidth:!0}),e.jsx("div",{className:"col-span-2 pt-2 mt-2 border-t border-gray-100",children:e.jsx(C,{label:"Felony History",value:s["has-felony"]==="yes"?`YES - ${s.felonyExplanation}`:"No Felony Convictions",className:s["has-felony"]==="yes"?"text-red-600 font-bold":"",fullWidth:!0})})]}),e.jsxs("div",{className:"flex justify-between pt-6 pb-12",children:[e.jsx("button",{type:"button",onClick:()=>t("back"),className:"w-auto px-6 py-3 bg-white text-gray-700 font-bold rounded-lg shadow-sm border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200",children:"Back"}),e.jsxs("button",{type:"button",onClick:()=>t("next"),className:"w-auto px-8 py-3 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition duration-200 flex items-center gap-2",children:["Confirm & Proceed ",e.jsx(me,{size:18})]})]})]})},W=({contentId:s,companyData:t,children:c,showCheckbox:d=!0,checkboxName:l,checkboxLabel:h,checkboxDescription:p,required:n=!1,formData:r,updateFormData:a})=>{const{initializeFormBranding:x}=B(),b=E.useRef(null);E.useEffect(()=>{t&&b.current&&x(t)},[t,x,c]);const f=w=>{a(l,w.target.checked?"agreed":"")};return e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold text-gray-800 px-2",children:s}),e.jsx("div",{className:"agreement-box",children:e.jsx("div",{ref:b,className:"prose prose-sm max-w-none text-gray-700",children:c})}),d&&e.jsxs("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("input",{id:l,name:l,type:"checkbox",checked:r[l]==="agreed",onChange:f,required:n,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsxs("label",{htmlFor:l,className:"font-medium text-gray-800",children:[h," ",n&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-gray-600",children:p})]})]})]})},Ye=({formData:s,updateFormData:t,onNavigate:c,onFinalSubmit:d,isSubmitting:l,isUploading:h})=>{const{currentCompanyProfile:p}=O(),n=p,r=E.useRef(null),[a,x]=E.useState(!!s.signature),b=s["final-certification"]==="agreed";E.useEffect(()=>{K()},[]);const f=o=>{t("final-certification",o.target.checked?"agreed":"")},w=()=>{const o=je();if(!o||o.length<100){alert("Please draw your signature first.");return}t("signature",o),t("signatureType","drawn"),t("signatureDate",new Date().toISOString()),x(!0)},N=()=>{const o=r.current||document.getElementById("signature-canvas");o&&o.getContext("2d").clearRect(0,0,o.width,o.height),F(),t("signature",""),x(!1)};return e.jsxs("div",{id:"page-9",className:"form-step space-y-6",children:[e.jsx("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap');"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 9 of 9: Agreements & Signature"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(W,{contentId:"Agreement to Conduct Transaction Electronically",companyData:n,formData:s,updateFormData:t,checkboxName:"agree-electronic",checkboxLabel:"I Agree",checkboxDescription:"I have read, understood, and agree to the terms of transacting electronically.",required:!0,children:e.jsxs("p",{children:["This electronic transaction service is provided on behalf of ",e.jsx("strong",{className:"company-name-placeholder",children:n?.companyName||"The Company"}),". You are agreeing to receive notices electronically and provide electronic signatures."]})}),e.jsx(W,{contentId:"Background Check Disclosure",companyData:n,formData:s,updateFormData:t,checkboxName:"agree-background-check",checkboxLabel:"I Acknowledge and Authorize",checkboxDescription:"I have read, understood, and agree to the Background Check Disclosure.",required:!0,children:e.jsx("p",{children:"In connection with your application for employment, a consumer report may be requested about you."})}),e.jsx(W,{contentId:"FMCSA PSP Authorization",companyData:n,formData:s,updateFormData:t,checkboxName:"agree-psp",checkboxLabel:"I Authorize PSP Check",checkboxDescription:"I have read, understood, and agree to the PSP Disclosure and Authorization.",required:!0,children:e.jsx("p",{children:"I authorize access to the FMCSA Pre-Employment Screening Program (PSP) system."})})]}),e.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-4 space-y-4 mt-6 bg-white shadow-sm",children:[e.jsxs("legend",{className:"text-lg font-semibold text-gray-800 px-2 flex items-center gap-2",children:[e.jsx(fe,{size:20,className:"text-blue-600"})," Final Certification & Signature"]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded text-sm text-gray-700 leading-relaxed border border-gray-200 italic",children:e.jsxs("div",{className:"space-y-4 text-xs sm:text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"CERTIFICATION OF APPLICANT:"})}),e.jsx("p",{children:"I certify that this application was completed by me, and that all entries on it and information in it are true and complete to the best of my knowledge."}),e.jsx("p",{children:"I authorize you to make such investigations and inquiries of my personal, employment, financial or medical history and other related matters as may be necessary in arriving at an employment decision. (Generally, inquiries regarding medical history will be made only if and after a conditional offer of employment has been extended.) I hereby release employers, schools, health care providers and other persons from all liability in responding to inquiries and releasing information in connection with my application."}),e.jsx("p",{children:"In the event of employment, I understand that false or misleading information given in my application or interview(s) may result in discharge. I understand, also, that I am required to abide by all rules and regulations of the Company."}),e.jsx("p",{children:"I understand that information I provide regarding current and/or previous employers may be used, and those employer(s) will be contacted, for the purpose of investigating my safety performance history as required by 49 CFR 391.23(d) and (e). I understand that I have the right to:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Review information provided by previous employers;"}),e.jsx("li",{children:"Have errors in the information corrected by previous employers and for those previous employers to re-send the corrected information to the prospective employer; and"}),e.jsx("li",{children:"Have a rebuttal statement attached to the alleged erroneous information, if the previous employer(s) and I cannot agree on the accuracy of the information."})]})]})}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsxs("label",{className:"block text-sm font-bold text-gray-700",children:["Applicant Signature (Draw Below) ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`relative bg-white border-2 border-dashed rounded-xl overflow-hidden h-40 transition-all duration-300 ${a?"border-green-500 bg-gray-100":"border-blue-200 group-hover:border-blue-400"}`,children:[e.jsx("canvas",{ref:r,id:"signature-canvas",className:`w-full h-full cursor-crosshair ${a?"pointer-events-none opacity-40":""}`,style:{touchAction:"none"}}),a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:e.jsxs("div",{className:"bg-green-600 text-white px-6 py-2 rounded-full shadow-lg flex items-center gap-2 font-bold text-sm tracking-wide",children:[e.jsx(Y,{size:18})," Signature Saved & Locked"]})})]}),e.jsx("div",{className:"flex gap-4 mt-4",children:a?e.jsxs("button",{type:"button",onClick:N,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl text-sm font-bold transition-all active:scale-95 border border-gray-200",children:[e.jsx(qe,{size:18})," Clear / Re-draw Signature"]}):e.jsxs("button",{type:"button",onClick:w,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-bold shadow-md shadow-blue-100 transition-all active:scale-95",children:[e.jsx(ve,{size:18})," Save Signature"]})})]}),e.jsxs("div",{className:"flex items-start p-4 bg-blue-50/30 border border-blue-100 rounded-xl mt-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("input",{id:"final-certification",type:"checkbox",checked:b,onChange:f,className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-1 cursor-pointer"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"final-certification",className:"font-bold text-gray-900 cursor-pointer block",children:"I Certify and Agree"}),e.jsx("p",{className:"text-gray-600 mt-1 leading-relaxed",children:"I certify that this application was completed by me, and that all entries on it and information in it are true and complete to the best of my knowledge."})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-8",children:[e.jsx("button",{type:"button",onClick:()=>c("back"),className:"px-10 py-3.5 bg-white border border-gray-300 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition-all active:scale-95 shadow-sm",children:"Back"}),e.jsx("button",{type:"submit",onClick:d,disabled:!b||!a||l||h,className:"px-10 py-3.5 bg-green-600 text-white font-bold rounded-xl shadow-lg shadow-green-100 hover:bg-green-700 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center gap-2 transition-all active:scale-95",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:20})," Submit Full Application"]})})]})]})};function Xe({questions:s=[],formData:t={},updateFormData:c,onNavigate:d,handleFileUpload:l}){if(!s||s.length===0)return e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No additional questions for this company."});const h=(r,a)=>{c(r,a)},p=(r,a)=>{const x=t[r]||[],b=Array.isArray(x)?x:[],w=b.includes(a)?b.filter(N=>N!==a):[...b,a];c(r,w)},n=r=>{const a=t[r.key]||"",x="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all";switch(r.type){case"paragraph":case"textarea":return e.jsx("textarea",{className:x,rows:4,value:a,onChange:o=>h(r.key,o.target.value),placeholder:r.placeholder||"Enter your response...",required:r.required});case"multipleChoice":case"radio":return e.jsx("div",{className:"space-y-2",children:(r.options||[]).map((o,v)=>{const S=typeof o=="string"?o:o.value,m=typeof o=="string"?o:o.label;return e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:r.key,checked:a===S,onChange:()=>h(r.key,S),className:"w-4 h-4 text-blue-600",required:r.required}),e.jsx("span",{className:"text-gray-700",children:m})]},v)})});case"checkboxes":const b=Array.isArray(a)?a:[];return e.jsx("div",{className:"space-y-2",children:(r.options||[]).map((o,v)=>{const S=typeof o=="string"?o:o.value,m=typeof o=="string"?o:o.label,i=b.includes(S);return e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:()=>p(r.key,S),className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-gray-700",children:m})]},v)})});case"dropdown":case"select":return e.jsxs("select",{className:x,value:a,onChange:o=>h(r.key,o.target.value),required:r.required,children:[e.jsx("option",{value:"",children:"Select an option..."}),(r.options||[]).map((o,v)=>{const S=typeof o=="string"?o:o.value,m=typeof o=="string"?o:o.label;return e.jsx("option",{value:S,children:m},v)})]});case"date":return e.jsxs("div",{className:"relative",children:[e.jsx(Q,{size:18,className:"absolute left-3 top-3.5 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",className:`${x} pl-10`,value:a,onChange:o=>h(r.key,o.target.value),required:r.required})]});case"time":return e.jsxs("div",{className:"relative",children:[e.jsx(Z,{size:18,className:"absolute left-3 top-3.5 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"time",className:`${x} pl-10`,value:a,onChange:o=>h(r.key,o.target.value),required:r.required})]});case"number":return e.jsx("input",{type:"number",className:x,value:a,onChange:o=>h(r.key,o.target.value),placeholder:r.placeholder,required:r.required});case"fileUpload":return e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 bg-gray-50 text-center hover:bg-gray-100 hover:border-blue-400 transition-all cursor-pointer",children:[e.jsx("input",{type:"file",id:`file-${r.key}`,className:"hidden",required:r.required&&!a,accept:r.accept||"image/*,application/pdf",onChange:o=>{const v=o.target.files[0];v&&l&&l(r.key,v),h(r.key,v?.name||"")}}),e.jsxs("label",{htmlFor:`file-${r.key}`,className:"cursor-pointer flex flex-col items-center",children:[e.jsx(G,{size:28,className:"text-blue-500 mb-2"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Click to upload file"}),e.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PDF, PNG, JPG accepted"}),a&&e.jsxs("span",{className:"text-xs text-green-600 mt-2 font-medium",children:[" Selected: ",typeof a=="string"?a:a.name]})]})]});case"linearScale":const f=r.min||1,w=r.max||5,N=Array.from({length:w-f+1},(o,v)=>f+v);return e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 max-w-md mx-auto",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px] text-right",children:r.minLabel||"Poor"}),e.jsx("div",{className:"flex gap-3 flex-1 justify-center",children:N.map(o=>e.jsxs("label",{className:"flex flex-col items-center gap-1.5 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:r.key,value:o,checked:Number(a)===o,onChange:v=>h(r.key,Number(v.target.value)),required:r.required,className:"w-5 h-5 text-blue-600 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:`text-xs font-medium ${Number(a)===o?"text-blue-600":"text-gray-500"}`,children:o})]},o))}),e.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px]",children:r.maxLabel||"Excellent"})]})});default:return e.jsx("input",{type:"text",className:x,value:a,onChange:o=>h(r.key,o.target.value),placeholder:r.placeholder||"Enter your response...",required:r.required})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Additional Questions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please answer the following questions from the employer."})]}),s.map((r,a)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm",children:[e.jsxs("label",{className:"block mb-3",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-bold text-gray-700",children:[r.label,r.required&&e.jsx("span",{className:"text-red-500",children:"*"}),r.dotRequired&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-semibold",children:[e.jsx(pe,{size:10})," DOT"]})]}),r.helpText&&e.jsx("span",{className:"block text-xs text-gray-500 mt-1",children:r.helpText})]}),n(r)]},r.key||a)),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{onClick:()=>d("prev"),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Back"}),e.jsx("button",{onClick:()=>d("next"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium shadow-md transition-all",children:"Continue"})]})]})}const M=[{title:"Step 1: Personal Information",component:$e},{title:"Step 2: Qualification Information",component:Re},{title:"Step 3: License Information",component:ze},{title:"Step 4: Motor Vehicle Record",component:Me},{title:"Step 5: Accident History",component:Le},{title:"Step 6: Employment History",component:Oe},{title:"Step 7: General Questions",component:He},{title:"Step 8: Review Information",component:We},{title:"Step 9: Agreements & Signature",component:Ye}],ns=({step:s,formData:t,updateFormData:c,onNavigate:d,onPartialSubmit:l,onFinalSubmit:h,submissionStatus:p,handleFileUpload:n,isUploading:r,customQuestions:a=[]})=>{const x=E.useMemo(()=>{if(!a||a.length===0)return M.map((u,y)=>({...u,title:`Step ${y+1} of ${M.length}: ${u.title.split(": ")[1]}`}));const m=M.length+1,i=[];for(let u=0;u<M.length;u++){const y=M[u].title.split(": ")[1];u<7?i.push({...M[u],title:`Step ${u+1} of ${m}: ${y}`}):u===7?(i.push({title:`Step 8 of ${m}: Additional Questions`,component:Xe,isCustomStep:!0,customQuestions:a}),i.push({...M[u],title:`Step 9 of ${m}: ${y}`})):u===8&&i.push({...M[u],title:`Step 10 of ${m}: ${y}`})}return i},[a]),b=E.useMemo(()=>(s+1)/x.length*100,[s,x.length]),f=x[s],w=f?.title||"Application Step",N=f?.component,o=s===x.length-1;E.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),o&&setTimeout(()=>{K(),F()},100)},[s,o]);const v=p==="success"?"bg-green-600":p==="error"?"bg-red-600":"bg-blue-600",S=p?"100%":`${b}%`;return N?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:[e.jsx("h2",{id:"step-title",className:"text-lg font-semibold text-gray-700",children:w}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-3",children:e.jsx("div",{id:"progress-bar",className:`h-2.5 rounded-full transition-all duration-300 ${v}`,style:{width:S}})})]}),e.jsx("div",{id:"step-content-wrapper",className:"p-6 sm:p-8",children:e.jsx("form",{id:"driver-form",onSubmit:m=>m.preventDefault(),children:f?.isCustomStep?e.jsx(N,{questions:f.customQuestions,formData:t,updateFormData:c,onNavigate:d}):e.jsx(N,{formData:t,updateFormData:c,onNavigate:d,onPartialSubmit:l,onFinalSubmit:h,handleFileUpload:n,isUploading:r})})})]}):e.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error: Step ",s+1," not found."]})};export{ns as S};
